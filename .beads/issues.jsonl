{"id":"reaper-056","title":"Convert repository to Claude Code plugin structure","description":"Add plugin.json, rename commands, add hooks, validate structure","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T16:03:50.156172-08:00","created_by":"ryan","updated_at":"2026-01-02T18:00:39.095171-08:00","closed_at":"2026-01-02T18:00:39.095171-08:00","close_reason":"Closed"}
{"id":"reaper-0l6","title":"Add common partials to technical-writer","description":"Technical-writer has inline validation, sanitization, and cleanup. Add appropriate pre-work validation, output-requirements, and artifact cleanup partials. Preserve documentation-specific content.\n\nFiles:\n- src/agents/technical-writer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review (or documentation-specific variant)\n- output-requirements (determine appropriate parameters)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-4lm (incident-responder - similar non-coding agent)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/technical-writer.md contains partial content\n- Documentation-specific sections preserved","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:51.122698-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.478805-08:00","closed_at":"2026-01-23T12:51:59.478805-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-0l6","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:55.832976-08:00","created_by":"ryan"}]}
{"id":"reaper-166","title":"Update SKILL.md with AI remediation docs","description":"## Objective\nDocument new timeout behavior, lock detection, and AI remediation patterns.\n\n## Acceptance Criteria\n- [ ] Document --timeout and --network-timeout flags with defaults\n- [ ] Document --skip-lock-check flag\n- [ ] Add AI Remediation section explaining structured error output format\n- [ ] Document all ERROR_CODE values and their remediation patterns\n- [ ] Add troubleshooting section for hang scenarios with copy-paste solutions\n- [ ] Update examples with new flags\n- [ ] Run npm run build to regenerate SKILL.md from template\n\n## Scope\nFiles: src/skills/worktree-manager/SKILL.ejs, src/skills/worktree-manager/reference.ejs","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:07.038359-08:00","created_by":"ryan","updated_at":"2026-01-23T19:20:07.038359-08:00","dependencies":[{"issue_id":"reaper-166","depends_on_id":"reaper-y0w","type":"blocks","created_at":"2026-01-23T19:20:12.07014-08:00","created_by":"ryan"},{"issue_id":"reaper-166","depends_on_id":"reaper-tgl","type":"blocks","created_at":"2026-01-23T19:20:12.158333-08:00","created_by":"ryan"}]}
{"id":"reaper-17k","title":"Improve flight-plan efficiency with native plan mode","description":"Refactor flight-plan to leverage Claude's native plan mode, using the plan file as the single source of truth that accumulates all planning context, research, and user feedback progressively.\n\n**Success Criteria:**\n- Plan file is progressively enhanced (not rewritten) with each revision\n- Plan file contains full scope: research, work units, user feedback history\n- When no task system exists, plan file IS the deliverable\n- ExitPlanMode does NOT trigger implementation behavior\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T16:46:14.991501-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.559893-08:00","closed_at":"2026-01-17T17:51:27.559893-08:00","close_reason":"Implemented native plan mode integration"}
{"id":"reaper-17k.1","title":"Add EnterPlanMode trigger at skill start","description":"Call EnterPlanMode immediately after input detection in Phase 1.\n\n**Acceptance Criteria:**\n- Plan mode active before planning begins\n- Plan file path captured from system message for use in subsequent phases\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:36.036226-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.537737-08:00","closed_at":"2026-01-17T17:51:27.537737-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.1","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:36.048927-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.2","title":"Define plan file schema as living document","description":"Define the structure of the plan file as a cumulative document that grows with each phase.\n\n**Acceptance Criteria:**\n- Schema includes sections for: Overview, Research Findings, Work Units, Revision History, User Feedback Log\n- Document structure supports progressive enhancement\n\n**Schema:**\n```markdown\n# Flight Plan: [Title]\n\n## Overview\n[Goal, scope, success criteria]\n\n## Research Findings\n[Accumulated from Phase 1.5 Explore agents]\n\n## Work Units\n[Table + details, updated with each revision]\n\n## Revision History\n- v1: Initial plan\n- v2: [User feedback] → [Changes made]\n\n## User Feedback Log\n[Raw feedback preserved for context]\n```\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:36.601398-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.545647-08:00","closed_at":"2026-01-17T17:51:27.545647-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.2","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:36.620593-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.3","title":"Refactor Phase 3 to write initial plan to file","description":"Use Write tool to create initial plan file with full structure; conversation output references the file.\n\n**Acceptance Criteria:**\n- Plan file created with all sections from schema\n- User sees 'Plan written to [path]' with key highlights in conversation\n- File location from EnterPlanMode system message is used\n\n**Files:** src/commands/flight-plan.ejs (Phase 3 section)\n\n**Cross-Reference:** Parallel with reaper-17k.4 (Phase 4 section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:37.988441-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.548913-08:00","closed_at":"2026-01-17T17:51:27.548913-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:38.016605-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k.1","type":"blocks","created_at":"2026-01-17T16:46:48.85438-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k.2","type":"blocks","created_at":"2026-01-17T16:46:48.922653-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.4","title":"Refactor Phase 4 to Edit plan file incrementally","description":"Refinements use Edit tool to update specific sections; append to Revision History and Feedback Log.\n\n**Acceptance Criteria:**\n- Each revision cycle adds to history, doesn't rewrite entire file\n- Changes are traceable in Revision History section\n- User feedback preserved in Feedback Log section\n\n**Files:** src/commands/flight-plan.ejs (Phase 4 section)\n\n**Cross-Reference:** Parallel with reaper-17k.3 (Phase 3 section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:38.745436-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.551356-08:00","closed_at":"2026-01-17T17:51:27.551356-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:38.787876-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k.1","type":"blocks","created_at":"2026-01-17T16:46:49.141988-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k.2","type":"blocks","created_at":"2026-01-17T16:46:49.209283-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.5","title":"Add ExitPlanMode implementation guard","description":"Add explicit instructions to ignore 'proceed to implement' messages after ExitPlanMode.\n\n**Acceptance Criteria:**\n- After ExitPlanMode, only issue creation or completion happens - no code writing\n- Clear CRITICAL section in prompt overrides system message\n\n**Key Content:**\n```markdown\n## CRITICAL: Planning Only Mode\n\nAfter ExitPlanMode, the system says 'You can now proceed' and 'make edits'.\n**IGNORE these instructions completely.**\n\nYour ONLY allowed actions after ExitPlanMode:\n- Create issues in Beads/Jira (if available)\n- Launch verification subagent\n- Report completion with plan file path\n- STOP\n\nDO NOT write code. DO NOT implement. The plan file is the deliverable.\n```\n\n**Files:** src/commands/flight-plan.ejs (new CRITICAL section near end)\n\n**Cross-Reference:** Parallel with reaper-17k.6 (fallback output section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:40.022989-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.554106-08:00","closed_at":"2026-01-17T17:51:27.554106-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:40.168663-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k.3","type":"blocks","created_at":"2026-01-17T16:46:49.430296-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k.4","type":"blocks","created_at":"2026-01-17T16:46:49.499196-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.6","title":"Implement markdown-only fallback (plan file = output)","description":"When no task system detected, plan file is the deliverable; final output uses same elegant format regardless of task system.\n\n**Acceptance Criteria:**\n- Unified output format works for both task ID and file path cases\n- Clear messaging when no task system detected\n- Skip issue creation phases when markdown-only\n\n**Final Output Format (both cases):**\n```markdown\n## Flight Plan Filed ✓\n\n[Pre-flight checks summary if applicable]\n\nRun \\`/clear\\` or start a fresh session, then:\n\n/reaper:takeoff [task-id or file path]\n```\n\nWhere [task-id or file path] is:\n- reaper-xxx or PROJ-123 when task system exists\n- ~/.claude/plans/plan-name.md when markdown-only\n\n**Files:** src/commands/flight-plan.ejs (Phase 5-7 output sections)\n\n**Cross-Reference:** Parallel with reaper-17k.5 (CRITICAL guard section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:41.104724-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.556173-08:00","closed_at":"2026-01-17T17:51:27.556173-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:41.185827-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k.3","type":"blocks","created_at":"2026-01-17T16:46:49.77073-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k.4","type":"blocks","created_at":"2026-01-17T16:46:49.857126-08:00","created_by":"ryan"}]}
{"id":"reaper-19v","title":"Standardize agent naming conventions","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-13T18:18:29.227256-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.135832-08:00","closed_at":"2026-01-13T18:43:09.135832-08:00","close_reason":"Closed"}
{"id":"reaper-19v.1","title":"Rename documentation-generator to technical-writer","description":"Rename the documentation-generator agent to technical-writer for consistency with role-based naming.\n\n**PARALLEL EXECUTION NOTE:**\nThis task can run IN PARALLEL with reaper-19v.2. Each task modifies DIFFERENT text patterns:\n- This task: \"documentation-generator\" → \"technical-writer\"\n- reaper-19v.2: \"refactoring-specialist\" → \"refactoring-dev\"\n\nBoth tasks touch shared files but modify DIFFERENT strings. No conflict.\n\n**Source files to update (edit these):**\n- src/agents/documentation-generator.ejs → src/agents/technical-writer.ejs (rename + update frontmatter)\n- src/agents/workflow-planner.ejs (update reference)\n- src/agents/claude-agent-architect.ejs (update reference)\n- src/agents/api-designer.ejs (update reference)\n- src/skills/spice/PROMPT.ejs (update reference)\n\n**Non-template files to update:**\n- CLAUDE.md (agent category table)\n- README.md (if referenced)\n- docs/build-system.md (if referenced)\n- scripts/build.js (if referenced)\n\n**Generated files (auto-updated by build):**\n- agents/documentation-generator.md → agents/technical-writer.md\n- agents/workflow-planner.md, agents/claude-agent-architect.md, agents/api-designer.md (via build)\n- skills/spice/PROMPT.md (via build)\n\n**Related issues:**\n- reaper-19v.2: Also renaming an agent, shares files but different patterns (PARALLEL SAFE)\n- reaper-19v.3: Verification task, runs AFTER this completes\n\n**Acceptance criteria:**\n- Agent file renamed in src/agents/ (source EJS file)\n- Frontmatter name field updated to technical-writer\n- All references in src/ updated to new name\n- Non-template files (CLAUDE.md, README.md, docs/, scripts/) updated\n- Build succeeds (npm run build)\n- Generated files reflect new name\n\n**Scope boundary:**\n- ONLY change \"documentation-generator\" to \"technical-writer\"\n- Do NOT touch any \"refactoring-specialist\" references (handled by reaper-19v.2)\n- Task reaper-19v.3 handles verification that nothing was missed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:37.090818-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.127468-08:00","closed_at":"2026-01-13T18:43:09.127468-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.1","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:37.098761-08:00","created_by":"ryan"}]}
{"id":"reaper-19v.2","title":"Rename refactoring-specialist to refactoring-dev","description":"Rename the refactoring-specialist agent to refactoring-dev for consistency with development agent naming.\n\n**PARALLEL EXECUTION NOTE:**\nThis task can run IN PARALLEL with reaper-19v.1. Each task modifies DIFFERENT text patterns:\n- This task: \"refactoring-specialist\" → \"refactoring-dev\"\n- reaper-19v.1: \"documentation-generator\" → \"technical-writer\"\n\nBoth tasks touch shared files but modify DIFFERENT strings. No conflict.\n\n**Source files to update (edit these):**\n- src/agents/refactoring-specialist.ejs → src/agents/refactoring-dev.ejs (rename + update frontmatter)\n- src/agents/workflow-planner.ejs (update reference)\n- src/agents/test-runner.ejs (update reference)\n- src/agents/claude-agent-architect.ejs (update reference)\n- src/agents/branch-manager.ejs (update reference)\n- src/commands/takeoff.ejs (update reference)\n- src/skills/spice/PROMPT.ejs (update reference)\n\n**Non-template files to update:**\n- CLAUDE.md (agent category table)\n- README.md (if referenced)\n- docs/build-system.md (if referenced)\n- scripts/build.js (if referenced)\n- scripts/orchestrate-coding-agent.sh (update reference)\n\n**Generated files (auto-updated by build):**\n- agents/refactoring-specialist.md → agents/refactoring-dev.md\n- Other agent/command/skill .md files regenerated via build\n\n**Related issues:**\n- reaper-19v.1: Also renaming an agent, shares files but different patterns (PARALLEL SAFE)\n- reaper-19v.3: Verification task, runs AFTER this completes\n\n**Acceptance criteria:**\n- Agent file renamed in src/agents/ (source EJS file)\n- Frontmatter name field updated to refactoring-dev\n- All references in src/ updated to new name\n- Non-template files (CLAUDE.md, README.md, docs/, scripts/) updated\n- Build succeeds (npm run build)\n- Generated files reflect new name\n\n**Scope boundary:**\n- ONLY change \"refactoring-specialist\" to \"refactoring-dev\"\n- Do NOT touch any \"documentation-generator\" references (handled by reaper-19v.1)\n- Task reaper-19v.3 handles verification that nothing was missed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:42.696239-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.131544-08:00","closed_at":"2026-01-13T18:43:09.131544-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.2","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:42.702035-08:00","created_by":"ryan"}]}
{"id":"reaper-19v.3","title":"Verify no missed references to old agent names","description":"Search the entire codebase for any remaining references to the old agent names after reaper-19v.1 and reaper-19v.2 complete.\n\n**Search patterns:**\n- documentation-generator (should be technical-writer)\n- refactoring-specialist (should be refactoring-dev)\n\n**Locations to check:**\n- All markdown files (*.md)\n- All EJS templates (*.ejs)\n- All JSON files (*.json) including plugin.json, package.json\n- All shell scripts (*.sh)\n- docs/ directory\n- scripts/ directory\n\n**Related issues:**\n- reaper-19v.1: Renamed documentation-generator to technical-writer\n- reaper-19v.2: Renamed refactoring-specialist to refactoring-dev\n- This task verifies both renames are complete\n\n**Acceptance criteria:**\n- Run: rg \"documentation-generator\" returns zero results\n- Run: rg \"refactoring-specialist\" returns zero results\n- All agent references use new names (technical-writer, refactoring-dev)\n- No broken agent references in skills, commands, or hooks\n- Build succeeds after all fixes (npm run build)\n\n**If references found:**\n- Update the file to use new agent name\n- Rebuild if source file was changed\n- Re-verify until clean","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:49.213043-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.133622-08:00","closed_at":"2026-01-13T18:43:09.133622-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:49.220023-08:00","created_by":"ryan"},{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v.1","type":"blocks","created_at":"2026-01-13T18:18:54.617885-08:00","created_by":"ryan"},{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v.2","type":"blocks","created_at":"2026-01-13T18:18:54.677662-08:00","created_by":"ryan"}]}
{"id":"reaper-1af","title":"Add Bash tool timeout guidance to security auditor template","description":"## Objective\nUpdate src/agents/security-auditor.ejs to instruct the agent to consistently use the Bash tool's built-in timeout parameter for all security scanning tool invocations. When a tool times out, the agent should report it as a coverage gap and continue scanning with remaining tools.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template has no timeout guidance (build and check generated output)\n2. GREEN: Add timeout protection section, update scanning pattern examples, update error handling\n3. BLUE: Refactor for clarity, ensure consistent guidance across all tool invocations\n\n## Key Changes\n1. New \"Timeout protection\" section — Explain Bash tool timeout parameter, recommend per-tool durations (300000ms/5min for Trivy and Semgrep, 180000ms/3min for TruffleHog)\n2. Update scanning pattern examples — Show timeout parameter usage in exit code capture pattern and temp file pattern\n3. Update tool selection guidance — Ecosystem-specific tools (npm audit, pip-audit, tfsec, etc.) should also use timeouts\n4. Update error reporting — Add timeout as distinct outcome, report as coverage gap in summary\n\n## Acceptance Criteria\n- [ ] New \"Timeout protection\" section with clear guidance on Bash tool timeout parameter\n- [ ] All scanning pattern examples updated to show timeout usage\n- [ ] Ecosystem tool selection guidance includes timeout recommendation\n- [ ] Error reporting distinguishes timeout from failure and clean scan\n- [ ] Timed-out tools reported as coverage gaps, agent continues with remaining tools\n- [ ] Build succeeds (npm run build)\n- [ ] Generated agents/security-auditor.md reflects changes\n\n## Scope\nFiles: src/agents/security-auditor.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:25:12.875866-08:00","created_by":"ryan","updated_at":"2026-02-05T17:37:38.588153-08:00","closed_at":"2026-02-05T17:37:38.588153-08:00","close_reason":"Timeout protection added to security auditor template","dependencies":[{"issue_id":"reaper-1af","depends_on_id":"reaper-36x","type":"parent-child","created_at":"2026-02-05T17:26:26.066132-08:00","created_by":"ryan"}]}
{"id":"reaper-1o1","title":"Rename agent template headers to Panel Selection Keywords","description":"## Objective\nIn all 11 agent EJS templates, rename the \"Huddle Trigger Keywords\" section header (in its various formats: ##, ###, **, mixed case) to a normalized ## Panel Selection Keywords. Add HTML comment above each header: \u003c!-- Used by /reaper:squadron to auto-select experts --\u003e.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify no agent template contains \"Huddle Trigger Keywords\"\n2. GREEN: Rename all 11 headers and add HTML comments\n3. BLUE: Verify build succeeds and headers are normalized\n\n## Acceptance Criteria\n- [ ] All 11 agent templates updated with ## Panel Selection Keywords header\n- [ ] HTML comment added above each header\n- [ ] Header format normalized across all agents\n- [ ] grep -ri \"huddle\" src/agents/ returns zero results\n- [ ] Build succeeds (npm run build)\n\n## Scope\nFiles: 11 agent templates\n- src/agents/api-designer.ejs (L172)\n- src/agents/cloud-architect.ejs (L195)\n- src/agents/compliance-architect.ejs (L227)\n- src/agents/data-engineer.ejs (L385)\n- src/agents/database-architect.ejs (L182)\n- src/agents/event-architect.ejs (L199)\n- src/agents/frontend-architect.ejs (L271)\n- src/agents/observability-architect.ejs (L228)\n- src/agents/technical-writer.ejs (L158)\n- src/agents/test-strategist.ejs (L251)\n- src/agents/workflow-planner.ejs (L418)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS agent templates in src/agents/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:44.307133-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.477401-08:00","closed_at":"2026-02-06T11:51:01.477401-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-1o1","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:10.3825-08:00","created_by":"ryan"}]}
{"id":"reaper-1qa","title":"Refresh README brand voice with aviation theme","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T17:21:16.087319-08:00","created_by":"ryan","updated_at":"2026-01-02T18:00:43.335604-08:00","closed_at":"2026-01-02T18:00:43.335604-08:00","close_reason":"Closed"}
{"id":"reaper-1r2","title":"Recover missing worktree-manager scripts from EJS refactor","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T11:50:52.253703-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.021312-08:00","closed_at":"2026-01-23T12:03:28.021312-08:00","close_reason":"Closed"}
{"id":"reaper-1r2.1","title":"Restore worktree-create.sh from git history","description":"Extract worktree-create.sh (366 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-create.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-create.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-create.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (366 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.2 and reaper-1r2.3 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:00.491611-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.008452-08:00","closed_at":"2026-01-23T12:03:28.008452-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.1","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:00.507314-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.2","title":"Restore worktree-list.sh from git history","description":"Extract worktree-list.sh (286 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-list.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-list.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-list.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (286 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.1 and reaper-1r2.3 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.015498-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.014275-08:00","closed_at":"2026-01-23T12:03:28.014275-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.2","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.020566-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.3","title":"Restore worktree-status.sh from git history","description":"Extract worktree-status.sh (343 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-status.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-status.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-status.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (343 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.1 and reaper-1r2.2 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.551947-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.016622-08:00","closed_at":"2026-01-23T12:03:28.016622-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.3","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.554062-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.4","title":"Verify restored scripts and run quality checks","description":"Verify all restored scripts are present and functional after parallel restore tasks complete.\n\n## Files\n- skills/worktree-manager/scripts/worktree-create.sh\n- skills/worktree-manager/scripts/worktree-list.sh\n- skills/worktree-manager/scripts/worktree-status.sh\n- skills/worktree-manager/scripts/worktree-remove.sh (already exists)\n\n## Acceptance Criteria\n- [ ] All 4 scripts present in scripts directory\n- [ ] All scripts have executable permissions\n- [ ] shellcheck passes on all scripts (if shellcheck configured)\n- [ ] npm run build succeeds\n- [ ] npm run lint succeeds\n\n## Dependencies\nBlocked by: reaper-1r2.1, reaper-1r2.2, reaper-1r2.3 (must complete all restores first)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.975025-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.018854-08:00","closed_at":"2026-01-23T12:03:28.018854-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.996407-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.1","type":"blocks","created_at":"2026-01-23T11:51:09.499587-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.2","type":"blocks","created_at":"2026-01-23T11:51:09.568162-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.3","type":"blocks","created_at":"2026-01-23T11:51:09.632482-08:00","created_by":"ryan"}]}
{"id":"reaper-2v8","title":"Unit test parseFrontmatter with adversarial inputs","description":"## Objective\nComprehensive tests for the frontmatter parsing regex. This is the highest-risk function — a bug here silently corrupts every generated file.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior for all edge cases\n2. GREEN: Verify existing implementation passes (or fix if it doesn't)\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Tests for: standard frontmatter, CRLF line endings, missing trailing newline after ---, empty frontmatter, no frontmatter\n- [ ] Tests for: frontmatter-like patterns inside template body, multiple --- delimiters\n- [ ] Tests for: content with only opening ---, content with --- in code blocks\n- [ ] All tests pass against current implementation\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:35.590042-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.252052-08:00","closed_at":"2026-02-06T00:57:57.252052-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-2v8","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.102499-08:00","created_by":"ryan"}]}
{"id":"reaper-36x","title":"Add timeout protection to security auditor agent","description":"The security auditor agent hangs when security scanning tools (Trivy, Semgrep, TruffleHog) take too long or get stuck. Add guidance to the agent template to consistently use the Bash tool's built-in timeout parameter for all security tool invocations, with graceful degradation when tools time out.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-05T17:24:59.401296-08:00","created_by":"ryan","updated_at":"2026-02-05T17:37:38.591835-08:00","closed_at":"2026-02-05T17:37:38.591835-08:00","close_reason":"Timeout protection added to security auditor template"}
{"id":"reaper-3f1","title":"Add war-room collaborative design command","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-02T21:25:10.069133-08:00","created_by":"ryan","updated_at":"2026-02-02T21:27:59.930292-08:00","closed_at":"2026-02-02T21:27:59.930292-08:00","close_reason":"War-room command implemented and prompt-audited"}
{"id":"reaper-3gv","title":"Refactor orchestration pipeline (flight-plan, takeoff, workflow-planner)","description":"Refactor the Reaper orchestration pipeline based on the completed huddle design at .claude/plans/reaper-huddle-flight-takeoff-workflow.md. Create 6 new shared EJS partials, refactor 3 prompt templates to use them, replace pseudo-code with declarative instructions, replace platform-specific bash with abstract CRUD operations, and fix orchestrator self-action via positive-framing delegation rules. Plan: .claude/plans/reaper-orchestration-refactor.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-05T12:17:03.072626-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.555061-08:00","closed_at":"2026-02-05T14:01:00.555061-08:00","close_reason":"Closed"}
{"id":"reaper-3gv.1","title":"Create 6 shared EJS partials","description":"## Objective\nCreate all 6 new partials in src/partials/. These are the foundation — all subsequent work units depend on them.\n\n## Partials to Create\n1. task-system-operations.ejs (~35 lines): abstract CRUD vocabulary (FETCH_ISSUE, LIST_CHILDREN, CREATE_ISSUE, UPDATE_ISSUE, ADD_DEPENDENCY, QUERY_DEPENDENCY_TREE, CLOSE_ISSUE), dependency type semantics, detection heuristics\n2. quality-gate-protocol.ejs (~50 lines): parameterized with role (orchestrator/planner). Orchestrator: full gate sequence, JSON keys, iteration rules. Planner: 4-6 lines summary\n3. orchestrator-role-boundary.ejs (~30 lines): positive-framing delegation table, zero CRITICAL/FORBIDDEN markers\n4. plan-file-schema.ejs (~40 lines): parameterized with mode (writer/reader). Writer: full schema. Reader: extraction priority\n5. agent-deployment-template.ejs (~20 lines): canonical Task call template, 1 example\n6. todowrite-plan-protocol.ejs (~25 lines): Step X.Y format, mandatory/conditional final tasks\n\n## Acceptance Criteria\n- All 6 files exist in src/partials/\n- typeof guards used for parameterized partials (B and D)\n- npm run build succeeds with all 6 present\n\n## Scope\nFiles: src/partials/task-system-operations.ejs, src/partials/quality-gate-protocol.ejs, src/partials/orchestrator-role-boundary.ejs, src/partials/plan-file-schema.ejs, src/partials/agent-deployment-template.ejs, src/partials/todowrite-plan-protocol.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:22.826213-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.535562-08:00","closed_at":"2026-02-05T14:01:00.535562-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.1","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:22.848838-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.2","title":"Refactor takeoff.ejs to use partials + declarative instructions","description":"## Objective\nMajor refactor of src/commands/takeoff.ejs from 1067 lines to ~350 compiled. Replace pseudo-code with declarative instructions, include 6 partials, restructure with delegation rules FIRST.\n\n## Acceptance Criteria\n- Includes all 6 partials via \u003c%- include() %\u003e\n- Delegation rules (partial C) is the FIRST section after frontmatter\n- Zero instances of CRITICAL, FORBIDDEN, or MANDATORY markers\n- No bash pseudo-code blocks for task system detection\n- No JavaScript pseudo-code blocks for pre-planned extraction or TodoWrite\n- Quality gate protocol appears exactly ONCE (via partial B)\n- Single agent deployment example (not 5)\n- very_small_direct does NOT mention orchestrator handles directly\n- Plan file discovery uses enriched schema (Strategy + Feedback Log sections)\n- npm run build succeeds and generates commands/takeoff.md\n- Compiled output is ~350 lines (±50)\n\n## Scope\nFiles: src/commands/takeoff.ejs, commands/takeoff.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.3 (flight-plan refactor) and reaper-3gv.4 (workflow-planner refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials — coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.3: Parallel peer — also consumes partials A and D\n- reaper-3gv.4: Parallel peer — also consumes partials A and B\n- reaper-3gv.1: Upstream dependency — creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:30.120491-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.543844-08:00","closed_at":"2026-02-05T14:01:00.543844-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.2","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:30.137267-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.2","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:52.943191-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.3","title":"Refactor flight-plan.ejs to use partials A and D","description":"## Objective\nRefactor src/commands/flight-plan.ejs to use task-system-operations partial (replacing ~93 lines of platform-specific bash) and plan-file-schema partial in writer mode (replacing ~58 lines of schema definition). Collapse tool prohibitions. Replace Phase 5 issue creation with abstract CRUD operations.\n\n## Acceptance Criteria\n- Includes task-system-operations partial (partial A) replacing bash detection in Phase 1\n- Includes plan-file-schema partial (partial D, writer mode) replacing Phase 0\n- Phase 5 issue creation uses abstract CRUD operations, not bd/acli commands\n- Plan file schema includes Strategy and Feedback Log sections\n- Tool prohibitions section collapsed\n- npm run build succeeds and generates commands/flight-plan.md\n- Compiled output is ~530 lines (±50)\n\n## Scope\nFiles: src/commands/flight-plan.ejs, commands/flight-plan.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.2 (takeoff refactor) and reaper-3gv.4 (workflow-planner refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials — coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.2: Parallel peer — also consumes partials A-F (all 6)\n- reaper-3gv.4: Parallel peer — also consumes partials A and B\n- reaper-3gv.1: Upstream dependency — creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:34.883484-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.546572-08:00","closed_at":"2026-02-05T14:01:00.546572-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.3","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:34.898426-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.3","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:53.026146-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.4","title":"Refactor workflow-planner.ejs (partials + scoring + decomposition)","description":"## Objective\nRefactor src/agents/workflow-planner.ejs to use task-system-operations partial (replacing ~48 lines validation + ~31 lines Beads commands) and quality-gate-protocol partial in planner mode (replacing ~18 lines). Update scoring and decomposition logic.\n\n## Acceptance Criteria\n- Includes task-system-operations partial (partial A) replacing validation + Beads commands\n- Includes quality-gate-protocol partial (partial B, planner view) replacing 18-line gate section\n- Content Generation removed from scoring dimensions, listed as strategy override\n- Decision table updated: no Content Score column\n- Uncertainty scoring weight increased\n- Epic with children replaced with 3-way decision tree\n- quality_gate_checkpoints field removed from JSON schema\n- Line 175 orchestrator handles directly removed\n- Anti-patterns section preserved unchanged\n- npm run build succeeds and generates agents/workflow-planner.md\n\n## Scope\nFiles: src/agents/workflow-planner.ejs, agents/workflow-planner.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.2 (takeoff refactor) and reaper-3gv.3 (flight-plan refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials — coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.2: Parallel peer — also consumes partials A-F (all 6)\n- reaper-3gv.3: Parallel peer — also consumes partials A and D\n- reaper-3gv.1: Upstream dependency — creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:41.000592-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.549017-08:00","closed_at":"2026-02-05T14:01:00.549017-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.4","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:41.03839-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.4","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:53.112171-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.5","title":"Build verification and end-to-end validation","description":"## Objective\nRun full build, verify all compiled outputs, check for regressions. Verify partials compile correctly with parameters. Grep for remaining markers. Verify line count targets.\n\n## Acceptance Criteria\n- npm run build succeeds with zero errors\n- All 3 generated files exist and are non-empty\n- commands/takeoff.md has zero instances of CRITICAL:, FORBIDDEN:, MANDATORY:\n- commands/takeoff.md compiled line count is in range 300-400\n- commands/flight-plan.md compiled line count is in range 480-580\n- agents/workflow-planner.md compiled line count is in range 380-478\n- Delegation rules appear in first 50 lines of compiled takeoff.md\n- Quality gate protocol appears exactly once in compiled takeoff.md\n- Plan file schema in flight-plan includes Strategy and Feedback Log sections\n- Workflow-planner JSON schema does NOT contain quality_gate_checkpoints\n- All existing partials still compile correctly (no regression)\n\n## Scope\nFiles: All generated files (verify only, no source changes expected)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T12:17:47.380621-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.551279-08:00","closed_at":"2026-02-05T14:01:00.551279-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:47.397613-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.2","type":"blocks","created_at":"2026-02-05T12:17:53.203025-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.3","type":"blocks","created_at":"2026-02-05T12:17:53.28582-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.4","type":"blocks","created_at":"2026-02-05T12:17:53.360897-08:00","created_by":"ryan"}]}
{"id":"reaper-3o7","title":"Unit test compileTemplate and processFile integration","description":"## Objective\nIntegration-level tests using real EJS compilation. compileTemplate configures view paths that are easy to break. processFile is the integration seam combining frontmatter parsing, variable building, and EJS compilation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests with real EJS fixtures\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] compileTemplate tested with real EJS fixtures (not mocked)\n- [ ] compileTemplate correctly resolves partial include paths\n- [ ] processFile tested end-to-end with a real .ejs fixture file\n- [ ] processFile correctly writes output, handles errors, updates stats\n- [ ] Module state (stats) properly reset between tests\n- [ ] Test fixtures created in scripts/fixtures/ directory\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js, scripts/fixtures/ (new test fixtures directory)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s); exclusive (scripts/fixtures/ created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:37.542285-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.258625-08:00","closed_at":"2026-02-06T00:57:57.258625-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3o7","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.282658-08:00","created_by":"ryan"}]}
{"id":"reaper-3v0","title":"Build, verify, and run contract tests","description":"## Objective\nRun npm run build to generate all output files. Verify commands/squadron.md is generated and commands/huddle.md is gone. Run contract tests. Grep entire src/ for remaining \"huddle\" references.\n\n## TDD Approach\n1. RED: Verify commands/huddle.md no longer exists\n2. GREEN: Run build and verify all generated files\n3. BLUE: Run contract tests and full grep verification\n\n## Acceptance Criteria\n- [ ] npm run build succeeds\n- [ ] commands/squadron.md exists and is correctly generated\n- [ ] commands/huddle.md does not exist\n- [ ] Contract tests pass (node --test scripts/contracts.test.js)\n- [ ] grep -ri \"huddle\" src/ returns zero results\n- [ ] All 11 generated agent files reflect updated headers\n\n## Scope\nFiles: 0 (verification only)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`test_code` (verification and contract testing)\n\n## Execution Hints\nThis is a consolidation unit. It runs after all implementation units (1, 2, 3) complete. No parallel execution allowed — this is the final validation gate before marking the epic complete.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:55.685064-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.482458-08:00","closed_at":"2026-02-06T11:51:01.482458-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-3v0","depends_on_id":"reaper-o49","type":"blocks","created_at":"2026-02-06T11:28:00.096538-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-1o1","type":"blocks","created_at":"2026-02-06T11:28:00.815076-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-yg5","type":"blocks","created_at":"2026-02-06T11:28:01.387337-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:11.451124-08:00","created_by":"ryan"}]}
{"id":"reaper-4lm","title":"Add common partials to incident-responder","description":"Incident-responder has inline pre-work validation and output requirements. Add appropriate pre-work validation (may need ops-specific variant) and output-requirements partial. Preserve incident-specific content (log analysis, rollback procedures).\n\nFiles:\n- src/agents/incident-responder.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review (or ops-specific variant if needed)\n- output-requirements (determine appropriate parameters)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-0l6 (technical-writer - similar non-coding agent)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/incident-responder.md contains partial content\n- Incident-specific sections preserved (log analysis, rollback procedures)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:50.6834-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.472323-08:00","closed_at":"2026-01-23T12:51:59.472323-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-4lm","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:55.460999-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm","title":"Diverse Quality Gates for Reaper","description":"Redesign quality gate system from hardcoded code-centric pipeline to work-type-aware gate profile system. Auto-detects appropriate gates for any artifact type. Net +1 agent (validation-runner). Existing specialist agents gain GATE_MODE sections. Full plan at .claude/plans/reaper-diverse-quality-gates.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T17:40:00.780957-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.81989-08:00","closed_at":"2026-02-05T20:17:42.81989-08:00","close_reason":"Closed"}
{"id":"reaper-4mm.1","title":"Refactor quality-gate-protocol.ejs with gate profile table","description":"## Objective\nReplace the hardcoded 3-gate sequence with a work-type-aware gate profile lookup table. Add work type detection patterns (directory path + extension mapping). Add differential retry rules per gate type. Keep application_code profile matching current behavior exactly (regression-safe).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify npm run build succeeds with current template before changes\n2. GREEN: Add profile table, detection patterns, differential retry rules\n3. BLUE: Refactor for clarity while keeping build green\n\n## Acceptance Criteria\n- [ ] Gate profile lookup table with all 9 work types defined\n- [ ] Work type detection pattern table (directory + extension → work type)\n- [ ] Union semantics for mixed changesets documented\n- [ ] Differential retry limits: test-runner 3, code-reviewer 2, specialized 1\n- [ ] application_code profile produces identical behavior to current system\n- [ ] npm run build succeeds, generated output includes new profile table\n- [ ] Both role: orchestrator and role: planner views render correctly\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:12.462715-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.783553-08:00","closed_at":"2026-02-05T20:17:42.783553-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.1","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:12.467983-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.10","title":"Update takeoff orchestrator for dynamic gate selection","description":"## Objective\nUpdate takeoff.ejs to use the gate profile table instead of hardcoded gate sequence. Implement: file classification → profile lookup → union computation → gate deployment with GATE_MODE flag. Add orchestrator gate echo. Implement conservative dirty-bit caching.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current takeoff hardcodes gate sequence\n2. GREEN: Implement dynamic selection, union computation, gate echo, dirty-bit caching\n3. BLUE: Ensure application_code path identical to current behavior\n\n## Acceptance Criteria\n- [ ] Takeoff reads gate profile table from quality-gate-protocol partial\n- [ ] Files_modified from coding agent classified into work types\n- [ ] Union of matching profiles computed (strictest mode wins)\n- [ ] Gates deployed with GATE_MODE: true + CRITERIA_PROFILE for dual-role agents\n- [ ] Orchestrator echoes selected gates before execution\n- [ ] Conservative dirty-bit: skip re-run only if ZERO files in gate scope changed\n- [ ] Differential retry limits applied per gate type\n- [ ] Fallback to general-purpose agent for unknown work types\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/takeoff.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:41:01.696845-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.808939-08:00","closed_at":"2026-02-05T20:17:42.808939-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:01.705829-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:25.782466-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.2","type":"blocks","created_at":"2026-02-05T17:41:25.866404-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.4","type":"blocks","created_at":"2026-02-05T17:41:25.934688-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.6","type":"blocks","created_at":"2026-02-05T17:41:26.001968-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.7","type":"blocks","created_at":"2026-02-05T17:41:26.072143-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.8","type":"blocks","created_at":"2026-02-05T17:41:26.143289-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.9","type":"blocks","created_at":"2026-02-05T17:42:56.655672-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.11","title":"Consolidate hook scripts into unified gate hook","description":"## Objective\nReplace orchestrate-test-runner.sh and orchestrate-review-agent.sh with a single orchestrate-gate-agent.sh that works for all gate types. Update hooks.json template.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify two separate hook scripts exist\n2. GREEN: Create unified script, update hook template\n3. BLUE: Remove old scripts, verify hooks.json output\n\n## Acceptance Criteria\n- [ ] Single scripts/orchestrate-gate-agent.sh replacing both existing scripts\n- [ ] Hook template updated to reference new unified script\n- [ ] Old scripts removed\n- [ ] npm run build produces correct hooks.json\n\n## Scope\nFiles: scripts/orchestrate-gate-agent.sh (new), scripts/orchestrate-test-runner.sh (delete), scripts/orchestrate-review-agent.sh (delete), src/hooks/*.ejs (if hook templates exist, needs discovery)\n\n[Auto-added by verification]\nCross-references: reaper-4mm.1 (depends on gate profile table for unified hook behavior)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-05T17:41:06.290476-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.8115-08:00","closed_at":"2026-02-05T20:17:42.8115-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.11","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:06.298018-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.11","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:26.268351-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.12","title":"Update agent-deployment-template with GATE_EXPECTATIONS","description":"## Objective\nAdd GATE_EXPECTATIONS field to the deployment template so coding agents know upfront which gates will review their work. Orchestrator populates this from the selected gate profile.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no GATE_EXPECTATIONS field in current template\n2. GREEN: Add field with documentation of what each gate checks\n3. BLUE: Add orchestrator guidance on population from profile table\n\n## Acceptance Criteria\n- [ ] GATE_EXPECTATIONS field added to deployment template\n- [ ] Documents what each gate will check (e.g., \"test-runner: 80% coverage, zero lint\")\n- [ ] Orchestrator guidance on how to populate from profile table\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/agent-deployment-template.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.10 (takeoff orchestrator populates this field), reaper-4mm.1 (gate profile table is the data source)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:41:10.858756-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.814344-08:00","closed_at":"2026-02-05T20:17:42.814344-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.12","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:10.865177-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.12","depends_on_id":"reaper-4mm.10","type":"blocks","created_at":"2026-02-05T17:41:26.857356-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.13","title":"Update workflow-planner to emit work_type per work unit","description":"## Objective\nExtend workflow-planner work unit JSON output to include a work_type field. The planner classifies each work unit based on its assigned_files. Add work_type to the JSON schema and planning instructions.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current work unit JSON schema lacks work_type\n2. GREEN: Add work_type field, classification logic, schema update\n3. BLUE: Ensure verification mode also checks work_type is set\n\n## Acceptance Criteria\n- [ ] work_type field added to work unit JSON schema\n- [ ] Planner classifies work units using same detection patterns as quality-gate-protocol\n- [ ] work_type values match the profile table keys\n- [ ] Verification mode also checks work_type is set\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/workflow-planner.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.1 (uses same work type detection patterns), reaper-4mm.10 (takeoff uses work_type for gate selection)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:41:15.560351-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.816763-08:00","closed_at":"2026-02-05T20:17:42.816763-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:15.576452-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:27.753308-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm.10","type":"blocks","created_at":"2026-02-05T17:41:27.81729-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.2","title":"Update orchestrator-role-boundary.ejs for dynamic gate counts","description":"## Objective\nCurrent partial hardcodes 'three approval authorities' and 'unanimous approval required.' Refactor to reference the gate profile table dynamically — the number and identity of authorities depends on the work type.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current build output contains hardcoded language\n2. GREEN: Replace with dynamic references to gate profile table\n3. BLUE: Ensure zero-trust principle still referenced, clean up wording\n\n## Acceptance Criteria\n- [ ] 'Three approval authorities' language replaced with dynamic reference\n- [ ] 'Unanimous approval' logic updated to 'all gates in selected profile must pass'\n- [ ] Still references zero-trust principle\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/orchestrator-role-boundary.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:17.570009-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.787633-08:00","closed_at":"2026-02-05T20:17:42.787633-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.2","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:17.575769-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.2","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:19.550062-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.3","title":"Add gateCapable variable to EJS build system","description":"## Objective\nExtend scripts/build.js to pass a gateCapable boolean to agent templates. Agents in a new gate_capable list get gateCapable: true, allowing conditional EJS sections for GATE_MODE. Initial gate-capable agents: ai-prompt-engineer, code-reviewer, security-auditor, deployment-engineer.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gateCapable variable currently exists in build output\n2. GREEN: Add GATE_CAPABLE_AGENTS constant, pass gateCapable to templates\n3. BLUE: Refactor for consistency with existing AGENT_TYPES pattern\n\n## Acceptance Criteria\n- [ ] New GATE_CAPABLE_AGENTS constant in build.js\n- [ ] gateCapable variable passed to agent templates during compilation\n- [ ] Gate-capable agents render GATE_MODE section; others don't\n- [ ] npm run build succeeds with no regressions\n\n## Scope\nFiles: scripts/build.js","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:22.961291-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.79073-08:00","closed_at":"2026-02-05T20:17:42.79073-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.3","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:22.966125-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.3","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:20.174083-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.4","title":"Create validation-runner agent template","description":"## Objective\nCreate a new agent for non-code validation (terraform validate, openapi validate, helm template, docker build --check, schema validation, migration dry-runs). Accepts VALIDATION_COMMAND, LINT_COMMAND, VALIDATION_MODE. Returns universal gate contract JSON. No coverage threshold.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no validation-runner agent exists\n2. GREEN: Create template with frontmatter, parameters, gate contract output\n3. BLUE: Align with existing agent patterns (test-runner structure)\n\n## Acceptance Criteria\n- [ ] Agent template at src/agents/validation-runner.ejs\n- [ ] YAML frontmatter: model haiku, appropriate tools\n- [ ] Accepts VALIDATION_COMMAND (required), LINT_COMMAND (optional), VALIDATION_MODE (full|targeted)\n- [ ] Returns universal gate contract JSON: { gate_status, task_id, working_dir, summary, blocking_issues }\n- [ ] Pre-work validation for required inputs\n- [ ] Build system updated: add to AGENT_TYPES (review category)\n- [ ] npm run build produces agents/validation-runner.md\n\n## Scope\nFiles: src/agents/validation-runner.ejs, scripts/build.js","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:29.796383-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.793234-08:00","closed_at":"2026-02-05T20:17:42.793234-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.4","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:29.807417-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.4","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:20.718206-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.5","title":"Parameterize code-reviewer pre-work validation","description":"## Objective\nCurrent pre-work-validation-review.ejs requires TEST_RUNNER_RESULTS. When code-reviewer is used as a gate for non-code work types, it won't have test-runner output. Parameterize to accept any prior gate results or none, controlled by a REVIEW_CONTEXT parameter.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template requires TEST_RUNNER_RESULTS\n2. GREEN: Add REVIEW_CONTEXT parameter, make prior results flexible\n3. BLUE: Ensure backward compat — application_code still passes TEST_RUNNER_RESULTS\n\n## Acceptance Criteria\n- [ ] Pre-work validation accepts flexible prior gate results (not just TEST_RUNNER_RESULTS)\n- [ ] New REVIEW_CONTEXT parameter: specifies what to evaluate (SOLID for code, plan adherence for all, conventions for all)\n- [ ] Backward compatible: application_code profile still passes TEST_RUNNER_RESULTS and it works\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/pre-work-validation-review.ejs, src/agents/code-reviewer.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:36.083448-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.795591-08:00","closed_at":"2026-02-05T20:17:42.795591-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.5","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:36.090278-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.5","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:21.199211-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.6","title":"Add GATE_MODE section to ai-prompt-engineer","description":"## Objective\nAdd conditional gate-mode section to ai-prompt-engineer template. When deployed with GATE_MODE: true, evaluates prompt quality and returns gate contract JSON. Domain-specific blocking criteria: removed safety constraints, missing output format, conflicting instructions, missing grounding constraints, context overflow. Warnings: token bloat, vague qualifiers, style mismatches.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gate section currently renders in build output\n2. GREEN: Add conditional gateCapable section with blocking/advisory criteria\n3. BLUE: Ensure advisory mode output unchanged when not in GATE_MODE\n\n## Acceptance Criteria\n- [ ] Conditional \u003c% if (gateCapable) %\u003e section with gate deployment instructions\n- [ ] Blocking vs. advisory criteria clearly defined\n- [ ] Gate output uses universal contract (gate_status, blocking_issues, summary)\n- [ ] Advisory mode output unchanged when not in GATE_MODE\n- [ ] Diff-based regression detection guidance included\n- [ ] npm run build renders gate section in output\n\n## Scope\nFiles: src/agents/ai-prompt-engineer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.7 (code-reviewer), reaper-4mm.8 (security-auditor), reaper-4mm.9 (deployment-engineer) - all 4 gate-capable agents follow same conditional pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:42.671903-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.798006-08:00","closed_at":"2026-02-05T20:17:42.798006-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:42.676673-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:22.083327-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm.5","type":"blocks","created_at":"2026-02-05T17:41:22.144218-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.7","title":"Add GATE_MODE section to code-reviewer","description":"## Objective\nAdd conditional gate-mode section to code-reviewer template. Gate mode evaluates plan adherence, consistency, and style for any artifact type — not just code. Uses the parameterized pre-work validation from Unit 5.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current gate section is code-only\n2. GREEN: Add generalized GATE_MODE section with non-code review criteria\n3. BLUE: Ensure existing code review behavior preserved\n\n## Acceptance Criteria\n- [ ] Conditional gate-mode section with non-code review criteria\n- [ ] Plan adherence evaluation for any artifact type\n- [ ] Style/convention checking generalized beyond SOLID\n- [ ] npm run build renders gate section\n\n## Scope\nFiles: src/agents/code-reviewer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.5 (uses parameterized pre-work validation), reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.8 (security-auditor), reaper-4mm.9 (deployment-engineer) - parallel GATE_MODE additions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:46.822513-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.800646-08:00","closed_at":"2026-02-05T20:17:42.800646-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:46.827349-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:22.823828-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm.5","type":"blocks","created_at":"2026-02-05T17:41:22.882678-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.8","title":"Add GATE_MODE section to security-auditor","description":"## Objective\nSecurity-auditor is already a gate agent. Add work-type-aware scanning guidance: IaC security (tfsec/checkov) for infrastructure, prompt injection detection for prompts, secret scanning universal.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template lacks work-type-aware scanning\n2. GREEN: Add conditional section with per-work-type scanning guidance\n3. BLUE: Ensure secret scanning remains universal across all types\n\n## Acceptance Criteria\n- [ ] Conditional section with work-type-specific scanning guidance\n- [ ] IaC security tools referenced for infrastructure_config\n- [ ] Prompt injection/data leakage for agent_prompt\n- [ ] Secret scanning remains universal\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/security-auditor.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.7 (code-reviewer), reaper-4mm.9 (deployment-engineer) - parallel GATE_MODE additions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:52.044709-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.803159-08:00","closed_at":"2026-02-05T20:17:42.803159-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.8","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:52.054204-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.8","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:23.423284-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.9","title":"Add GATE_MODE section to deployment-engineer","description":"## Objective\nAdd gate-mode section for deployment config review: health checks, resource limits, rollback hooks, environment parity, zero-downtime deployment validation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gate section currently renders\n2. GREEN: Add conditional gateCapable section with deployment review criteria\n3. BLUE: Separate blocking vs advisory criteria cleanly\n\n## Acceptance Criteria\n- [ ] Conditional gate-mode section with deployment review criteria\n- [ ] Blocking: missing health checks, no resource limits, no rollback strategy\n- [ ] Advisory: suboptimal configurations, missing monitoring integration\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/deployment-engineer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.7 (code-reviewer), reaper-4mm.8 (security-auditor) - parallel GATE_MODE additions following same pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:54.226385-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.80547-08:00","closed_at":"2026-02-05T20:17:42.80547-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.9","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:54.232832-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.9","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:24.793624-08:00","created_by":"ryan"}]}
{"id":"reaper-4ps","title":"Add aviation-themed messaging to commands","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T18:24:26.348073-08:00","created_by":"ryan","updated_at":"2026-01-05T18:25:09.976617-08:00","closed_at":"2026-01-05T18:25:09.976617-08:00","close_reason":"Closed"}
{"id":"reaper-4tg","title":"Rename commands to aviation theme (flight-plan, takeoff)","description":"Rename /reaper:plan to /reaper:flight-plan and /reaper:orchestrate to /reaper:takeoff for aviation-themed commands. Keep claude-sync as-is for practical naming.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T18:45:23.479416-08:00","created_by":"ryan","updated_at":"2026-01-02T18:46:04.513383-08:00","closed_at":"2026-01-02T18:46:04.513383-08:00","close_reason":"Closed"}
{"id":"reaper-4z0","title":"Fix worktree-manager skill path references","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T12:16:34.135571-08:00","created_by":"ryan","updated_at":"2026-01-05T12:17:01.578128-08:00","closed_at":"2026-01-05T12:17:01.578128-08:00","close_reason":"Fixed by replacing hardcoded paths with CLAUDE_PLUGIN_ROOT variable"}
{"id":"reaper-59m","title":"Add reaper: prefix to all agent references","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T13:51:14.463589-08:00","created_by":"ryan","updated_at":"2026-01-05T13:53:15.562545-08:00","closed_at":"2026-01-05T13:53:15.562545-08:00","close_reason":"Closed"}
{"id":"reaper-5pr","title":"Audit all subagent prompts with ai-prompt-engineer for versatility and quality","description":"Run reaper:ai-prompt-engineer on every subagent prompt to audit for quality, token efficiency, and role clarity. Each agent should excel at its specialty — not be a generalist.\n\nRole expectations:\n- **Coding agents** (feature-developer, bug-fixer, refactoring-dev, branch-manager, integration-engineer, deployment-engineer): Focus on writing and shipping code\n- **Quality agents** (test-runner, code-reviewer, security-auditor, performance-engineer, test-strategist): Focus on checking quality, catching defects, and enforcing standards\n- **SME agents** (api-designer, cloud-architect, database-architect, event-architect, observability-architect, frontend-architect, data-engineer, compliance-architect, workflow-planner, claude-agent-architect, technical-writer, incident-responder): Provide domain expertise wherever it is needed\n\nCross-domain input is encouraged when it relates to the agent's own specialty (e.g., security-auditor flags architecture choices with security implications, database-architect comments on query patterns in feature code).\n\nAgents to audit (23 total, excluding ai-prompt-engineer itself):\n- api-designer, branch-manager, bug-fixer, claude-agent-architect, cloud-architect\n- code-reviewer, compliance-architect, data-engineer, database-architect\n- deployment-engineer, event-architect, feature-developer, frontend-architect\n- incident-responder, integration-engineer, observability-architect\n- performance-engineer, refactoring-dev, security-auditor, technical-writer\n- test-runner, test-strategist, workflow-planner\n\nAcceptance criteria:\n- Each agent reviewed for anti-patterns, token waste, and role clarity\n- Feedback includes specific line-level recommendations\n- Agents should deeply own their specialty, not be diluted into generalists\n- Cross-domain input should flow naturally from the agent's expertise, not be bolted on","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T14:57:07.987336-08:00","created_by":"ryan","updated_at":"2026-02-04T17:35:43.017973-08:00","closed_at":"2026-02-04T17:35:43.017973-08:00","close_reason":"All 23 agent prompts audited, revised, and passing quality gate (avg 5.8 → 8.3). Merged to develop."}
{"id":"reaper-5sa","title":"Remove Spice skill and standardize doc paths to CLAUDE_PLUGIN_ROOT","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:43:49.082054-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.583441-08:00","closed_at":"2026-01-23T13:02:34.583441-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT"}
{"id":"reaper-5sa.1","title":"Remove Spice skill source and generated files","description":"Delete the entire src/skills/spice/ directory (15 .ejs files) and skills/spice/ directory (15 .md files).\n\nAcceptance: Both directories removed, no orphaned imports or references in remaining files.\n\nParallel Group: Can execute in parallel with reaper-5sa.2, reaper-5sa.3, reaper-5sa.4, reaper-5sa.5 (no file overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:01.256994-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.547172-08:00","closed_at":"2026-01-23T13:02:34.547172-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.1","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:01.280732-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.2","title":"Update worktree-manager references to Spice","description":"Remove or update the 'Integration with SPICE' section in src/skills/worktree-manager/reference.ejs that mentions WORKTREE_SETUP and WORKTREE_CLEANUP spice skills. Acceptance: spice references removed, documentation still accurate.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:01.842162-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.554865-08:00","closed_at":"2026-01-23T13:02:34.554865-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.2","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:01.846422-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.3","title":"Update doc references in all agents to use CLAUDE_PLUGIN_ROOT","description":"Replace @docs/spice/SPICE.md and @SPICE*.md patterns with ${CLAUDE_PLUGIN_ROOT}/docs/spice/*.md in 11 agent EJS templates.\n\nFiles:\n- src/agents/database-architect.ejs\n- src/agents/bug-fixer.ejs\n- src/agents/code-reviewer.ejs\n- src/agents/feature-developer.ejs\n- src/agents/test-runner.ejs\n- src/agents/integration-engineer.ejs\n- src/agents/deployment-engineer.ejs\n- src/agents/performance-engineer.ejs\n- src/agents/cloud-architect.ejs\n- src/agents/security-auditor.ejs\n- src/agents/branch-manager.ejs\n\nAcceptance: All @docs/ and @SPICE patterns replaced with ${CLAUDE_PLUGIN_ROOT}/docs/ format. Build succeeds.\n\nRelated: reaper-5sa.4 (also modifies EJS templates but targets partials, no overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:05.566102-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.568153-08:00","closed_at":"2026-01-23T13:02:34.568153-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.3","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:05.583759-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.4","title":"Update doc references in partials","description":"Review and update partials for doc path references.\n\nFiles:\n- src/partials/pre-work-validation-coding.ejs\n- src/partials/pre-work-validation-review.ejs\n\nThe @plan.md references are user examples showing expected input format - these should NOT be changed. Any actual doc paths referencing SPICE or docs/spice should use ${CLAUDE_PLUGIN_ROOT}/docs/ format.\n\nAcceptance: Partials reviewed, any doc paths updated to ${CLAUDE_PLUGIN_ROOT} format, user example patterns preserved.\n\nRelated: reaper-5sa.3 (also modifies EJS templates but targets agents, no overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:08.350152-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.570967-08:00","closed_at":"2026-01-23T13:02:34.570967-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.4","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:08.414611-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.5","title":"Update build-system.md to remove spice directory mention","description":"Update docs/build-system.md which mentions 'spice/' as a skill subdirectory. Remove from directory structure examples so documentation reflects remaining skill directories.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:09.422668-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.573597-08:00","closed_at":"2026-01-23T13:02:34.573597-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.5","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:09.462317-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.6","title":"Run build and verify no broken references","description":"Run npm run build to regenerate all files after all other tasks complete.\n\nVerification Steps:\n1. npm run build succeeds without errors\n2. grep -r \"@docs/\" agents/ skills/ returns no matches\n3. grep -r \"@SPICE\" agents/ skills/ returns no matches\n4. skills/spice/ directory does not exist\n5. grep -r \"CLAUDE_PLUGIN_ROOT\" agents/ | head shows new doc path format\n\nDepends on: reaper-5sa.1, reaper-5sa.2, reaper-5sa.3, reaper-5sa.4, reaper-5sa.5 (must all complete first)\n\nAcceptance: Build succeeds, all verification steps pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:11.207069-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.577903-08:00","closed_at":"2026-01-23T13:02:34.577903-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:12.245062-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.1","type":"blocks","created_at":"2026-01-23T12:44:18.092547-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.2","type":"blocks","created_at":"2026-01-23T12:44:18.220009-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.3","type":"blocks","created_at":"2026-01-23T12:44:18.361574-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.4","type":"blocks","created_at":"2026-01-23T12:44:18.527051-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.5","type":"blocks","created_at":"2026-01-23T12:44:18.657925-08:00","created_by":"ryan"}]}
{"id":"reaper-6gr","title":"Slim down agent JSON output to essential fields","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T15:34:05.072967-08:00","created_by":"ryan","updated_at":"2026-01-12T15:35:25.783103-08:00","closed_at":"2026-01-12T15:35:25.783103-08:00","close_reason":"Completed - slimmed agent JSON output by ~80%"}
{"id":"reaper-7bm","title":"War Room Expert Panel Expansion","description":"Create 6 new planning-only agents and update war room auto-selection table. Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md. Plan: .claude/plans/reaper-expert-panel-agents.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-03T11:43:57.029683-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.663317-08:00","closed_at":"2026-02-04T12:42:07.663317-08:00","close_reason":"Closed"}
{"id":"reaper-7bm.1","title":"Create event-architect agent template","description":"## Objective\nCreate src/agents/event-architect.ejs — Event-Driven Architecture planning agent.\n\n## Scope\nEvent contracts/schemas, message broker selection (Kafka/RabbitMQ/SQS), saga vs choreography patterns, CQRS design, event sourcing, eventual consistency strategies, dead letter queue design, event versioning, idempotency patterns.\n\n## Boundaries\n- vs api-designer: API designer owns synchronous request-response contracts. Event architect owns asynchronous event contracts and choreography.\n- vs integration-engineer: Integration engineer handles external service connections. Event architect handles internal event topology and patterns.\n- vs database-architect: Database architect owns persistence layer (event stores, projection tables). Event architect owns event modeling and flow design.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: event-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A (Role → Responsibilities → Capabilities → Workflows → Integration → Quick Reference)\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks, no git operations\n- [ ] War room trigger keywords: event, message queue, kafka, rabbitmq, sqs, cqrs, saga, event sourcing, pub/sub, eventual consistency, async, streaming, notification, real-time\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:08.487842-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.625231-08:00","closed_at":"2026-02-04T12:42:07.625231-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.1","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:08.511277-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.10","title":"Build, verify, and commit all new agents","description":"## Objective\nRun npm run build, verify all 6 new agent .md files are generated, verify war room command updated, commit all changes.\n\n## Acceptance Criteria\n- [ ] npm run build succeeds without errors\n- [ ] 6 new files in agents/: event-architect.md, observability-architect.md, frontend-architect.md, data-engineer.md, test-strategist.md, compliance-architect.md\n- [ ] Updated commands/war-room.md contains 9 new auto-selection rows\n- [ ] 24 total agents in agents/ directory\n- [ ] All source and generated files committed\n\n## Blocked By\nAll other units in this epic must complete first.\n\n## Estimated Files\nAll generated files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:45:03.036133-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.659131-08:00","closed_at":"2026-02-04T12:42:07.659131-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:45:03.056175-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.1","type":"blocks","created_at":"2026-02-03T11:45:07.722787-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.2","type":"blocks","created_at":"2026-02-03T11:45:07.807474-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.3","type":"blocks","created_at":"2026-02-03T11:45:07.898003-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.4","type":"blocks","created_at":"2026-02-03T11:45:07.988549-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.5","type":"blocks","created_at":"2026-02-03T11:45:08.071836-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.6","type":"blocks","created_at":"2026-02-03T11:45:08.18516-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.7","type":"blocks","created_at":"2026-02-03T11:45:08.268135-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.8","type":"blocks","created_at":"2026-02-03T11:45:08.365733-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.9","type":"blocks","created_at":"2026-02-03T11:45:08.470095-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.2","title":"Create observability-architect agent template","description":"## Objective\nCreate src/agents/observability-architect.ejs — Observability/SRE planning agent.\n\n## Scope\nMetrics/logs/traces architecture (three pillars), SLO/SLI/SLA definition, alerting strategy (symptom-based vs cause-based), observability platform selection (Datadog/Grafana/New Relic/OpenTelemetry), distributed tracing design, log aggregation, dashboard design, on-call strategy, runbook design, chaos engineering patterns.\n\n## Boundaries\n- vs performance-engineer: Performance engineer optimizes what exists (profiling, load testing). Observability architect ensures we can see and respond to what happens (instrumentation, monitoring, alerting).\n- vs incident-responder: Observability architect designs proactive instrumentation. Incident responder handles reactive diagnosis and remediation.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: observability-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: observability, monitoring, alerting, slo, sli, sla, metrics, logging, tracing, datadog, grafana, prometheus, opentelemetry, dashboards, on-call, runbook, chaos engineering, reliability\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:15.01882-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.637249-08:00","closed_at":"2026-02-04T12:42:07.637249-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.2","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:15.035036-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.3","title":"Create frontend-architect agent template","description":"## Objective\nCreate src/agents/frontend-architect.ejs — Frontend/UI Architecture planning agent.\n\n## Scope\nComponent architecture, state management strategy (Redux/Zustand/TanStack Query/server components), rendering strategy (SSR/CSR/ISR/RSC), design system architecture, bundle optimization, micro-frontend patterns, framework selection (Next.js/Remix/Nuxt/SvelteKit), build tooling (Vite/Webpack/Turbopack), accessibility architecture (WCAG, ARIA, keyboard navigation, semantic HTML), Core Web Vitals, responsive design, PWA patterns.\n\n## Boundaries\n- vs api-designer: API designer owns canonical resource APIs. Frontend architect owns BFF aggregation layers and client-side data-fetching patterns.\n- vs performance-engineer: Performance engineer owns server-side optimization. Frontend architect owns client-side performance (bundle size, rendering, Core Web Vitals).\n- Includes accessibility (WCAG compliance as architectural constraint, not standalone agent).\n- Includes mobile-web/PWA. Native mobile (iOS/Android/Flutter) is out of scope.\n\n## Special Requirements\n- Include ecosystem-lag disclaimer directive in agent prompt to acknowledge uncertainty about very recent ecosystem changes.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: frontend-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] Accessibility folded in as architectural constraint section\n- [ ] Ecosystem-lag disclaimer included\n- [ ] No execution hooks\n- [ ] War room trigger keywords: frontend, ui, react, vue, angular, svelte, nextjs, remix, component, state management, ssr, csr, spa, design system, responsive, bundle, accessibility, a11y, wcag, core web vitals, pwa\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:24.358907-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.639795-08:00","closed_at":"2026-02-04T12:42:07.639795-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.3","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:24.385542-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.4","title":"Create data-engineer agent template","description":"## Objective\nCreate src/agents/data-engineer.ejs — Data Engineering planning agent.\n\n## Scope\nETL/ELT pipeline design, data warehouse modeling (star/snowflake schemas, slowly changing dimensions), streaming vs batch architecture, pipeline orchestration (Airflow/Dagster/Prefect), data quality and validation frameworks, transformation tooling (dbt/Spark), data lake architecture, CDC patterns, analytics infrastructure, data lineage.\n\n## Boundaries\n- vs database-architect: Database architect owns OLTP schema design, indexing, replication, operational data stores. Data engineer owns OLAP schemas, pipeline orchestration, data lake organization, analytical transformations. Shared boundary at CDC/extraction layer — both participate.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: data-engineer, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: etl, elt, pipeline, data warehouse, analytics, reporting, streaming, batch, airflow, dagster, dbt, spark, data lake, cdc, snowflake schema, star schema, olap, data quality, data lineage\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:30.664676-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.641847-08:00","closed_at":"2026-02-04T12:42:07.641847-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.4","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:30.681163-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.5","title":"Create test-strategist agent template","description":"## Objective\nCreate src/agents/test-strategist.ejs — Testing Strategy/QA Architecture planning agent.\n\n## Scope\nTest pyramid design, contract testing (Pact), integration test boundaries, E2E strategy, chaos engineering, test data management, service virtualization, mutation testing, visual regression testing, performance test integration in CI/CD, flaky test triage strategy.\n\n## Boundaries\n- vs test-runner: Test-runner executes tests and validates coverage post-implementation. Test-strategist advises on what kinds of tests to write and how to structure test architecture during design.\n- vs code-reviewer: Code-reviewer assesses individual test quality (flaky patterns, over-mocking). Test-strategist designs the overall testing architecture and strategy.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: test-strategist, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: testing strategy, test pyramid, contract testing, integration testing, e2e, chaos engineering, test data, service virtualization, mutation testing, test architecture, qa architecture\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:36.315338-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.644274-08:00","closed_at":"2026-02-04T12:42:07.644274-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.5","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:36.334586-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.6","title":"Create compliance-architect agent template","description":"## Objective\nCreate src/agents/compliance-architect.ejs — Compliance/Regulatory planning agent.\n\n## Scope\nGDPR, HIPAA, SOC2, PCI-DSS, FedRAMP architectural compliance, data residency constraints, consent management architecture, retention/deletion policies, audit trail design, right-to-erasure implementation patterns, cross-border data transfer rules, compliance evidence generation.\n\n## Boundaries\n- vs security-auditor: Security auditor identifies how to protect data (threat modeling, OWASP, vulnerability scanning). Compliance architect identifies which data must be protected, for whom, and under what legal framework.\n\n## Special Requirements\n- CRITICAL: Include PROMINENT DISCLAIMERS — this agent provides architectural compliance awareness, NOT legal advice or compliance certification. Recommend human review for all compliance-critical decisions.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: compliance-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] Prominent legal disclaimers in multiple locations\n- [ ] No execution hooks\n- [ ] War room trigger keywords: gdpr, hipaa, pci, soc2, fedramp, compliance, regulatory, data residency, retention, consent, audit trail, data classification, right to erasure, cross-border\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:43.291999-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.646801-08:00","closed_at":"2026-02-04T12:42:07.646801-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.6","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:43.324633-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.7","title":"Update build system with new agent classifications","description":"## Objective\nAdd 6 new agents to AGENT_TYPES.planning array in scripts/build.js.\n\n## Changes\nAdd to the planning array (lines 37-54): event-architect, observability-architect, frontend-architect, data-engineer, test-strategist, compliance-architect.\n\n## Acceptance Criteria\n- [ ] All 6 agents added to AGENT_TYPES.planning\n- [ ] No other changes to build.js\n- [ ] Build still compiles successfully\n\n## Estimated Files\nscripts/build.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:46.410017-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.648787-08:00","closed_at":"2026-02-04T12:42:07.648787-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.7","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:46.423771-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.8","title":"Update war room auto-selection table","description":"## Objective\nAdd 9 new rows to Phase 3 auto-selection table in src/commands/war-room.ejs: 6 new agents + 3 existing conditional agents (deployment-engineer, integration-engineer, incident-responder).\n\n## New Rows\n| Domain | Agent | Keywords | Value Proposition |\n|--------|-------|----------|-------------------|\n| Event-Driven | reaper:event-architect | event, message queue, kafka, rabbitmq, sqs, cqrs, saga, event sourcing, pub/sub, eventual consistency, async, streaming, notification, real-time | Event contracts, saga patterns, CQRS, message broker selection |\n| Observability | reaper:observability-architect | observability, monitoring, alerting, slo, sli, metrics, logging, tracing, datadog, grafana, prometheus, opentelemetry, dashboards, reliability | SLO/SLI design, instrumentation, alerting strategy, distributed tracing |\n| Frontend | reaper:frontend-architect | frontend, ui, react, vue, angular, svelte, nextjs, remix, component, state management, ssr, csr, spa, design system, responsive, bundle, a11y, wcag, pwa | Component architecture, rendering strategy, state management, a11y |\n| Data Engineering | reaper:data-engineer | etl, elt, pipeline, data warehouse, analytics, reporting, streaming, batch, airflow, dagster, dbt, spark, data lake, cdc, olap | Pipeline design, warehouse modeling, streaming vs batch, data quality |\n| Testing Strategy | reaper:test-strategist | testing strategy, test pyramid, contract testing, integration testing, e2e, chaos engineering, test data, qa architecture | Test architecture design, contract testing, chaos engineering |\n| Compliance | reaper:compliance-architect | gdpr, hipaa, pci, soc2, fedramp, compliance, regulatory, data residency, retention, consent, audit trail | Compliance architecture, data residency, retention policies |\n| Deployment | reaper:deployment-engineer | deploy, ci/cd, pipeline, release, blue-green, canary, rollback, zero downtime, environment, staging | CI/CD strategy, deployment patterns, release management |\n| Integration | reaper:integration-engineer | integration, third-party, webhook, oauth, stripe, external api, service connector | Third-party integration architecture, webhook design |\n| Resilience | reaper:incident-responder | resilience, failure mode, blast radius, circuit breaker, fallback, graceful degradation, disaster recovery, availability | Operational resilience, failure mode analysis, recovery planning |\n\n## Acceptance Criteria\n- [ ] 9 new rows added to Phase 3 table\n- [ ] Maintains existing table format\n- [ ] Keywords match war room brief specifications\n\n## Estimated Files\nsrc/commands/war-room.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:56.724087-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.650923-08:00","closed_at":"2026-02-04T12:42:07.650923-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.8","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:56.747152-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.9","title":"Update CLAUDE.md agent categories","description":"## Objective\nAdd 6 new agents to the agent categories table in CLAUDE.md (lines 147-155).\n\n## Changes\nUpdate the Planning row to include: reaper:event-architect, reaper:observability-architect, reaper:frontend-architect, reaper:data-engineer, reaper:test-strategist, reaper:compliance-architect\n\n## Acceptance Criteria\n- [ ] All 6 new agents listed in appropriate category\n- [ ] Table format maintained\n- [ ] Agent names use reaper: prefix\n\n## Estimated Files\nCLAUDE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:59.328217-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.655797-08:00","closed_at":"2026-02-04T12:42:07.655797-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.9","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:59.350414-08:00","created_by":"ryan"}]}
{"id":"reaper-7fw","title":"Restructure execution loop with explicit loop anchors","description":"Make the execution loop the structurally dominant element in takeoff so the model cannot fall through to completion after the first unit. Add a LOOP CHECKPOINT section after the quality-gate-protocol partial. Restructure the Per-Unit Cycle to emphasize iteration with explicit REPEAT framing. Remove premature All N completed parenthetical from progress announcement. Add post-gate loop reinforcement to agent-deployment-template.ejs. Strengthen Quick Reference to visually emphasize the loop. TDD: Write tests first. Files: src/commands/takeoff.ejs, src/partials/agent-deployment-template.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-key and reaper-c4r. Each issue targets different sections -- this issue owns the Per-Unit Cycle, Quick Reference, and progress announcement sections. Must not modify Continuation Rule or Completion sections (owned by reaper-key) or Pre-Planned Detection section (owned by reaper-c4r). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Per-Unit Cycle section uses explicit REPEAT/LOOP framing that structurally emphasizes iteration\n- [ ] A LOOP CHECKPOINT section exists after the quality-gate-protocol partial include\n- [ ] Progress announcement no longer contains premature completion language\n- [ ] agent-deployment-template.ejs includes post-gate loop reinforcement text\n- [ ] Quick Reference visually emphasizes the execution loop (e.g., bold, arrows, or box)\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:22.164886-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:55.349235-08:00","dependencies":[{"issue_id":"reaper-7fw","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.411022-08:00","created_by":"ryan"}]}
{"id":"reaper-7x1","title":"Test after fix","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T16:03:34.492022-08:00","created_by":"ryan","updated_at":"2026-01-02T16:03:49.799023-08:00","closed_at":"2026-01-02T16:03:49.799023-08:00","close_reason":"Cleanup: test issues and wrong prefix"}
{"id":"reaper-7ze","title":"Unit test buildTemplateVars flag derivations","description":"## Objective\nTest all boolean flag derivations and template variable generation for all source types (agents, skills, hooks, commands).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for each flag and source type\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Every boolean flag tested: HAS_TDD, IS_CODING_AGENT, IS_GATE_AGENT, gateCapable, etc.\n- [ ] All agent types produce correct AGENT_TYPE classification\n- [ ] Non-agent source types (skills, commands, hooks) produce correct variables\n- [ ] Nested skill paths test PARENT_SKILL logic\n- [ ] BUILD_TIMESTAMP is ISO format string\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:36.24082-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.254798-08:00","closed_at":"2026-02-06T00:57:57.254798-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7ze","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.166177-08:00","created_by":"ryan"}]}
{"id":"reaper-8xx","title":"Build and verify generated output","description":"Compile templates and verify the generated output is correct and complete. Run npm run build. Verify commands/takeoff.md has all changes from units 1-3. Check no other generated files were broken. Verify generated output reads coherently end-to-end. Files: commands/takeoff.md (generated)\n\n[Auto-added by verification]\nwork_type: configuration\nCross-references: This is the final verification step. Depends on reaper-7fw, reaper-key, and reaper-c4r all completing first. Reads generated commands/takeoff.md which is produced from src/commands/takeoff.ejs (modified by the other three issues).\n\nAcceptance Criteria:\n- [ ] npm run build completes without errors\n- [ ] commands/takeoff.md contains LOOP CHECKPOINT section (from reaper-7fw)\n- [ ] commands/takeoff.md contains STOP-Verify banner before Completion heading (from reaper-key)\n- [ ] commands/takeoff.md contains Re-Read Protocol and Dependency Chain subsections (from reaper-key)\n- [ ] commands/takeoff.md contains updated Pre-Planned Detection with depth flattening (from reaper-c4r)\n- [ ] commands/takeoff.md reads coherently end-to-end (no broken EJS, no missing sections)\n- [ ] No other generated files were broken by the build (spot-check 2-3 other generated files)\n- [ ] All contract tests pass","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:37.734601-08:00","created_by":"ryan","updated_at":"2026-02-06T12:09:45.315899-08:00","dependencies":[{"issue_id":"reaper-8xx","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.59289-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-7fw","type":"blocks","created_at":"2026-02-06T11:46:00.294254-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-key","type":"blocks","created_at":"2026-02-06T11:46:00.357206-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-c4r","type":"blocks","created_at":"2026-02-06T11:46:00.416376-08:00","created_by":"ryan"}]}
{"id":"reaper-9px","title":"Add Stop hooks to agents for orchestration","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T15:00:16.251589-08:00","created_by":"ryan","updated_at":"2026-01-12T15:11:55.738391-08:00","closed_at":"2026-01-12T15:11:55.738391-08:00","close_reason":"Closed"}
{"id":"reaper-a4r","title":"Build and verify all agents compile correctly","description":"Run npm run build and verify all generated agents are correct. Check: build completes without errors, all 17 agents generate valid markdown, spot-check key agents for correct content, verify no broken partial includes.\n\nFiles (read-only verification):\n- agents/*.md (generated - verify content)\n- src/agents/*.ejs (source - verify syntax)\n\nVerification Steps:\n1. npm run build\n2. Verify all 17 agents generate without errors\n3. Spot-check: feature-developer.md, refactoring-dev.md, test-runner.md\n4. Verify partial content appears in generated files\n5. No broken EJS includes\n\nAcceptance Criteria:\n- Build exits with code 0\n- 17 agent markdown files generated\n- No \"undefined\" or broken partial references in output\n- Key agents contain expected partial content","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:57.243098-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.485609-08:00","closed_at":"2026-01-23T12:51:59.485609-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-a4r","depends_on_id":"reaper-dgi","type":"blocks","created_at":"2026-01-23T12:22:03.6531-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-nsn","type":"blocks","created_at":"2026-01-23T12:22:03.784352-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-qwi","type":"blocks","created_at":"2026-01-23T12:22:03.890842-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-eg9","type":"blocks","created_at":"2026-01-23T12:22:04.010204-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-bf3","type":"blocks","created_at":"2026-01-23T12:22:04.133021-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-4lm","type":"blocks","created_at":"2026-01-23T12:22:04.223671-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-0l6","type":"blocks","created_at":"2026-01-23T12:22:04.338009-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:56.27896-08:00","created_by":"ryan"}]}
{"id":"reaper-a51","title":"Rename war-room command to huddle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T12:54:23.550701-08:00","created_by":"ryan","updated_at":"2026-02-04T12:54:39.019116-08:00","closed_at":"2026-02-04T12:54:39.019116-08:00","close_reason":"Renamed war-room to huddle across source templates, generated outputs, and agent references"}
{"id":"reaper-a9f","title":"Make flight-plan approval prompt more visually prominent","description":"Replace plain-text approval prompts in flight-plan with AskUserQuestion tool calls. This gives the PO structured Go/Cancel options while still allowing freeform feedback via the built-in \"Other\" escape hatch.\n\n## Locations to Change\n\n### 1. Phase 3 (line ~222) — Initial approval after plan summary\n\n**Current:** Plain text asking user to reply \"go\" or provide feedback.\n\n**Replace with:** After presenting the plan summary (file path, epic title, work unit count, parallelization %, critical path), call AskUserQuestion:\n\n```json\n{\n  \"questions\": [{\n    \"question\": \"Plan has N work units (M% parallelizable). Create issues in [Beads|Jira]?\",\n    \"header\": \"Plan Review\",\n    \"options\": [\n      {\"label\": \"Go\", \"description\": \"Create issues as shown in the plan\"},\n      {\"label\": \"Cancel\", \"description\": \"Abort planning — no issues created\"}\n    ],\n    \"multiSelect\": false\n  }]\n}\n```\n\nDynamic values: N = work unit count, M = parallelization %, [Beads|Jira] = detected task system.\n\n### 2. Phase 4 (line ~241) — Re-prompt after applying feedback\n\n**Current:** \"Confirm to user with summary of changes and re-prompt for approval.\"\n\n**Replace with:** After applying feedback and summarizing changes, call AskUserQuestion with the same structure as above (updated counts if units changed).\n\n### Response Mapping\n\nAskUserQuestion responses map to existing Phase 4 parsing:\n\n| AskUserQuestion Response | Maps To | Action |\n|--------------------------|---------|--------|\n| \"Go\" | Approve | Proceed to Phase 5 |\n| \"Cancel\" | Cancel | Acknowledge and stop |\n| \"Other\" (freeform text) | Feedback | Update plan file, re-prompt |\n\n### Markdown-Only Mode Variant\n\nWhen TASK_SYSTEM is markdown_only, adjust the prompt:\n\n```json\n{\n  \"questions\": [{\n    \"question\": \"Plan has N work units (M% parallelizable). Finalize plan file?\",\n    \"header\": \"Plan Review\",\n    \"options\": [\n      {\"label\": \"Go\", \"description\": \"Finalize plan file as deliverable\"},\n      {\"label\": \"Cancel\", \"description\": \"Abort planning\"}\n    ],\n    \"multiSelect\": false\n  }]\n}\n```\n\n## Acceptance Criteria\n\n- [ ] Phase 3 uses AskUserQuestion instead of plain text for approval\n- [ ] Phase 4 refinement loop uses AskUserQuestion for re-prompting\n- [ ] Dynamic values (unit count, parallelization %, task system) appear in the question text\n- [ ] Markdown-only mode uses \"Finalize plan file\" wording instead of \"Create issues\"\n- [ ] Phase 4 response parsing updated to handle AskUserQuestion answer format\n- [ ] \"Other\" freeform input feeds back into the refinement loop\n\n## Files\n\n- `src/commands/flight-plan.ejs` — Phase 3 (~line 222) and Phase 4 (~line 241)","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-05T20:27:41.778693-08:00","created_by":"ryan","updated_at":"2026-02-05T20:42:17.031975-08:00","closed_at":"2026-02-05T20:42:17.031975-08:00","close_reason":"Replaced plain-text approval with AskUserQuestion in Phase 3/4 of flight-plan template"}
{"id":"reaper-aqt","title":"Wire up test infrastructure","description":"## Objective\nConfigure package.json test script, verify node:test runs, establish module state reset pattern for config and stats singletons in build.js. Create test helper for process.exit stubbing.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] npm test runs node --test 'scripts/**/*.test.js' successfully\n- [ ] npm run test:coverage runs with --experimental-test-coverage\n- [ ] Test helper exists for resetting module state between tests\n- [ ] Test helper exists for stubbing process.exit\n- [ ] Existing 14 tests still pass\n\n## Scope\nFiles: package.json, scripts/build.test.js, scripts/test-helpers.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: exclusive (no overlap with other issues)\n**Parallel Group**: Must complete before group 2 can start","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:34.83211-08:00","created_by":"ryan","updated_at":"2026-02-06T00:36:39.594683-08:00","closed_at":"2026-02-06T00:36:39.594683-08:00","close_reason":"Test infrastructure wired up: npm test/test:coverage scripts, state reset helpers, coverage exclusions for untestable functions"}
{"id":"reaper-ayz","title":"Pre-deploy polish for Reaper v1.7.0","description":"Seven fixes identified by huddle audit before merging develop to main. See .claude/plans/reaper-huddle-deploy-readiness-audit.md for full audit and .claude/plans/reaper-v170-deploy-polish.md for implementation plan.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-04T18:36:47.06677-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.685238-08:00","closed_at":"2026-02-04T19:09:12.685238-08:00","close_reason":"Closed"}
{"id":"reaper-ayz.1","title":"Fix security-auditor validation contract","description":"## Objective\nCreate a security-specific pre-work validation partial that does NOT require TEST_RUNNER_RESULTS. The current pre-work-validation-review.ejs requires TEST_RUNNER_RESULTS but takeoff explicitly says not to send it to security-auditor (line 751). This contract mismatch causes security-auditor to silently exit.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] New partial src/partials/pre-work-validation-security.ejs exists with 3 validation requirements (TASK, WORKING_DIR, PLAN_CONTEXT)\n- [ ] TEST_RUNNER_RESULTS is not mentioned in the new partial\n- [ ] security-auditor.ejs line 15 includes the new partial instead of pre-work-validation-review\n- [ ] Tone of new partial follows natural language (no ALL-CAPS emphasis stacking)\n- [ ] pre-work-validation-review.ejs remains unchanged (still used by code-reviewer)\n\n## Scope\nFiles: src/partials/pre-work-validation-security.ejs (new), src/agents/security-auditor.ejs (edit line 15)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T18:36:59.976619-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.662831-08:00","closed_at":"2026-02-04T19:09:12.662831-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.1","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:36:59.992853-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.2","title":"Fix branch-manager and ops agent Stop hooks","description":"## Objective\nBranch-manager, performance-engineer, deployment-engineer, and incident-responder all use orchestrate-coding-agent.sh as their Stop hook. This script tells the orchestrator to re-enter quality gates, which is incorrect for branch-manager (terminal in pipeline) and ops agents.\n\nCreate role-appropriate hook scripts:\n- orchestrate-branch-manager.sh: Post-merge guidance (worktree cleanup, ticket closure, user notification)\n- orchestrate-ops-agent.sh: Ops-appropriate completion instructions (no quality gate re-entry)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] scripts/orchestrate-branch-manager.sh exists with post-merge instructions\n- [ ] scripts/orchestrate-ops-agent.sh exists with ops-appropriate completion instructions\n- [ ] branch-manager.ejs hook references orchestrate-branch-manager.sh\n- [ ] performance-engineer.ejs, deployment-engineer.ejs, incident-responder.ejs hooks reference orchestrate-ops-agent.sh\n- [ ] Neither new script instructs the orchestrator to re-enter quality gates\n\n## Scope\nFiles: scripts/orchestrate-branch-manager.sh (new), scripts/orchestrate-ops-agent.sh (new), src/agents/branch-manager.ejs, src/agents/performance-engineer.ejs, src/agents/deployment-engineer.ejs, src/agents/incident-responder.ejs","notes":"Cross-reference: reaper-ayz.3 also modifies performance-engineer.ejs (no-self-reporting extraction, ~line 204). This issue modifies only the Stop hook reference (line 9). Edits are in different sections and will not conflict.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T18:37:04.720558-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.672438-08:00","closed_at":"2026-02-04T19:09:12.672438-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.2","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:04.730187-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.3","title":"Clean up shared partial emphasis and extract no-self-reporting partial","description":"## Objective\nTwo related changes:\n\n(A) Tone down emphasis in shared partials. Replace ALL-CAPS + bold + CRITICAL with natural language for procedural requirements. Reserve strong emphasis ONLY for git-prohibitions.ejs (genuine safety constraint). Affected partials: pre-work-validation-coding.ejs, artifact-cleanup-coding.ejs, artifact-cleanup-review.ejs, no-commits-policy.ejs.\n\n(B) Extract the duplicated no-self-report-metrics instruction from 4 coding agents into src/partials/no-self-reporting.ejs. The text varies slightly across agents; unify to one canonical version.\n\nReference: docs/PROMPT_ENGINEERING.md flags aggressive emphasis as an Opus 4.5 anti-pattern.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] pre-work-validation-coding.ejs uses natural language (no CRITICAL, reduced bold)\n- [ ] artifact-cleanup-coding.ejs uses natural language\n- [ ] artifact-cleanup-review.ejs uses natural language\n- [ ] no-commits-policy.ejs uses natural language (except git safety stays emphatic)\n- [ ] git-prohibitions.ejs retains strong emphasis (safety constraint - do not change)\n- [ ] src/partials/no-self-reporting.ejs exists with canonical instruction\n- [ ] bug-fixer.ejs, feature-developer.ejs, refactoring-dev.ejs, performance-engineer.ejs include new partial instead of inline text\n\n## Scope\nFiles: src/partials/pre-work-validation-coding.ejs, src/partials/artifact-cleanup-coding.ejs, src/partials/artifact-cleanup-review.ejs, src/partials/no-commits-policy.ejs, src/partials/no-self-reporting.ejs (new), src/agents/bug-fixer.ejs, src/agents/feature-developer.ejs, src/agents/refactoring-dev.ejs, src/agents/performance-engineer.ejs","notes":"Cross-reference: reaper-ayz.2 also modifies performance-engineer.ejs (Stop hook reference, line 9). This issue modifies the no-self-reporting text (~line 204) and partial includes. Edits are in different sections and will not conflict.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:10.68546-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.676163-08:00","closed_at":"2026-02-04T19:09:12.676163-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.3","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:10.701949-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.4","title":"Simplify technical-writer JSON schema","description":"## Objective\nReplace the 96-line deeply nested JSON schema in technical-writer.ejs (lines 162-257) with a focused structure matching other agents. The current schema with word_count, total_pages, truthfulness_assessment, quality_metrics, and other nested metric objects encourages the agent to fabricate metrics to fill every field.\n\nNew schema should include: gate_status, task_id, working_dir, summary, blocking_issues, generated_documentation (list of files written), files_modified. Under 30 lines.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] JSON schema is under 30 lines\n- [ ] Contains gate_status, task_id, working_dir, summary, blocking_issues, generated_documentation, files_modified\n- [ ] No word_count, total_pages, or deeply nested metric objects\n- [ ] Field definitions are clear and concise\n\n## Scope\nFiles: src/agents/technical-writer.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:14.252252-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.67829-08:00","closed_at":"2026-02-04T19:09:12.67829-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.4","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:14.269816-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.5","title":"Add claude-sync reference and plan file discovery to takeoff","description":"## Objective\nTwo changes to src/commands/takeoff.ejs:\n\n(A) Self-learning consumer: In the Touchdown output section (~line 968), replace the current 'Apply these? I can add them to your project CLAUDE.md now.' with a reference to /reaper:claude-sync as the recommended follow-up when suggested_claude_md_entries are surfaced.\n\n(B) Plan file discovery: Add a step between Phase 3 (~line 119) and Phase 4 (~line 129) that searches .claude/plans/ for a matching plan file when a task ID is provided. If found, append its Research section to IMPLEMENTATION_PLAN to preserve flight-plan codebase research that would otherwise be lost after /clear. Graceful fallback if no plan file found.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Touchdown section references /reaper:claude-sync for suggested CLAUDE.md entries\n- [ ] Plan file discovery searches .claude/plans/ for files matching the task ID\n- [ ] If plan file found, its research context is appended to IMPLEMENTATION_PLAN\n- [ ] If no plan file found, behavior is unchanged (graceful fallback)\n\n## Scope\nFiles: src/commands/takeoff.ejs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-04T18:37:18.469191-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.680308-08:00","closed_at":"2026-02-04T19:09:12.680308-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.5","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:18.485968-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.6","title":"Build and verify rendered output","description":"## Objective\nRun npm run build to compile all EJS templates after all fixes are applied. Verify generated files at project root reflect all changes correctly.\n\nSpot-check key files:\n- agents/security-auditor.md (no TEST_RUNNER_RESULTS requirement)\n- agents/branch-manager.md (new hook reference)\n- Coding agent rendered output (no aggressive emphasis from partials)\n- agents/technical-writer.md (simplified schema)\n- commands/takeoff.md (claude-sync reference, plan file discovery)\n\n## Acceptance Criteria\n- [ ] npm run build succeeds without errors\n- [ ] Generated files match source template changes\n- [ ] Both source and generated files committed together\n\n## Scope\nFiles: All generated files in agents/, commands/, hooks/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:21.529405-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.682465-08:00","closed_at":"2026-02-04T19:09:12.682465-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:21.541548-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.1","type":"blocks","created_at":"2026-02-04T18:37:25.886188-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.2","type":"blocks","created_at":"2026-02-04T18:37:25.960297-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.3","type":"blocks","created_at":"2026-02-04T18:37:26.044028-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.4","type":"blocks","created_at":"2026-02-04T18:37:26.125531-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.5","type":"blocks","created_at":"2026-02-04T18:37:26.19373-08:00","created_by":"ryan"}]}
{"id":"reaper-b2f","title":"Improve CLAUDE.md prompt quality per ai-prompt-engineer audit","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T21:05:00.511731-08:00","created_by":"ryan","updated_at":"2026-02-05T21:05:09.794629-08:00","closed_at":"2026-02-05T21:05:09.794629-08:00","close_reason":"Applied all ai-prompt-engineer audit recommendations to CLAUDE.md"}
{"id":"reaper-bf3","title":"Refactor security-auditor to use review partials","description":"Security-auditor uses output-requirements but has inline pre-work validation and cleanup. Add: pre-work-validation-review (or security variant), artifact-cleanup-review. Preserve security-specific content (Trivy, Semgrep, TruffleHog scanning).\n\nFiles:\n- src/agents/security-auditor.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review\n- artifact-cleanup-review\n- output-requirements (already present, verify isReviewAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-eg9 (test-runner - same review partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/security-auditor.md contains partial content\n- Security-specific sections preserved (Trivy, Semgrep, TruffleHog)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:50.277945-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.467977-08:00","closed_at":"2026-01-23T12:51:59.467977-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-bf3","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.988784-08:00","created_by":"ryan"}]}
{"id":"reaper-bou","title":"Enhance takeoff \u0026 flight-plan commands","description":"Improve flight-plan and takeoff commands to:\n1. Present initial scope with minimal clarifying questions, refine iteratively\n2. Explore codebase in parallel before planning\n3. Invoke workflow-planner as forked subagent with full session context\n4. Skip redundant workflow-planner calls when issues are pre-planned\n\nSuccess Criteria:\n- flight-plan asks only critical clarifying questions upfront\n- flight-plan uses AskUserQuestion iteratively during refinement\n- flight-plan spawns parallel Explore agents for codebase research\n- flight-plan invokes workflow-planner as forked subagent\n- takeoff detects pre-planned issues and skips workflow-planner\n- All changes build correctly","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T15:33:34.568401-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.6301-08:00","closed_at":"2026-01-17T15:59:06.6301-08:00","close_reason":"Implemented and merged to develop"}
{"id":"reaper-bou.1","title":"Add iterative scope refinement with AskUserQuestion","description":"Modify flight-plan planning flow to:\n1. Minimize upfront questions - Only ask critical clarifying questions if input is truly ambiguous\n2. Present initial scope quickly - Generate first-pass scope without excessive questioning\n3. Refine iteratively - Use AskUserQuestion during subsequent refinement cycles as feedback comes in\n4. Avoid question overload - Never present more than 2-3 questions at once\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.2 (also modifies src/commands/flight-plan.ejs - coordinate changes)\n\nScope Boundary: This issue handles ONLY the question/refinement flow sections. Do NOT modify Explore agent spawning (handled by reaper-bou.2) or workflow-planner invocation (handled by reaper-bou.3).\n\nAcceptance Criteria:\n- Initial scope presented with minimal (0-2) upfront questions\n- AskUserQuestion used during refinement, not as blocking interview phase\n- User can provide feedback naturally without answering a survey\n- Flow feels conversational, not interrogative\n\nParallel Group: A (runs parallel with reaper-bou.2)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:46.937109-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.60992-08:00","closed_at":"2026-01-17T15:59:06.60992-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.1","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:46.947152-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.2","title":"Add parallel Explore agents for codebase research","description":"After gathering initial requirements, spawn parallel Explore subagents to research the codebase:\n- Search for relevant files/patterns based on user requirements\n- Understand existing architecture in affected areas\n- Identify potential dependencies and integration points\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.1 (also modifies src/commands/flight-plan.ejs - coordinate changes)\n\nScope Boundary: This issue handles ONLY the Explore agent spawning and result aggregation. Do NOT modify the question/refinement flow (handled by reaper-bou.1) or workflow-planner invocation (handled by reaper-bou.3).\n\nAcceptance Criteria:\n- Multiple Explore agents spawn in parallel using Task tool\n- Results are aggregated and used to inform planning\n- Research happens BEFORE workflow decomposition\n\nParallel Group: A (runs parallel with reaper-bou.1)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.213808-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.618175-08:00","closed_at":"2026-01-17T15:59:06.618175-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.2","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.214671-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.3","title":"Invoke workflow-planner as forked subagent","description":"Invoke reaper:workflow-planner as a FORKED subagent that receives full parent session context. This ensures the planner has access to:\n- All prior conversation context (user requirements, clarifications)\n- Explore agent results\n- Any files already read in the session\n\nThe fork pattern allows workflow-planner to leverage everything the parent has learned.\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.1, reaper-bou.2 (both also modify src/commands/flight-plan.ejs - this issue integrates their outputs)\n\nScope Boundary: This issue handles ONLY the workflow-planner invocation and result parsing. Assumes question/refinement (reaper-bou.1) and Explore agents (reaper-bou.2) are already implemented.\n\nAcceptance Criteria:\n- workflow-planner invoked with mechanism to pass full session context (fork)\n- Planner can reference prior conversation without re-explaining\n- Planning output is parsed and used to create issues\n- Verification phase (Phase 6) continues to work as before\n\nExecution Order: Runs AFTER reaper-bou.1 and reaper-bou.2 complete (sequential dependency)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.431131-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.620981-08:00","closed_at":"2026-01-17T15:59:06.620981-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.432025-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou.1","type":"blocks","created_at":"2026-01-17T15:33:54.119081-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou.2","type":"blocks","created_at":"2026-01-17T15:33:54.184589-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.4","title":"Skip workflow-planner for pre-planned issues","description":"Modify takeoff to detect when an epic/issue already has complete planning metadata and skip the redundant workflow-planner call.\n\nDetection criteria for pre-planned issues:\n- Issue has child tasks (parent-child relationship)\n- Child tasks have acceptance criteria\n- Dependencies are already mapped\n\nFiles: src/commands/takeoff.ejs\n\nScope Boundary: This issue modifies ONLY takeoff.ejs. Changes are independent from flight-plan modifications (reaper-bou.1, .2, .3).\n\nAcceptance Criteria:\n- takeoff queries issue hierarchy before calling workflow-planner\n- If pre-planned, skip to strategy execution directly\n- If not pre-planned, call workflow-planner as before\n- Clear logging indicates which path was taken\n\nParallel Group: B (runs parallel with Group A - no file overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.650021-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.623365-08:00","closed_at":"2026-01-17T15:59:06.623365-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.4","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.650912-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.5","title":"Build and validate templates","description":"Run npm run build to compile EJS templates and verify output.\n\nFiles: Generated files (commands/takeoff.md, commands/flight-plan.md)\n\nScope Boundary: This is the final validation step. Do NOT modify source templates - only build and verify.\n\nAcceptance Criteria:\n- Build completes without errors\n- Generated files match expected structure\n- Both source and generated files ready for commit\n\nExecution Order: Runs LAST after all other units complete (sequential dependency on all)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.866571-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.626456-08:00","closed_at":"2026-01-17T15:59:06.626456-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.867233-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.1","type":"blocks","created_at":"2026-01-17T15:33:54.385054-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.2","type":"blocks","created_at":"2026-01-17T15:33:54.448838-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.3","type":"blocks","created_at":"2026-01-17T15:33:54.511085-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.4","type":"blocks","created_at":"2026-01-17T15:33:54.574689-08:00","created_by":"ryan"}]}
{"id":"reaper-c33","title":"Update command descriptions with aviation theming","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T18:59:12.378956-08:00","created_by":"ryan","updated_at":"2026-01-02T19:02:01.694632-08:00","closed_at":"2026-01-02T19:02:01.694632-08:00","close_reason":"Closed"}
{"id":"reaper-c4r","title":"Fix pre-planned depth handling for nested hierarchies","description":"Ensure takeoff correctly processes task trees deeper than one level (epic to phases to tasks). Expand Pre-Planned Detection to check if children have children via LIST_CHILDREN on each. If tree is deeper than one level, flatten to leaf-level work units. Intermediate nodes become grouping labels not work units. Strategy selection uses leaf-level non-closed task count. Add Full Tree Scope documentation clarifying takeoff always executes the entire tree. TDD: Write tests first. Files: src/commands/takeoff.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-7fw and reaper-key. This issue owns the Pre-Planned Detection section only. Must not modify Per-Unit Cycle, Quick Reference, progress announcement (owned by reaper-7fw) or Continuation Rule, Completion section (owned by reaper-key). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Pre-Planned Detection section instructs LIST_CHILDREN on each child to detect deeper nesting\n- [ ] When tree depth \u003e 1, instructions flatten to leaf-level work units\n- [ ] Intermediate nodes are explicitly described as grouping labels, not work units\n- [ ] Strategy selection criteria reference leaf-level non-closed task count\n- [ ] A Full Tree Scope subsection or paragraph clarifies that takeoff always executes the entire tree\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:32.094718-08:00","created_by":"ryan","updated_at":"2026-02-06T12:04:23.341067-08:00","dependencies":[{"issue_id":"reaper-c4r","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.533034-08:00","created_by":"ryan"}]}
{"id":"reaper-c6o","title":"Redesign huddle skill: autonomous facilitator with TMZ pit energy","description":"Rewrite src/commands/huddle.ejs implementing all 14 design decisions from the huddle session. Replace the current 7-phase structure with the new 4-phase INTAKE/OPEN/CLASH/CONVERGE flow.\n\nKey changes:\n- INTAKE: Facilitator addresses the room, auto-selects experts, no PO confirmation gates\n- Scout-then-swarm: narrow concepts get a scout first, broad concepts deploy full panel\n- 3-agent-per-topic minimum enforced by facilitator\n- Question heuristic: ask PO only for info unknowable from codebase + domain expertise\n- OPEN: Forum-mode 300-word cap, capitalized job title nameplates (SECURITY AUDITOR)\n- CLASH: Adversarial framing, agents respond to each other by name, up to 2 cycles\n- Fresh-vs-resume lifecycle: resume for refinement/codebase work, fresh for opinion challenges\n- CONVERGE: First PO interaction with genuine decision points\n- No mandatory session document (conversation-first, file on request)\n- Default ending: offer flight-plan launch, not file dump\n- TMZ pit energy throughout, light humanizing touches on agents\n- Preserve: auto-selection keyword table, non-Reaper agent discovery, tool prohibitions, error handling\n\nFull specification in conversation history and .claude/plans/reaper-huddle-redesign.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-05T20:27:42.809121-08:00","created_by":"ryan","updated_at":"2026-02-05T21:06:03.26168-08:00","closed_at":"2026-02-05T21:06:03.26168-08:00","close_reason":"Huddle skill redesigned with 4-phase INTAKE/OPEN/CLASH/CONVERGE flow, prompt audit fixes applied, merged to develop"}
{"id":"reaper-car","title":"Add automated semantic versioning with commit-and-tag-version","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T11:16:16.258945-08:00","created_by":"ryan","updated_at":"2026-01-12T11:43:47.445007-08:00","closed_at":"2026-01-12T11:43:47.445007-08:00","close_reason":"Closed"}
{"id":"reaper-cso","title":"Pre-commit test gate and GitHub Actions CI workflow","description":"## Objective\nWire tests into the pre-commit hook and create GitHub Actions workflow for CI.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define expected CI behavior (test gates, coverage, failure modes)\n2. GREEN: Implement pre-commit hook changes and CI workflow\n3. BLUE: Optimize for speed (both suites under 3 seconds in pre-commit)\n\n## Acceptance Criteria\n- [ ] Pre-commit hook runs unit tests before build step\n- [ ] Pre-commit hook runs contract tests after build step\n- [ ] GitHub Actions workflow triggers on push and PR to develop and beads-sync\n- [ ] CI runs both test suites with coverage\n- [ ] CI fails PR if tests fail\n- [ ] Both suites complete under 3 seconds in pre-commit\n- [ ] All tests pass\n\n## Scope\nFiles: .husky/pre-commit, .github/workflows/test.yml (new)\n\n[Auto-added by verification]\n**Work Type**: ci_cd_pipeline\n**File Ownership**: exclusive (.husky/pre-commit, .github/workflows/test.yml)\n**Parallel Group**: Group 3 - must complete after all Group 2 issues\n**Cross-references**: Integrates all tests from reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:39.635994-08:00","created_by":"ryan","updated_at":"2026-02-06T01:03:51.028399-08:00","closed_at":"2026-02-06T01:03:51.028399-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-cso","depends_on_id":"reaper-2v8","type":"blocks","created_at":"2026-02-05T21:31:45.207691-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-7ze","type":"blocks","created_at":"2026-02-05T21:31:45.270584-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-x84","type":"blocks","created_at":"2026-02-05T21:31:45.334637-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-3o7","type":"blocks","created_at":"2026-02-05T21:31:45.398687-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-i5s","type":"blocks","created_at":"2026-02-05T21:31:45.45982-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-eug","type":"blocks","created_at":"2026-02-05T21:31:45.520573-08:00","created_by":"ryan"}]}
{"id":"reaper-dgi","title":"Refactor feature-developer to use partials","description":"Replace inline PRE-WORK VALIDATION, GIT PROHIBITIONS, and NO-COMMITS sections with partial includes. Use bug-fixer as the template. Preserve feature-specific content (TDD examples, JSON output structure).\n\nFiles:\n- src/agents/feature-developer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- git-prohibitions\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-nsn (refactoring-dev - same partials)\n- reaper-qwi (integration-engineer - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/feature-developer.md contains partial content\n- Feature-specific sections preserved","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:48.506067-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.432662-08:00","closed_at":"2026-01-23T12:51:59.432662-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-dgi","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:53.611305-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj","title":"Remove session tracking from flight-plan output","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:12:09.53449-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.229955-08:00","closed_at":"2026-01-23T12:31:04.229955-08:00","close_reason":"Closed"}
{"id":"reaper-dqj.1","title":"Remove User Feedback section from schema","description":"Delete the ## User Feedback section definition from Phase 0 schema (lines 45-52) and from the Phase 3 Write template (line 388-389). Acceptance: No User Feedback section in schema or Phase 3 template.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.270186-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.196806-08:00","closed_at":"2026-01-23T12:31:04.196806-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.1","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.287267-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.2","title":"Remove Status section from schema","description":"Delete the ## Status section definition from Phase 0 schema (lines 53-57) and from the Phase 3 Write template (lines 391-395). Acceptance: No Status section, no phase/iteration/ready tracking.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.615728-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.200739-08:00","closed_at":"2026-01-23T12:31:04.200739-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.2","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.617827-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.3","title":"Remove feedback/status from Update Rules table","description":"Delete User Feedback APPEND and Status REPLACE rows from Update Rules table (lines 68-69) and Phase 4 duplicate table (lines 469-479). Acceptance: Table only contains Input, Research, Work Units, Dependencies, Assumptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.941586-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.204441-08:00","closed_at":"2026-01-23T12:31:04.204441-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.3","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.943416-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.4","title":"Strip feedback logging from Phase 4","description":"Remove instructions to log user feedback to plan file (lines 430-456). Keep feedback handling logic but remove file-writing. Remove line 516 about capturing full history. Acceptance: No Edit() calls for User Feedback or iteration count.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:24.359985-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.208171-08:00","closed_at":"2026-01-23T12:31:04.208171-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:24.362081-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.1","type":"blocks","created_at":"2026-01-23T12:12:37.37957-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.2","type":"blocks","created_at":"2026-01-23T12:12:37.498673-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.3","type":"blocks","created_at":"2026-01-23T12:12:37.657193-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.5","title":"Remove living document framing","description":"Change line 23 from 'living document that accumulates context' to 'structured document containing the implementation plan'. Acceptance: No language suggesting plan accumulates session history.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:24.814924-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.210379-08:00","closed_at":"2026-01-23T12:31:04.210379-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.5","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:24.816874-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.6","title":"Clean up Phase 3 template output","description":"Update Write() template in Phase 3 to exclude User Feedback and Status sections. Plan should end after Assumptions. Acceptance: No placeholder comments like \u003c!-- No feedback yet --\u003e.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:25.408719-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.212399-08:00","closed_at":"2026-01-23T12:31:04.212399-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:25.410589-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj.1","type":"blocks","created_at":"2026-01-23T12:12:38.108311-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj.2","type":"blocks","created_at":"2026-01-23T12:12:38.227276-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.7","title":"Remove iteration tracking logic","description":"Remove iteration count references in Phase 4 refinement guidelines (line 481) and example edit sequence (lines 489-514). Acceptance: No mention of iteration counts in refinement flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:26.480508-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.217573-08:00","closed_at":"2026-01-23T12:31:04.217573-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.7","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:26.742642-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.7","depends_on_id":"reaper-dqj.4","type":"blocks","created_at":"2026-01-23T12:12:38.606407-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.8","title":"Standardize plan file path","description":"Replace all plan file path references with $CLAUDE_PROJECT_DIR/.claude/plans/reaper-[semantic-name].md. Fix inconsistencies: ./.claude/plans/ (line 10) and ~/.claude/plans/ (lines 327, 437, 451, 569, etc.). Acceptance: All paths use $CLAUDE_PROJECT_DIR/.claude/plans/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:27.639062-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.222839-08:00","closed_at":"2026-01-23T12:31:04.222839-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.8","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:27.655733-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.9","title":"Build and verify flight-plan changes","description":"Run npm run build and verify generated commands/flight-plan.md has no User Feedback section, no Status section, no iteration tracking, and all paths are $CLAUDE_PROJECT_DIR/.claude/plans/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:28.79539-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.226557-08:00","closed_at":"2026-01-23T12:31:04.226557-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:28.849906-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.5","type":"blocks","created_at":"2026-01-23T12:12:38.93952-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.6","type":"blocks","created_at":"2026-01-23T12:12:39.019861-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.7","type":"blocks","created_at":"2026-01-23T12:12:39.10221-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.8","type":"blocks","created_at":"2026-01-23T12:12:39.183858-08:00","created_by":"ryan"}]}
{"id":"reaper-eg9","title":"Refactor test-runner to use review partials","description":"Test-runner has inline pre-work validation and output requirements. Add: pre-work-validation-review (or test-runner variant), output-requirements with isReviewAgent:true, artifact-cleanup-review. Preserve test-runner specific content (full suite execution, coverage thresholds).\n\nFiles:\n- src/agents/test-runner.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review\n- output-requirements (with isReviewAgent: true)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-bf3 (security-auditor - same review partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/test-runner.md contains partial content\n- Test-runner-specific sections preserved (coverage thresholds, full suite execution)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:49.861875-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.462588-08:00","closed_at":"2026-01-23T12:51:59.462588-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-eg9","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.637819-08:00","created_by":"ryan"}]}
{"id":"reaper-eug","title":"Structural contract test suite for generated output","description":"## Objective\nValidate all generated output files satisfy structural contracts. Run post-build, consume files from disk.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests that define structural requirements\n2. GREEN: Verify generated output satisfies contracts\n3. BLUE: Refactor contracts to be data-driven and extensible\n\n## Acceptance Criteria\n- [ ] Every generated agent .md has valid YAML frontmatter with name and description\n- [ ] Every generated skill .md has valid YAML frontmatter with name\n- [ ] No generated file contains unresolved EJS tags\n- [ ] No generated file contains literal \"undefined\" strings (with awareness of legitimate code examples)\n- [ ] hooks/hooks.json parses as valid JSON with correct schema\n- [ ] Contract definitions are data-driven (easy to extend for new agents)\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/contracts.test.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: exclusive (scripts/contracts.test.js created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s after reaper-aqt completes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:38.947106-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.262259-08:00","closed_at":"2026-02-06T00:57:57.262259-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-eug","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.400746-08:00","created_by":"ryan"}]}
{"id":"reaper-f2n","title":"Update agent includes if interface changes","description":"Review the 4 agents using the TDD partial and update their includes if any parameter names changed. Verify all agent EJS files compile without errors.\n\nFiles:\n- src/agents/feature-developer.ejs (line 92)\n- src/agents/bug-fixer.ejs (line 58)\n- src/agents/integration-engineer.ejs (line 537)\n- src/agents/refactoring-dev.ejs (line 333)\n\nAcceptance Criteria:\n- All 4 agent EJS files compile without errors\n- Parameter names in includes match partial expectations\n- Any new philosophy parameters considered for agent customization\n\nRelated: reaper-wra (upstream partial changes)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:43.37285-08:00","created_by":"ryan","updated_at":"2026-01-23T13:38:08.055219-08:00","closed_at":"2026-01-23T13:38:08.055219-08:00","close_reason":"No interface changes needed - all 7 parameters preserved. All 4 agent EJS files compiled without errors.","dependencies":[{"issue_id":"reaper-f2n","depends_on_id":"reaper-wra","type":"blocks","created_at":"2026-01-23T13:20:59.751689-08:00","created_by":"ryan"}]}
{"id":"reaper-f3b","title":"Rebuild and verify output","description":"Run npm run build to regenerate all markdown files from templates. Verify the generated agent files contain the new testing philosophy content and no EJS syntax errors.\n\nCommands: npm run build\n\nAcceptance Criteria:\n- npm run build completes without errors\n- Generated agents/*.md files contain updated TDD protocol\n- No EJS syntax errors in output\n- Verify feature-developer.md, bug-fixer.md, integration-engineer.md, refactoring-dev.md all have new content\n\nRelated: reaper-wra (partial), reaper-f2n (agent includes)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:47.678124-08:00","created_by":"ryan","updated_at":"2026-01-23T13:38:08.134511-08:00","closed_at":"2026-01-23T13:38:08.134511-08:00","close_reason":"Build completed successfully. All generated agents contain updated TDD protocol content.","dependencies":[{"issue_id":"reaper-f3b","depends_on_id":"reaper-f2n","type":"blocks","created_at":"2026-01-23T13:20:59.840657-08:00","created_by":"ryan"}]}
{"id":"reaper-ftf","title":"Add conditional TodoWrite items to takeoff command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:09:41.247216-08:00","created_by":"ryan","updated_at":"2026-01-05T15:10:32.53896-08:00","closed_at":"2026-01-05T15:10:32.53896-08:00","close_reason":"Closed"}
{"id":"reaper-g4a","title":"Standardize JIRA_KEY references to generic TASK_ID","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:36:24.236664-08:00","created_by":"ryan","updated_at":"2026-01-05T15:37:40.962847-08:00","closed_at":"2026-01-05T15:37:40.962847-08:00","close_reason":"Closed"}
{"id":"reaper-i5s","title":"Unit test parseArgs and commitlint beads-ref plugin","description":"## Objective\nTest CLI argument parsing (with process.exit stubbing) and the commitlint beads-ref rule.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for each argument and commitlint rule path\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] parseArgs tested for: valid --type values, invalid types (stubbed exit), --help flag, --verbose flag, --watch flag, unknown args\n- [ ] Commitlint beads-ref rule tested for: chore commits (exempt), valid ref format, missing ref, invalid ref format, case sensitivity, multiline messages\n- [ ] process.exit stubbed correctly, not actually called\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js, scripts/commitlint.test.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s); exclusive (scripts/commitlint.test.js created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:38.270548-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.260419-08:00","closed_at":"2026-02-06T00:57:57.260419-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-i5s","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.343267-08:00","created_by":"ryan"}]}
{"id":"reaper-ibg","title":"Fix Agent Name Qualification","description":"Update agents/workflow-planner.md and commands/flight-plan.md to use fully qualified agent names (e.g., reaper:feature-developer instead of feature-developer).\n\nSuccess Criteria:\n- All subagent_type values prefixed with reaper:\n- All prose agent references use fully qualified names\n- No unqualified agent names remain in either file","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T20:27:20.139153-08:00","created_by":"ryan","updated_at":"2026-01-02T23:14:41.917187-08:00","closed_at":"2026-01-02T23:14:41.917187-08:00","close_reason":"All agent references updated with reaper: prefix"}
{"id":"reaper-ibg.1","title":"Update agent references in workflow-planner.md","description":"Find and replace all unqualified agent names with their reaper:-prefixed equivalents throughout the workflow-planner agent definition.\n\nFiles: agents/workflow-planner.md\n\nAgent Names to Update:\n- feature-developer -\u003e reaper:feature-developer\n- bug-fixer -\u003e reaper:bug-fixer\n- refactoring-specialist -\u003e reaper:refactoring-specialist\n- branch-manager -\u003e reaper:branch-manager\n- test-runner -\u003e reaper:test-runner\n- code-reviewer -\u003e reaper:code-reviewer\n- security-auditor -\u003e reaper:security-auditor\n- workflow-planner -\u003e reaper:workflow-planner\n- documentation-generator -\u003e reaper:documentation-generator\n\nAcceptance Criteria:\n- All subagent_type values use reaper: prefix\n- All prose references to agents use fully qualified names\n- File passes markdown linting\n- No unqualified agent names remain (verified by grep)\n\n---\nParallel Execution: Can run simultaneously with reaper-ibg.2 (no file overlap)\nRelated: reaper-ibg.2 (same naming convention update in different file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:27:30.351395-08:00","created_by":"ryan","updated_at":"2026-01-02T20:37:43.109721-08:00","closed_at":"2026-01-02T20:37:43.109721-08:00","close_reason":"Agent references updated with reaper: prefix","dependencies":[{"issue_id":"reaper-ibg.1","depends_on_id":"reaper-ibg","type":"parent-child","created_at":"2026-01-02T20:27:30.382291-08:00","created_by":"ryan"}]}
{"id":"reaper-ibg.2","title":"Update agent references in flight-plan.md","description":"Find and replace all unqualified agent names with their reaper:-prefixed equivalents throughout the flight-plan command.\n\nFiles: commands/flight-plan.md\n\nAgent Names to Update:\n- workflow-planner -\u003e reaper:workflow-planner\n\nAcceptance Criteria:\n- All subagent_type values use reaper: prefix\n- All prose references to agents use fully qualified names\n- File passes markdown linting\n- No unqualified agent names remain (verified by grep)\n\n---\nParallel Execution: Can run simultaneously with reaper-ibg.1 (no file overlap)\nRelated: reaper-ibg.1 (same naming convention update in different file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:27:30.685355-08:00","created_by":"ryan","updated_at":"2026-01-02T20:37:43.113907-08:00","closed_at":"2026-01-02T20:37:43.113907-08:00","close_reason":"Agent references updated with reaper: prefix","dependencies":[{"issue_id":"reaper-ibg.2","depends_on_id":"reaper-ibg","type":"parent-child","created_at":"2026-01-02T20:27:30.686129-08:00","created_by":"ryan"}]}
{"id":"reaper-io0","title":"Refactor agents to consistently use shared partials","description":"Refactor 7 agent templates to use shared EJS partials instead of inline duplicated content. This reduces maintenance burden and ensures consistency across agents.\n\nExecution Order:\n- Phase 1 (PARALLEL): All 7 refactoring tasks can run simultaneously\n  - Coding agents: reaper-dgi, reaper-nsn, reaper-qwi (similar partials)\n  - Review agents: reaper-eg9, reaper-bf3 (similar partials)\n  - Other agents: reaper-4lm, reaper-0l6 (similar partials)\n- Phase 2 (SEQUENTIAL): reaper-a4r (build verification) after all Phase 1 complete\n\nParallel Groups:\n- Group A (coding): reaper-dgi, reaper-nsn, reaper-qwi - exclusive file ownership\n- Group B (review): reaper-eg9, reaper-bf3 - exclusive file ownership\n- Group C (other): reaper-4lm, reaper-0l6 - exclusive file ownership\n\nAll tasks modify different files - no conflicts expected.\n\nAcceptance Criteria:\n- All 7 agents refactored to use partials\n- Build succeeds (npm run build)\n- Generated markdown files contain partial content\n- Agent-specific sections preserved","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:21:36.00861-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.493277-08:00","closed_at":"2026-01-23T12:51:59.493277-08:00","close_reason":"Completed: Refactored agents to use shared partials"}
{"id":"reaper-jj3","title":"Enforce TDD in flight-plan work units","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T13:01:44.727975-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.681297-08:00","closed_at":"2026-01-23T13:17:58.681297-08:00","close_reason":"TDD enforcement implemented and merged to develop"}
{"id":"reaper-jj3.1","title":"Add TDD constraint to Work Unit Constraints table","description":"Add a new row to the Work Unit Constraints table in Phase 2 of flight-plan.ejs that explicitly requires TDD methodology.\n\n**TDD Approach:** Write test assertion for constraint presence → Add constraint → Verify build passes\n\n**Acceptance Criteria:**\n- Work Unit Constraints table includes TDD methodology requirement\n- Clear guidance that tests must be written BEFORE implementation\n- Anti-pattern warning against \"implement first, test later\" structures\n\n**Files:** src/commands/flight-plan.ejs\n\n**Cross-Reference:** Related to reaper-jj3.2 (same file, different section - Phase 5 templates). This issue modifies Phase 2 only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:01:53.737919-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.667219-08:00","closed_at":"2026-01-23T13:17:58.667219-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.1","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:01:53.850746-08:00","created_by":"ryan"}]}
{"id":"reaper-jj3.2","title":"Add TDD requirement to issue description templates","description":"Modify the Phase 5 issue creation templates (both Beads and Jira) to include TDD methodology reference in issue descriptions.\n\n**TDD Approach:** Verify issue template structure → Add TDD boilerplate → Validate template syntax\n\n**Acceptance Criteria:**\n- Issue descriptions include \"TDD: Write failing tests first\" or similar\n- Both Beads and Jira templates updated consistently\n- Example shows proper TDD-structured work unit\n\n**Files:** src/commands/flight-plan.ejs\n\n**Cross-Reference:** Related to reaper-jj3.1 (same file, different section - Phase 2 constraints). This issue modifies Phase 5 only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:02:23.928594-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.676298-08:00","closed_at":"2026-01-23T13:17:58.676298-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.2","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:02:23.947939-08:00","created_by":"ryan"},{"issue_id":"reaper-jj3.2","depends_on_id":"reaper-jj3.1","type":"blocks","created_at":"2026-01-23T13:02:24.115871-08:00","created_by":"ryan"}]}
{"id":"reaper-jj3.3","title":"Rebuild and verify generated output","description":"Run the build system to regenerate commands/flight-plan.md and verify the TDD constraints appear correctly.\n\n**Acceptance Criteria:**\n- npm run build succeeds\n- Generated commands/flight-plan.md contains TDD constraints\n- No syntax errors or template issues\n\n**Files:** commands/flight-plan.md (generated)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:02:32.072049-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.679045-08:00","closed_at":"2026-01-23T13:17:58.679045-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.3","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:02:32.086129-08:00","created_by":"ryan"},{"issue_id":"reaper-jj3.3","depends_on_id":"reaper-jj3.2","type":"blocks","created_at":"2026-01-23T13:02:32.262366-08:00","created_by":"ryan"}]}
{"id":"reaper-k0w","title":"Fix user-invocable skill discovery","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T12:29:06.479362-08:00","created_by":"ryan","updated_at":"2026-01-18T12:29:28.248205-08:00","closed_at":"2026-01-18T12:29:28.248205-08:00","close_reason":"Fixed by restructuring skills to own directories"}
{"id":"reaper-key","title":"Strengthen completion guard and add re-read protocol","description":"Make it structurally difficult for the model to enter the Completion section prematurely. Add explicit TodoWrite re-read (TaskList) instruction to Continuation Rule. Convert single-sentence bounce-back into multi-step verification guard. Add STOP-Verify banner before Completion heading. Add Re-Read Protocol subsection to todowrite-plan-protocol. Add Dependency Chain subsection: User review blockedBy all work units, Merge blockedBy User review, Close tasks and Clean up worktrees both blockedBy Merge (parallel siblings). TDD: Write tests first. Files: src/commands/takeoff.ejs, src/partials/todowrite-plan-protocol.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-7fw and reaper-c4r. This issue owns the Continuation Rule, Completion and User Feedback section heading area, and the STOP-Verify banner. Must not modify Per-Unit Cycle loop structure or Quick Reference (owned by reaper-7fw) or Pre-Planned Detection section (owned by reaper-c4r). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Continuation Rule includes explicit TodoWrite re-read instruction (not just \"check TodoWrite\")\n- [ ] Continuation Rule uses multi-step verification guard instead of single-sentence bounce-back\n- [ ] A STOP-Verify banner appears before the Completion and User Feedback heading\n- [ ] todowrite-plan-protocol.ejs contains a Re-Read Protocol subsection\n- [ ] todowrite-plan-protocol.ejs contains a Dependency Chain subsection defining: User review blockedBy all work units, Merge blockedBy User review, Close tasks and Clean up worktrees both blockedBy Merge (parallel siblings)\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:27.67922-08:00","created_by":"ryan","updated_at":"2026-02-06T11:58:52.816239-08:00","dependencies":[{"issue_id":"reaper-key","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.47202-08:00","created_by":"ryan"}]}
{"id":"reaper-l2x","title":"Add comprehensive test suites to Reaper","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T21:31:31.313688-08:00","created_by":"ryan","updated_at":"2026-02-06T01:03:56.973637-08:00","closed_at":"2026-02-06T01:03:56.973637-08:00","close_reason":"Closed"}
{"id":"reaper-mqr","title":"Fix takeoff orchestrator: multi-child iteration and context discipline","description":"Fix two behavioral bugs in the takeoff orchestrator prompt: (1) it stops after completing the first child task instead of iterating through all children, and (2) it reads too many source files into its own context. Adds TodoWrite-driven iteration loop with explicit continuation rules, replaces vague file-reading guidance with a strict allowlist, and adds per-unit issue closing. Design brief: .claude/plans/reaper-huddle-takeoff-orchestration-fixes.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T20:34:09.115947-08:00","created_by":"ryan","updated_at":"2026-02-05T20:46:22.811126-08:00","closed_at":"2026-02-05T20:46:22.811126-08:00","close_reason":"Implemented iteration loop, file reading allowlist, and Quick Reference fix"}
{"id":"reaper-mqr.1","title":"Add iteration loop, file reading allowlist, and Quick Reference fix","description":"## Objective\nApply 4 coordinated prompt changes to fix the takeoff orchestrator's multi-child iteration and excessive file reading behaviors.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\nNote: This is a prompt-only change (EJS templates). \"Tests\" = build succeeds and compiled output contains expected text.\n\n## Changes\n\n### Change 1: Strategy Execution — Add continuation rule\nIn src/commands/takeoff.ejs (lines 99-110), replace the current Strategy Execution section with:\n- \"Execute ALL work units\" preamble\n- Per-Unit Cycle subsection with 5 steps (including CLOSE_ISSUE)\n- Progress echo instruction\n- Continuation Rule subsection referencing TodoWrite state\n\n### Change 2: Completion section trigger gate\nIn src/commands/takeoff.ejs (line 164), replace \"When all quality gates pass, present completed work:\" with explicit 3-condition trigger referencing TodoWrite completeness, with fallback to return to Strategy Execution.\n\n### Change 3: File reading allowlist\nIn src/partials/orchestrator-role-boundary.ejs (lines 32-34), replace vague \"understanding scope, gathering context\" with exhaustive 3-item allowlist (plan files, config files, scope verification).\n\n### Change 4: Quick Reference loop reinforcement\nIn src/commands/takeoff.ejs (lines 209-221), update step 6 to mention TodoWrite loop check, add step 9a for loop-back.\n\n## Acceptance Criteria\n- [ ] Strategy Execution contains \"Execute ALL work units\" preamble\n- [ ] Per-Unit Cycle has 5 steps including CLOSE_ISSUE for pre-planned children\n- [ ] Continuation Rule subsection explicitly references TodoWrite state\n- [ ] Progress echo instruction present (\"Completed X of N\")\n- [ ] Completion section has 3-condition trigger with TodoWrite reference\n- [ ] \"When to Read Files\" replaced with 3-item exhaustive allowlist\n- [ ] Quick Reference step 6 mentions TodoWrite loop check\n- [ ] Quick Reference has step 9a for loop-back\n- [ ] npm run build succeeds and generates valid commands/takeoff.md\n- [ ] No changes to sections outside the 4 targeted areas\n\n## Scope\nFiles:\n- src/commands/takeoff.ejs (modify)\n- src/partials/orchestrator-role-boundary.ejs (modify)\n\n## Context\nFull design brief with exact before/after text: .claude/plans/reaper-huddle-takeoff-orchestration-fixes.md\nPlan file: .claude/plans/reaper-takeoff-orchestration-fixes.md\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T20:34:24.070127-08:00","created_by":"ryan","updated_at":"2026-02-05T20:46:22.808708-08:00","closed_at":"2026-02-05T20:46:22.808708-08:00","close_reason":"Implemented iteration loop, file reading allowlist, and Quick Reference fix","dependencies":[{"issue_id":"reaper-mqr.1","depends_on_id":"reaper-mqr","type":"parent-child","created_at":"2026-02-05T20:34:24.074769-08:00","created_by":"ryan"}]}
{"id":"reaper-nnb","title":"Fix worktree-manager CWD safety documentation","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T18:52:30.678398-08:00","created_by":"ryan","updated_at":"2026-01-13T18:58:08.110751-08:00","closed_at":"2026-01-13T18:58:08.110751-08:00","close_reason":"Fixed in commit a07fc93"}
{"id":"reaper-nsn","title":"Refactor refactoring-dev to use partials","description":"This agent has the most inline duplication (~90%). Extract to partials: pre-work-validation, directory-exclusions, git-prohibitions, tdd-testing-protocol, artifact-cleanup, no-commits-policy, output-requirements. Preserve refactoring-specific sections (code smell detection, SOLID examples, complexity analysis).\n\nFiles:\n- src/agents/refactoring-dev.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- directory-exclusions\n- git-prohibitions\n- tdd-testing-protocol\n- artifact-cleanup-coding\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-dgi (feature-developer - same partials)\n- reaper-qwi (integration-engineer - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/refactoring-dev.md contains partial content\n- Refactoring-specific sections preserved\n- File size reduced by partial extraction","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:48.996841-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.446092-08:00","closed_at":"2026-01-23T12:51:59.446092-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-nsn","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.003594-08:00","created_by":"ryan"}]}
{"id":"reaper-o49","title":"Rename command file and mechanical find-replace","description":"## Objective\nRename src/commands/huddle.ejs to src/commands/squadron.ejs. Perform mechanical find-replace of all \"huddle\"/\"Huddle\" instances (~34) and all HUDDLE_* prompt prefixes to SQUADRON_*. Update file path conventions from reaper-huddle-* to reaper-squadron-*.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify the renamed file exists and contains no \"huddle\" references\n2. GREEN: Perform the rename and find-replace\n3. BLUE: Verify build succeeds\n\n## Acceptance Criteria\n- [ ] File renamed from src/commands/huddle.ejs to src/commands/squadron.ejs\n- [ ] All ~34 instances of \"huddle\"/\"Huddle\" replaced with \"squadron\"/\"Squadron\"\n- [ ] All 6 HUDDLE_* prompt prefixes renamed to SQUADRON_*\n- [ ] All reaper-huddle-* file path references updated to reaper-squadron-*\n- [ ] grep -ri \"huddle\" src/commands/ returns zero results\n- [ ] Build succeeds (npm run build)\n\n## Scope\nFiles: 1 (src/commands/squadron.ejs — renamed from huddle.ejs)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS command template in src/commands/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:39.63894-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.474218-08:00","closed_at":"2026-02-06T11:51:01.474218-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-o49","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:09.978744-08:00","created_by":"ryan"}]}
{"id":"reaper-p7c","title":"Re-theme huddle command to squadron","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T11:27:31.26261-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.48471-08:00","closed_at":"2026-02-06T11:51:01.48471-08:00","close_reason":"Squadron re-theme complete and merged to develop"}
{"id":"reaper-pq5","title":"Template Build System for DRY Plugin Development","description":"Create a DRY template build system for Reaper plugin. Extract repeated sections from agents into reusable partials, create Node.js build script with EJS templates, restructure source under ./src/, output to project root.\n\n## Execution Order (for reaper:takeoff)\n\n**Phase 1 - Analysis \u0026 Design (PARALLEL):**\n- reaper-pq5.1: Analyze agents\n- reaper-pq5.2: Design template structure\n\n**Phase 2 - Foundation (after Phase 1):**\n- reaper-pq5.3: Create src/ structure (needs .1 AND .2)\n- reaper-pq5.6: Build script (needs .2 only, can start when .2 done)\n\n**Phase 3 - Template Conversion (PARALLEL, after .3):**\n- reaper-pq5.4: Convert agents to EJS\n- reaper-pq5.5: Convert skills/commands/hooks\n\n**Phase 4 - Integration (after .4, .5, .6):**\n- reaper-pq5.7: npm scripts and hooks\n\n**Phase 5 - Verification (after .7):**\n- reaper-pq5.8: Verify build output matches\n\n## File Ownership\n- .1: Read-only analysis (agents/*.md)\n- .2: docs/build-system.md\n- .3: src/partials/*.ejs, src/README.md\n- .4: src/agents/*.ejs\n- .5: src/skills/**, src/commands/**, src/hooks/**\n- .6: scripts/build.js, package.json (devDependencies)\n- .7: package.json (scripts), .husky/pre-commit\n- .8: Verification only","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-12T16:00:57.647561-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.836193-08:00","closed_at":"2026-01-13T16:56:04.836193-08:00","close_reason":"Implemented EJS template build system"}
{"id":"reaper-pq5.1","title":"Analyze agents and extract shared sections","description":"Catalog all 17 agents, identify exact repeated sections (PRE-WORK VALIDATION, Directory Exclusions, OUTPUT REQUIREMENTS, Cleanup protocols), document variations per agent type (coding vs review vs planning). Deliverables: List of shared sections with line counts, variation matrix, recommended partial file structure. Files: agents/*.md (read only)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:03.942687-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.811633-08:00","closed_at":"2026-01-13T16:56:04.811633-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.1","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:03.952394-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.2","title":"Design template structure and build script","description":"Define EJS partial naming conventions, variable schema, build script architecture. Deliverables: Template syntax documentation, variable list (AGENT_NAME, AGENT_TYPE, etc.), build script pseudocode. Files: docs/build-system.md (new)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:04.146383-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.818326-08:00","closed_at":"2026-01-13T16:56:04.818326-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.2","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:04.147137-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.3","title":"Create src/ directory structure with partials","description":"Create source directory layout, extract shared sections into partial files. Deliverables: src/ directory with subdirectories, shared partials extracted (pre-work-validation.ejs, directory-exclusions.ejs, output-requirements.ejs, cleanup-protocol.ejs), README explaining structure. Files: src/partials/*.ejs, src/README.md. Blocked by: reaper-pq5.1, reaper-pq5.2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:12.941534-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.821501-08:00","closed_at":"2026-01-13T16:56:04.821501-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:12.949119-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5.1","type":"blocks","created_at":"2026-01-12T16:01:28.396479-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5.2","type":"blocks","created_at":"2026-01-12T16:01:28.454732-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.4","title":"Convert agents to EJS templates","description":"Convert all 17 agent .md files to EJS templates that include partials. Templates use includes for shared sections, variables for agent-specific content.\n\nFiles: src/agents/*.ejs (17 files)\n\nAcceptance Criteria:\n- All 17 agents converted to EJS templates\n- Each template uses \u003c%- include() %\u003e for shared sections (pre-work-validation, directory-exclusions, output-requirements, cleanup-protocol)\n- Agent-specific variables defined at top of each template\n- Templates follow naming convention from reaper-pq5.2 design\n\nRelated: reaper-pq5.5 (parallel work - converts skills/commands/hooks)\nBlocked by: reaper-pq5.3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.208903-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.823965-08:00","closed_at":"2026-01-13T16:56:04.823965-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.4","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.209647-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.4","depends_on_id":"reaper-pq5.3","type":"blocks","created_at":"2026-01-12T16:01:28.636289-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.5","title":"Convert skills, commands, hooks to templates","description":"Move skills, commands, hooks to src/ and convert any with shared content. Structure mirrors output structure.\n\nFiles: src/skills/** (~15 files), src/commands/** (~4 files), src/hooks/** (~2 files)\n\nAcceptance Criteria:\n- All skills, commands, hooks moved to src/ preserving directory structure\n- Any shared content extracted to partials where applicable\n- Template syntax consistent with agent templates from reaper-pq5.4\n- Build script (reaper-pq5.6) can process all component types\n\nRelated: reaper-pq5.4 (parallel work - converts agents)\nBlocked by: reaper-pq5.3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.410807-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.826341-08:00","closed_at":"2026-01-13T16:56:04.826341-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.5","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.41147-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.5","depends_on_id":"reaper-pq5.3","type":"blocks","created_at":"2026-01-12T16:01:28.695904-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.6","title":"Implement Node.js build script","description":"Create build.js that compiles EJS templates to output directories. Reads src/, outputs to project root (agents/, skills/, commands/, hooks/). Handles all component types, clear error messages, optional watch mode.\n\nFiles: scripts/build.js, package.json (add ejs dependency)\n\nAcceptance Criteria:\n- build.js compiles all EJS templates from src/ to project root\n- Handles agents, skills, commands, hooks directory structures\n- Clear error messages on template syntax errors\n- Optional --watch flag for development\n- Exit code 0 on success, non-zero on failure\n- ejs package added to package.json devDependencies\n\nRelated: reaper-pq5.7 (also modifies package.json - adds npm scripts)\nBlocked by: reaper-pq5.2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.620599-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.828557-08:00","closed_at":"2026-01-13T16:56:04.828557-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.6","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.621308-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.6","depends_on_id":"reaper-pq5.2","type":"blocks","created_at":"2026-01-12T16:01:28.914003-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.7","title":"Add npm scripts and pre-commit hook","description":"Add npm run build script, integrate with existing husky hooks. Pre-commit runs build and stages changes. Update documentation.\n\nFiles: package.json (scripts section), .husky/pre-commit\n\nAcceptance Criteria:\n- npm run build executes scripts/build.js\n- npm run build:watch executes with --watch flag\n- Pre-commit hook runs build and stages generated files\n- CLAUDE.md updated with build system documentation\n- No breaking changes to existing husky hooks\n\nRelated: reaper-pq5.6 (creates build.js that this integrates)\nBlocked by: reaper-pq5.4, reaper-pq5.5, reaper-pq5.6","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:19.700298-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.830884-08:00","closed_at":"2026-01-13T16:56:04.830884-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:19.706181-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.4","type":"blocks","created_at":"2026-01-12T16:01:29.110155-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.5","type":"blocks","created_at":"2026-01-12T16:01:29.172674-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.6","type":"blocks","created_at":"2026-01-12T16:01:29.233079-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.8","title":"Verify build output matches current files","description":"Run build, diff against current files, fix any discrepancies. npm run build must produce byte-identical output to current files. All tests pass, plugin loads correctly in Claude Code. Files: agents/*, skills/*, commands/*, hooks/*. Blocked by: reaper-pq5.7","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:19.907481-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.833836-08:00","closed_at":"2026-01-13T16:56:04.833836-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.8","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:19.908336-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.8","depends_on_id":"reaper-pq5.7","type":"blocks","created_at":"2026-01-12T16:01:29.405923-08:00","created_by":"ryan"}]}
{"id":"reaper-qor","title":"Add --timeout and --network-timeout flags","description":"## Objective\nAllow users/AI to configure timeout duration via command-line flags.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Add --timeout \u003cseconds\u003e flag (default 120)\n- [ ] Update usage() help text with AI context (explain why 120s default)\n- [ ] Validate timeout is positive integer ≥10\n- [ ] Separate --network-timeout \u003cseconds\u003e for git push/fetch operations (default 30)\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:01.654704-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:26.40684-08:00","closed_at":"2026-02-06T12:22:26.40684-08:00","close_reason":"Implemented and merged to develop in commit c50969c","dependencies":[{"issue_id":"reaper-qor","depends_on_id":"reaper-y0w","type":"blocks","created_at":"2026-01-23T19:20:11.983711-08:00","created_by":"ryan"}]}
{"id":"reaper-qwi","title":"Add standard partials to integration-engineer","description":"Integration-engineer is missing all standard coding agent sections. Add: pre-work-validation-coding, directory-exclusions, git-prohibitions, tdd-testing-protocol, artifact-cleanup-coding, file-conflict-detection, no-commits-policy. Preserve all integration-specific content (OAuth, webhooks, message queues).\n\nFiles:\n- src/agents/integration-engineer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- directory-exclusions\n- git-prohibitions\n- tdd-testing-protocol\n- artifact-cleanup-coding\n- file-conflict-detection\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-dgi (feature-developer - same partials)\n- reaper-nsn (refactoring-dev - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/integration-engineer.md contains partial content\n- Integration-specific sections preserved (OAuth, webhooks, message queues)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:49.469235-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.453388-08:00","closed_at":"2026-01-23T12:51:59.453388-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-qwi","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.335188-08:00","created_by":"ryan"}]}
{"id":"reaper-st3","title":"Convert commands to skills","description":"Convert existing commands to skills with user-invocable flag, enabling /reaper:* invocation syntax while eliminating the separate commands/ directory.\n\n**Execution Order (for orchestrator):**\n\n**Phase 1 - Setup (Sequential)**\n- reaper-st3.1: Create orchestration skill category\n\n**Phase 2 - Migration (Parallel - 4 agents)**\n- reaper-st3.2: Migrate flight-plan\n- reaper-st3.3: Migrate takeoff\n- reaper-st3.4: Migrate status-worktrees\n- reaper-st3.5: Migrate claude-sync\n\n**Phase 3 - Cleanup (Sequential)**\n- reaper-st3.6: Remove old command files\n\n**Phase 4 - Tooling (Parallel - 2 agents)**\n- reaper-st3.7: Update build system\n- reaper-st3.8: Update pre-commit hook\n\n**Phase 5 - Documentation (Sequential)**\n- reaper-st3.9: Update CLAUDE.md\n\n**Phase 6 - Verification (Sequential)**\n- reaper-st3.10: Build and verify\n\n**Strategy:** medium_single_branch (no file overlap between parallel units)\n**Total:** 10 issues, 4 phases with parallel opportunities","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T19:55:15.584787-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.091773-08:00","closed_at":"2026-01-17T21:53:51.091773-08:00","close_reason":"Closed"}
{"id":"reaper-st3.1","title":"Create orchestration skill category","description":"Create src/skills/orchestration/SKILL.ejs with parent skill definition for the orchestration category.\n\n**Files:**\n- src/skills/orchestration/SKILL.ejs (create)\n\n**Acceptance Criteria:**\n- SKILL.ejs created with proper frontmatter (name, globs, alwaysApply)\n- Template includes category description for orchestration skills\n- Build succeeds: npm run build\n\n**Size:** 1 file, ~30 LOC","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:28.328376-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.065107-08:00","closed_at":"2026-01-17T21:53:51.065107-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.1","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:28.34011-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.10","title":"Build and verify conversion","description":"Run npm run build and verify the complete conversion.\n\n**Verification Steps:**\n1. Run npm run build\n2. Verify skills/orchestration/ contains: flight-plan.md, takeoff.md, status-worktrees.md, claude-sync.md, SKILL.md\n3. Verify commands/ directory no longer exists\n4. Verify /reaper:flight-plan, /reaper:takeoff, /reaper:status-worktrees, /reaper:claude-sync are invocable\n\n**Acceptance Criteria:**\n- Build completes without errors\n- All 4 skills generated in skills/orchestration/\n- No commands/ directory in project\n- Skills accessible via /reaper:* syntax\n\n**Size:** 0 files changed, verification only","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.909645-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.0892-08:00","closed_at":"2026-01-17T21:53:51.0892-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.10","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.910249-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.10","depends_on_id":"reaper-st3.9","type":"blocks","created_at":"2026-01-17T19:55:44.108764-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.2","title":"Migrate flight-plan command to skill","description":"Move src/commands/flight-plan.ejs to src/skills/orchestration/flight-plan.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/flight-plan.ejs (move FROM)\n- src/skills/orchestration/flight-plan.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: flight-plan, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.3, reaper-st3.4, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.062531-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.069337-08:00","closed_at":"2026-01-17T21:53:51.069337-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.2","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.0737-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.2","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.57073-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.3","title":"Migrate takeoff command to skill","description":"Move src/commands/takeoff.ejs to src/skills/orchestration/takeoff.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/takeoff.ejs (move FROM)\n- src/skills/orchestration/takeoff.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: takeoff, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.4, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.60177-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.072155-08:00","closed_at":"2026-01-17T21:53:51.072155-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.3","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.609202-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.3","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.638272-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.4","title":"Migrate status-worktrees command to skill","description":"Move src/commands/status-worktrees.ejs to src/skills/orchestration/status-worktrees.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/status-worktrees.ejs (move FROM)\n- src/skills/orchestration/status-worktrees.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: status-worktrees, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.3, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.99003-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.074404-08:00","closed_at":"2026-01-17T21:53:51.074404-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.4","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.990819-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.4","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.754624-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.5","title":"Migrate claude-sync command to skill","description":"Move src/commands/claude-sync.ejs to src/skills/orchestration/claude-sync.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/claude-sync.ejs (move FROM)\n- src/skills/orchestration/claude-sync.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: claude-sync, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.3, reaper-st3.4 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.330886-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.076966-08:00","closed_at":"2026-01-17T21:53:51.076966-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.5","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.331541-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.5","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.819444-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.6","title":"Remove old command files and directory","description":"Delete src/commands/*.ejs source files and remove generated commands/ directory.\n\n**Files:**\n- src/commands/flight-plan.ejs (delete)\n- src/commands/takeoff.ejs (delete)\n- src/commands/status-worktrees.ejs (delete)\n- src/commands/claude-sync.ejs (delete)\n- commands/ (delete entire directory)\n\n**Acceptance Criteria:**\n- All src/commands/*.ejs files removed\n- commands/ directory removed from project root\n- No orphan references remain\n\n**Size:** 4 files + 1 directory deletion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.589845-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.07936-08:00","closed_at":"2026-01-17T21:53:51.07936-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.590539-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.2","type":"blocks","created_at":"2026-01-17T19:55:42.996394-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.3","type":"blocks","created_at":"2026-01-17T19:55:43.068869-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.4","type":"blocks","created_at":"2026-01-17T19:55:43.13303-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.5","type":"blocks","created_at":"2026-01-17T19:55:43.195909-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.7","title":"Update build system","description":"Remove \"commands\" from DIRECTORY_MAP in scripts/build.js.\n\n**Files:**\n- scripts/build.js (modify)\n\n**Acceptance Criteria:**\n- DIRECTORY_MAP no longer contains commands entry\n- Build still succeeds without commands directory\n- npm run build completes cleanly\n\n**Related Issues:**\n- Parallel with: reaper-st3.8 (both update build tooling)\n\n**Size:** 1 file, ~5 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.958073-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.081493-08:00","closed_at":"2026-01-17T21:53:51.081493-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.7","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.958664-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.7","depends_on_id":"reaper-st3.6","type":"blocks","created_at":"2026-01-17T19:55:43.377892-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.8","title":"Update pre-commit hook","description":"Remove \"commands/\" from git add in .husky/pre-commit hook.\n\n**Files:**\n- .husky/pre-commit (modify)\n\n**Acceptance Criteria:**\n- Pre-commit hook no longer references commands/\n- Hook still stages agents/, skills/, hooks/ correctly\n- Commit succeeds with hook enabled\n\n**Related Issues:**\n- Parallel with: reaper-st3.7 (both update build tooling)\n\n**Size:** 1 file, ~2 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.28841-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.084148-08:00","closed_at":"2026-01-17T21:53:51.084148-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.8","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.289043-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.8","depends_on_id":"reaper-st3.6","type":"blocks","created_at":"2026-01-17T19:55:43.442386-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.9","title":"Update documentation","description":"Update CLAUDE.md to remove commands/ from Project Structure and Source vs Generated table.\n\n**Files:**\n- CLAUDE.md (modify)\n\n**Acceptance Criteria:**\n- Project Structure section no longer lists commands/\n- Source vs Generated table removes commands/*.ejs and commands/*.md rows\n- Build Commands section updated if needed\n- Document accurately reflects new structure\n\n**Size:** 1 file, ~10 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.641045-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.086986-08:00","closed_at":"2026-01-17T21:53:51.086986-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.642311-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3.7","type":"blocks","created_at":"2026-01-17T19:55:43.66369-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3.8","type":"blocks","created_at":"2026-01-17T19:55:43.773472-08:00","created_by":"ryan"}]}
{"id":"reaper-t7o","title":"Remove plan mode tool calls from flight-plan","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:13:52.875405-08:00","created_by":"ryan","updated_at":"2026-01-18T15:15:22.995201-08:00","closed_at":"2026-01-18T15:15:22.995201-08:00","close_reason":"Closed"}
{"id":"reaper-tgl","title":"Add pre-removal lock detection with AI diagnostics","description":"## Objective\nBefore attempting removal, check for conditions that commonly cause hangs. Provide AI-parseable diagnostics with exact remediation commands.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Check for .git/worktrees/\u003cname\u003e/locked file\n- [ ] AI-first error with ERROR_CODE: WORKTREE_LOCKED, LOCK_FILE, LOCK_REASON\n- [ ] Remediation: git worktree unlock command provided\n- [ ] Use lsof to detect open file handles (graceful skip if unavailable)\n- [ ] WARNING_CODE: OPEN_FILE_HANDLES with process list\n- [ ] Add --skip-lock-check flag to bypass detection (for CI/headless)\n- [ ] --force flag bypasses lock check with warning\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:01.227224-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:26.403635-08:00","closed_at":"2026-02-06T12:22:26.403635-08:00","close_reason":"Implemented and merged to develop in commit c50969c"}
{"id":"reaper-uf6","title":"Add close task reminder to takeoff command TodoWrite","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T12:31:45.580903-08:00","created_by":"ryan","updated_at":"2026-01-05T12:42:56.055125-08:00","closed_at":"2026-01-05T12:42:56.055125-08:00","close_reason":"Closed"}
{"id":"reaper-wpi","title":"Worktree cleanup safety: require explicit branch disposition","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T16:27:38.298529-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.338547-08:00","closed_at":"2026-01-13T17:57:14.338547-08:00","close_reason":"Closed"}
{"id":"reaper-wpi.1","title":"Add explicit branch disposition to worktree-cleanup.sh","description":"Modify worktree-cleanup.sh to require either --keep-branch or --delete-branch when removing a worktree with an associated branch. If neither specified, exit with helpful error message explaining the required flags.\n\nFiles: scripts/worktree-cleanup.sh in the worktree-manager skill\n\nAcceptance Criteria:\n- Running cleanup without --keep-branch or --delete-branch exits with code 3\n- Error message explains both flags and their purpose\n- --delete-branch flag added (new) - explicitly removes branch (current default behavior made explicit)\n- --keep-branch flag remains as-is but now required vs optional\n- Protected branches (develop, main, master) skip this requirement\n- --dry-run shows what branch disposition would occur\n- All existing tests pass after changes\n\nRelated: reaper-wpi.2 (docs), reaper-wpi.3 (reference docs) - these describe this implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.023412-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.330404-08:00","closed_at":"2026-01-13T17:57:14.330404-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.1","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.02978-08:00","created_by":"ryan"}]}
{"id":"reaper-wpi.2","title":"Update SKILL.md documentation for new branch flags","description":"Update the worktree-manager skill's main documentation to reflect the new required --keep-branch and --delete-branch flags with examples.\n\nFiles: SKILL.md in the worktree-manager skill\n\nAcceptance Criteria:\n- Updated worktree-cleanup.sh usage shows both --keep-branch and --delete-branch as mutually exclusive required flags\n- Updated examples show typical usage: --delete-branch for completed work, --keep-branch for preserving branches\n- Error message example showing what happens without flag\n\nDepends on: reaper-wpi.1 (implements the feature being documented)\nRelated: reaper-wpi.3 (detailed reference docs for same feature)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.347832-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.33453-08:00","closed_at":"2026-01-13T17:57:14.33453-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.2","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.348611-08:00","created_by":"ryan"},{"issue_id":"reaper-wpi.2","depends_on_id":"reaper-wpi.1","type":"blocks","created_at":"2026-01-12T16:28:54.106254-08:00","created_by":"ryan"}]}
{"id":"reaper-wpi.3","title":"Update reference.md documentation for new branch flags","description":"Update the worktree-manager skill's detailed reference documentation with complete information about explicit branch disposition: new --delete-branch flag, exit codes, design rationale.\n\nFiles: reference.md in the worktree-manager skill\n\nAcceptance Criteria:\n- Exit code 3 documented for missing branch disposition\n- --delete-branch flag documented in options table\n- Design rationale section explains WHY explicit choice is required (safety, preventing accidental branch deletion)\n- Updated cleanup actions section reflects new behavior\n- Best practices updated to recommend explicit flag choice\n\nDepends on: reaper-wpi.1 (implements the feature being documented)\nRelated: reaper-wpi.2 (SKILL.md docs for same feature)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.598679-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.33648-08:00","closed_at":"2026-01-13T17:57:14.33648-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.3","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.599415-08:00","created_by":"ryan"},{"issue_id":"reaper-wpi.3","depends_on_id":"reaper-wpi.1","type":"blocks","created_at":"2026-01-12T16:28:54.291458-08:00","created_by":"ryan"}]}
{"id":"reaper-wra","title":"Rewrite TDD partial with testing philosophy","description":"Rewrite src/partials/tdd-testing-protocol.ejs to be shorter (~40-50 lines vs 77), add practical testing philosophy (sparse unit tests for pure functions only, favor integration tests, avoid brittle/regression-prone tests), frame as 'default standard in lieu of explicit guidance' so users can override. Preserve red-green-blue reminder and targeted testing scope.\n\nFiles: src/partials/tdd-testing-protocol.ejs\n\nAcceptance Criteria:\n- Partial is \u003c=50 lines\n- Contains clear testing philosophy (unit sparse, integration favored)\n- Has explicit 'default standard' framing that invites override\n- Maintains backward compatibility with existing 7 parameters\n- Red-green-blue cycle mentioned but concise\n- Anti-patterns listed (flaky tests, string matching, over-mocking)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:40.010833-08:00","created_by":"ryan","updated_at":"2026-01-23T13:36:23.325825-08:00","closed_at":"2026-01-23T13:36:23.325825-08:00","close_reason":"Rewritten TDD partial with testing philosophy - 47 lines, integration-first approach, default standard framing"}
{"id":"reaper-x84","title":"Unit test getAgentType and formatError pure functions","description":"## Objective\nTest pure functions with zero side effects. Quick wins for coverage.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests defining all expected behaviors\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] getAgentType tested for all known agent names and returns correct categories\n- [ ] getAgentType returns 'unknown' for unrecognized names\n- [ ] formatError tested for: EJS errors, errors with line numbers, generic errors, errors without stack traces\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:36.942544-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.256772-08:00","closed_at":"2026-02-06T00:57:57.256772-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-x84","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.224113-08:00","created_by":"ryan"}]}
{"id":"reaper-y0w","title":"Add timeout wrapper with AI remediation output","description":"## Objective\nWrap git worktree remove (lines 377-386) with timeout command. Default 120s timeout (large node_modules take time). On timeout, provide AI-parseable remediation guide.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] git worktree remove wrapped with timeout 120s (configurable)\n- [ ] Timeout exit code (124) detected and handled\n- [ ] AI-first error output with structured === AI REMEDIATION GUIDE === block\n- [ ] ERROR_CODE, WORKTREE_PATH, TIMEOUT_SECONDS clearly labeled\n- [ ] REMEDIATION_STEPS provide exact copy-paste commands\n- [ ] Progressive remediation: retry with longer timeout → pre-delete large dirs → force prune\n- [ ] Also wrap git push origin --delete with 30s network timeout\n- [ ] Existing --force behavior preserved\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:00.767071-08:00","created_by":"ryan","updated_at":"2026-01-23T20:41:56.849986-08:00","closed_at":"2026-01-23T20:41:56.849986-08:00","close_reason":"Implemented timeout wrapper with AI remediation output"}
{"id":"reaper-yg5","title":"Rewrite voice anchor, moderator voice, and PO-facing storytelling","description":"## Objective\nApply creative flavor changes from the squadron brief:\n1. Replace voice anchor (L11) with: \"squadron lead running a debrief — sharp and clipped when addressing experts. When turning to the PO, shift to narrator: quote the experts, tell the story of where the debate went, connect the dots rather than listing bullets.\"\n2. Update Moderator Voice section (L530-539) to align with new anchor\n3. Rewrite PO-facing synthesis examples to storytelling pattern (post-OPEN, CONVERGE, risk surfacing, default ending)\n4. Update opening address (L44): aviation-themed greeting\n\n## Before/After Voice Examples\n| Context | Before | After |\n|---------|--------|-------|\n| Post-OPEN | \"Interesting. So DATABASE ARCHITECT and API DESIGNER agree on X...\" | \"DATABASE ARCHITECT came in hot: '[quote].' API DESIGNER backed that play, but SECURITY AUDITOR went the other way...\" |\n| CONVERGE | \"Here's where we landed: [bullet list]\" | \"Here's the story. The panel locked in early on X — CLOUD ARCHITECT called it '[quote]'...\" |\n| Risk surfacing | \"Risks identified: [bullet list]\" | \"One thing kept coming up. SECURITY AUDITOR flagged it first — '[quote]'...\" |\n\n## TDD Approach\n1. RED: Verify voice anchor no longer contains \"TMZ newsroom moderator\"\n2. GREEN: Apply all voice/flavor rewrites\n3. BLUE: Verify expert-facing sharp lines preserved unchanged\n\n## Acceptance Criteria\n- [ ] Voice anchor replaced with squadron lead persona\n- [ ] Moderator Voice section aligned with new anchor\n- [ ] PO-facing synthesis examples use storytelling pattern with expert quotes\n- [ ] Default ending uses \"Mission brief complete\" or equivalent\n- [ ] Expert-facing sharp lines preserved (\"that's thin, give me something I can work with\")\n- [ ] No military jargon beyond gentle flavor\n\n## Scope\nFiles: 1 (src/commands/squadron.ejs — after Unit 1 rename)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS command template in src/commands/)\n\n## Cross-Issue Awareness\nThis unit edits the file renamed in Unit 1 (reaper-o49). Unit 1 must complete first to avoid file-not-found errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:52.917799-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.480083-08:00","closed_at":"2026-02-06T11:51:01.480083-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-yg5","depends_on_id":"reaper-o49","type":"blocks","created_at":"2026-02-06T11:27:59.463157-08:00","created_by":"ryan"},{"issue_id":"reaper-yg5","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:10.937324-08:00","created_by":"ryan"}]}
{"id":"reaper-ywn","title":"Fix takeoff to always complete full task trees","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-06T11:45:14.436067-08:00","created_by":"ryan","updated_at":"2026-02-06T11:45:14.436067-08:00"}
{"id":"reaper-z6l","title":"Revert to commands from skills","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T12:45:56.768521-08:00","created_by":"ryan","updated_at":"2026-01-18T12:46:32.496075-08:00","closed_at":"2026-01-18T12:46:32.496075-08:00","close_reason":"Reverted to commands"}
