{"id":"reaper-027r","title":"Fix flight-plan to list all top-level issue IDs in takeoff recommendation","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-19T17:30:35.651059-08:00","created_by":"ryan","updated_at":"2026-02-19T17:30:50.270601-08:00","closed_at":"2026-02-19T17:30:50.270601-08:00","close_reason":"Fix already committed at 43ab7ee on develop"}
{"id":"reaper-056","title":"Convert repository to Claude Code plugin structure","description":"Add plugin.json, rename commands, add hooks, validate structure","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T16:03:50.156172-08:00","created_by":"ryan","updated_at":"2026-01-02T18:00:39.095171-08:00","closed_at":"2026-01-02T18:00:39.095171-08:00","close_reason":"Closed"}
{"id":"reaper-06y","title":"Add command-level contract tests for all 6 commands","description":"Add contract tests in scripts/contracts.test.js validating all 6 commands (ship, takeoff, status-worktrees, flight-plan, squadron, claude-sync) for: YAML frontmatter presence, description field in frontmatter, and structural sections (## level headings). Follow existing data-driven pattern (SEMANTIC_CONTRACTS, registerSemanticSuite). Use existing helpers (extractFrontmatter, frontmatterHasField, hasSection, collectFiles). TDD: write failing assertions first, verify they pass against existing generated files. Update MEMORY.md test count after.\n\n[Auto-added by verification]\nwork_type: test_code\nagent: reaper:bug-fixer\nassigned_files: scripts/contracts.test.js, MEMORY.md\nfile_ownership: exclusive\nacceptance_criteria:\n- All 6 commands have frontmatter presence tests\n- All 6 commands have description field tests\n- All 6 commands have structural section (## heading) tests\n- Tests follow SEMANTIC_CONTRACTS data-driven pattern\n- All new tests pass against existing generated command files\n- MEMORY.md test count updated to reflect new assertions\nsibling_issues: reaper-8xq (ship scan), reaper-an2 (coverage flags) ‚Äî no file overlap, all independent under epic reaper-lfc","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T12:33:06.699879-08:00","created_by":"ryan","updated_at":"2026-02-07T13:57:14.49418-08:00","closed_at":"2026-02-07T13:57:14.49418-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-06y","depends_on_id":"reaper-lfc","type":"blocks","created_at":"2026-02-07T12:33:15.08191-08:00","created_by":"ryan"}]}
{"id":"reaper-0gu7","title":"Apply dirty-root escalation check in takeoff","description":"## Objective\nEdit src/commands/takeoff.ejs to add a universal dirty-root escalation step that fires after strategy is determined from any source (workflow-planner JSON, pre-planned detection, or plan file). Run npm run build after to regenerate commands/takeoff.md.\n\n## File Ownership\nEXCLUSIVE files: src/commands/takeoff.ejs, commands/takeoff.md (generated)\nDo NOT edit scripts/contracts.test.js ‚Äî contract tests are owned by reaper-ran4.\n\n## Cross-References\n- reaper-pc2u: Parallel sibling ‚Äî adds the same escalation logic to workflow-planner.ejs (no file overlap)\n- reaper-ran4: Blocked by this issue ‚Äî will add contract tests after this work is built\n\n## Implementation Approach\n1. Add a post-selection dirty-root escalation step to takeoff.ejs applied universally (not just in pre-planned path)\n2. Run npm run build to regenerate commands/takeoff.md\n3. Verify all existing tests pass (npm test)\n\n## Acceptance Criteria\n- [ ] takeoff.ejs contains a post-selection dirty-root escalation step applied universally (not just in pre-planned path)\n- [ ] Check runs git status --porcelain on repo root; non-empty output = dirty\n- [ ] If dirty AND strategy is very_small_direct, override to medium_single_branch with logged rationale\n- [ ] User-visible message: 'Root directory has uncommitted changes ‚Äî upgrading to medium_single_branch for worktree isolation'\n- [ ] npm run build completes without errors\n- [ ] All existing tests pass\n\n## Work Type\napplication_code","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:18:15.826271-08:00","created_by":"ryan","updated_at":"2026-02-19T14:36:38.391568-08:00","closed_at":"2026-02-19T14:36:38.391568-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0gu7","depends_on_id":"reaper-4al4","type":"blocks","created_at":"2026-02-19T14:18:26.442917-08:00","created_by":"ryan"}]}
{"id":"reaper-0l6","title":"Add common partials to technical-writer","description":"Technical-writer has inline validation, sanitization, and cleanup. Add appropriate pre-work validation, output-requirements, and artifact cleanup partials. Preserve documentation-specific content.\n\nFiles:\n- src/agents/technical-writer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review (or documentation-specific variant)\n- output-requirements (determine appropriate parameters)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-4lm (incident-responder - similar non-coding agent)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/technical-writer.md contains partial content\n- Documentation-specific sections preserved","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:51.122698-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.478805-08:00","closed_at":"2026-01-23T12:51:59.478805-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-0l6","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:55.832976-08:00","created_by":"ryan"}]}
{"id":"reaper-0r9z","title":"Add Reaper branding to unbranded commands","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T20:33:14.09015-08:00","created_by":"ryan","updated_at":"2026-02-19T20:59:06.827127-08:00","closed_at":"2026-02-19T20:59:06.827127-08:00","close_reason":"Closed"}
{"id":"reaper-0r9z.1","title":"Brand claude-sync: add mission header, Reaper card format, and completion card","description":"## Objective\nAdd full Reaper visual identity to the claude-sync command, which currently has zero branding (emoji-heavy markdown).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting mission-header partial is present in claude-sync\n2. GREEN: Add mission-header include and convert report format to Reaper style\n3. BLUE: Refactor report section format if needed, verify no side effects\n\n## Acceptance Criteria\n- [ ] mission-header partial included at top (command: CLAUDE SYNC, subtitle: scanning commit history)\n- [ ] Phase 5 report section headers use Reaper ‚îÅ‚îÅ‚îÅ dividers instead of emoji headers\n- [ ] Priority markers use [HIGH] / [MEDIUM] / [LOW] bracket tags instead of üî¥/üü°/üü¢\n- [ ] Completion card rendered after report (SYNC REPORT FILED / commits analyzed / findings count / LANDED gauge)\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/claude-sync.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:33:23.154016-08:00","created_by":"ryan","updated_at":"2026-02-19T20:42:49.430447-08:00","closed_at":"2026-02-19T20:42:49.430447-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0r9z.1","depends_on_id":"reaper-0r9z","type":"parent-child","created_at":"2026-02-19T20:33:23.168468-08:00","created_by":"ryan"}]}
{"id":"reaper-0r9z.2","title":"Brand configure-quality-gates: add mission header and completion card","description":"## Objective\nAdd Reaper visual identity to configure-quality-gates, which has no mission header, no gauge bars, and no completion card.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting mission-header partial is present in configure-quality-gates\n2. GREEN: Add mission-header include and completion card to the command template\n3. BLUE: Verify card format is consistent with other commands\n\n## Acceptance Criteria\n- [ ] mission-header partial included at top (command: CONFIGURE QUALITY GATES, subtitle: detecting test and lint commands)\n- [ ] Completion card rendered after successful CLAUDE.md write and commit (CONFIGURED / test command / lint command / commit hash / LANDED gauge)\n- [ ] Opt-out directive respected (disable ASCII art suppresses the card)\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/configure-quality-gates.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:33:28.560156-08:00","created_by":"ryan","updated_at":"2026-02-19T20:46:35.704304-08:00","closed_at":"2026-02-19T20:46:35.704304-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0r9z.2","depends_on_id":"reaper-0r9z","type":"parent-child","created_at":"2026-02-19T20:33:28.577529-08:00","created_by":"ryan"}]}
{"id":"reaper-0r9z.3","title":"Brand flight-plan: add visual-vocabulary include and Briefing/Filed cards","description":"## Objective\nflight-plan has a mission header but no visual-vocabulary include and no completion card. Add a flight-plan context to visual-vocabulary.ejs and wire it into the command.\n\n**NOTE:** This unit modifies visual-vocabulary.ejs, which is shared and included by multiple commands (takeoff, status-worktrees, ship, start, squadron). The 'flight-plan' context being added is isolated to a new branch and does not interfere with existing context branches. Other commands continue to use their own context parameters and are unaffected.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting visual-vocabulary partial is included in flight-plan\n2. GREEN: Add flight-plan context branch to visual-vocabulary.ejs (Briefing Card + Filed Card templates), include it in flight-plan.ejs, add Filed Card to Phase 7 completion output\n3. BLUE: Verify card templates are consistent with existing card style\n\n## Acceptance Criteria\n- [ ] visual-vocabulary partial included in flight-plan.ejs with context: 'flight-plan'\n- [ ] New flight-plan context branch in visual-vocabulary.ejs defines: Briefing Card (work unit count, parallelization %) and Filed Card (plan title, issue count, takeoff command, LANDED gauge)\n- [ ] Filed Card rendered in Phase 7 completion output before the takeoff command recommendation\n- [ ] Opt-out directive respected\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/flight-plan.ejs, src/partials/visual-vocabulary.ejs\n\nDepends on (1):\n  ‚Üí reaper-0r9z: Add Reaper branding to unbranded commands [P2]","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:33:36.151715-08:00","created_by":"ryan","updated_at":"2026-02-19T20:52:23.311179-08:00","closed_at":"2026-02-19T20:52:23.311179-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0r9z.3","depends_on_id":"reaper-0r9z","type":"parent-child","created_at":"2026-02-19T20:33:36.152688-08:00","created_by":"ryan"}]}
{"id":"reaper-0r9z.4","title":"Add mission headers to ship and status-worktrees","description":"## Objective\nship and status-worktrees have strong card systems but are missing the mission-header partial that takeoff and flight-plan have.\n\n**NOTE:** status-worktrees already includes visual-vocabulary.ejs with context: 'status-worktrees'. This unit adds only the mission-header partial to both commands. The visual-vocabulary context used by status-worktrees is not modified by this unit or any other unit in this epic.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract tests asserting mission-header partial is present in ship and status-worktrees\n2. GREEN: Add mission-header include to both commands\n3. BLUE: Verify subtitles are appropriate and render-once directive is followed\n\n## Acceptance Criteria\n- [ ] ship: mission-header partial included (command: SHIP, subtitle: commit, push, open)\n- [ ] status-worktrees: mission-header partial included (command: STATUS, subtitle: radar sweep of active worktrees)\n- [ ] Both commands respect the opt-out directive\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/ship.ejs, src/commands/status-worktrees.ejs\n\nDepends on (1):\n  ‚Üí reaper-0r9z: Add Reaper branding to unbranded commands [P2]","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:33:43.163597-08:00","created_by":"ryan","updated_at":"2026-02-19T20:56:29.549233-08:00","closed_at":"2026-02-19T20:56:29.549233-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0r9z.4","depends_on_id":"reaper-0r9z","type":"parent-child","created_at":"2026-02-19T20:33:43.164434-08:00","created_by":"ryan"}]}
{"id":"reaper-0sa","title":"Rewrite squadron brief as narrated summary (scorecard, finding cards)","description":"## Objective\nReplace rigid markdown brief schema with narrated format. Keep Design Decisions table. Replace Risks with finding cards. Add Five Keys scorecard. Add voice directive for narrator register throughout.\n\n## TDD Approach\n1. RED: Write test for narrated brief structure\n2. GREEN: Rewrite brief section\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Brief voice directive: maintain narrator register\n- [ ] Design Decisions as markdown table (kept)\n- [ ] Technical Specs as narrative with domain subheadings\n- [ ] Risks as finding card format\n- [ ] Five Keys scorecard format defined\n- [ ] No Executive Summary header ‚Äî narrative opening\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Squadron brief structure (final handoff)\nEstimated Location: Lines 540-600\n\n## Cross-References\n- Depends on: reaper-fvk (visual vocabulary defines finding cards and Five Keys scorecard)\n- Uses: reaper-586 (narrator voice for brief)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:38.346536-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.204364-08:00","closed_at":"2026-02-06T16:42:30.204364-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0sa","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:11.946174-08:00","created_by":"ryan"}]}
{"id":"reaper-0t7","title":"Pre-commit hook only runs 2 of 5 test files","description":"Pre-commit unit test step only runs build.test.js and commitlint.test.js. Missing: panel-selection-keywords.test.js, visual-vocabulary.test.js. contracts.test.js runs post-build (correct), but panel-selection and visual-vocabulary regressions are not caught until CI.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:07.129937-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.140143-08:00","closed_at":"2026-02-06T23:24:40.140143-08:00","close_reason":"Closed"}
{"id":"reaper-0u4","title":"SPICE Standards Extraction \u0026 Recalibration","description":"Remove docs/spice/ from Reaper, distill Reaper-specific content from CLAUDE-IMPORT.md into CLAUDE.md, strip SPICE references from 14 agent templates, soften prescriptive SPICE language in 6 partials to advisory voice, and verify all contracts and tests pass. Squadron decisions: single advisory posture, workflow-mechanical stays enforced, everything else softens. Three-phase approach: extract, soften, verify.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T21:00:02.435308-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.74821-08:00","closed_at":"2026-02-06T21:46:32.74821-08:00","close_reason":"Closed"}
{"id":"reaper-0x6","title":"Delete docs/spice/ and update all CLAUDE.md references","description":"Phase 1 extraction. Remove entire docs/spice/ directory. Update project CLAUDE.md line 3 (remove defer to CLAUDE-IMPORT.md), line 138 (remove docs/spice/ from project structure). Update docs/CLAUDE.md line 3 (remove mandatory reading) and lines 16-19 (remove SPICE doc links). Zero build/CI/hook impact confirmed. \n\n**Work Type:** documentation\n\n**Acceptance Criteria:**\n- No file references docs/spice/ as a path\n- Build still passes (npm run build)\n- All contract tests pass\n\n**Files:** \n- docs/spice/* (delete entire directory)\n- CLAUDE.md (lines 3, 138)\n- docs/CLAUDE.md (lines 3, 16-19)\n\n**TDD Approach:** Write test verifying no SPICE paths remain in any tracked file, then delete directory and update references.\n\nRef: reaper-0u4","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T21:00:14.305029-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.730745-08:00","closed_at":"2026-02-06T21:46:32.730745-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0x6","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.546938-08:00","created_by":"ryan"}]}
{"id":"reaper-0yh8","title":"Simplify agent color standard to 3 colors","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T14:57:13.641207-08:00","created_by":"ryan","updated_at":"2026-02-16T15:26:53.606119-08:00","closed_at":"2026-02-16T15:26:53.606119-08:00","close_reason":"Closed"}
{"id":"reaper-0yh8.1","title":"Consolidate agent colors to 3-color standard","description":"## Objective\nCollapse 7 agent colors into 3-color standard: green (Development), yellow (Specialist), cyan (Tools). Change the color frontmatter field in 16 agent EJS templates.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current colors match expectations before editing\n2. GREEN: Edit all 16 frontmatter color fields, run build, verify output\n3. BLUE: Confirm all tests pass (build.test.js, contracts.test.js)\n\n## Color Changes\n- blue ‚Üí yellow (10): workflow-planner, api-designer, cloud-architect, compliance-architect, data-engineer, database-architect, event-architect, frontend-architect, observability-architect, test-strategist\n- white ‚Üí yellow (1): ai-prompt-engineer\n- white ‚Üí cyan (2): claude-agent-architect, technical-writer\n- magenta ‚Üí cyan (2): deployment-engineer, integration-engineer\n- red ‚Üí cyan (1): incident-responder\n\n## Acceptance Criteria\n- [ ] All 10 blue agents changed to color: yellow\n- [ ] ai-prompt-engineer changed from color: white to color: yellow\n- [ ] claude-agent-architect and technical-writer changed from color: white to color: cyan\n- [ ] deployment-engineer and integration-engineer changed from color: magenta to color: cyan\n- [ ] incident-responder changed from color: red to color: cyan\n- [ ] Green agents (3) and branch-manager unchanged\n- [ ] Generated agents match source after npm run build\n- [ ] All tests pass (build.test.js, contracts.test.js)\n\n## Scope\nFiles: 16 files in src/agents/*.ejs (color frontmatter only)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T14:57:22.007247-08:00","created_by":"ryan","updated_at":"2026-02-16T15:26:53.588556-08:00","closed_at":"2026-02-16T15:26:53.588556-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-0yh8.1","depends_on_id":"reaper-0yh8","type":"parent-child","created_at":"2026-02-16T14:57:22.02961-08:00","created_by":"ryan"}]}
{"id":"reaper-12rg","title":"Auto-update shields.io version badge on release","description":"The shields.io version badge in README.md is hardcoded and does not auto-update when npm run release runs. The badge shows 1.7.0 while the actual version is 1.9.1. Fix by adding README.md as a plain-text bump target in .versionrc.json.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-09T13:48:48.894034-08:00","created_by":"ryan","updated_at":"2026-02-09T14:03:35.541852-08:00","closed_at":"2026-02-09T14:03:35.541852-08:00","close_reason":"Closed"}
{"id":"reaper-12rg.1","title":"Add README badge to versionrc bump targets","description":"## Objective\nAdd a plain-text bump entry to .versionrc.json that targets the shields.io version badge URL in README.md, and fix the currently stale badge from 1.7.0 to 1.9.1.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify .versionrc.json contains a README.md bump target with plain-text type and correct pattern\n2. GREEN: Add the bumpFiles entry and update the README badge\n3. BLUE: Refactor if needed, verify dry-run works\n\n## Acceptance Criteria\n- [ ] .versionrc.json bumpFiles includes a README.md entry with type plain-text and a pattern matching the shields.io badge URL\n- [ ] README.md badge shows 1.9.1 (current version) instead of 1.7.0\n- [ ] Running npm run release:dry-run confirms README.md would be bumped\n- [ ] All existing tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: .versionrc.json, README.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T13:48:59.976645-08:00","created_by":"ryan","updated_at":"2026-02-09T14:03:35.528247-08:00","closed_at":"2026-02-09T14:03:35.528247-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-12rg.1","depends_on_id":"reaper-12rg","type":"parent-child","created_at":"2026-02-09T13:48:59.98726-08:00","created_by":"ryan"}]}
{"id":"reaper-166","title":"Update SKILL.md with AI remediation docs","description":"## Objective\nDocument new timeout behavior, lock detection, and AI remediation patterns.\n\n## Acceptance Criteria\n- [ ] Document --timeout and --network-timeout flags with defaults\n- [ ] Document --skip-lock-check flag\n- [ ] Add AI Remediation section explaining structured error output format\n- [ ] Document all ERROR_CODE values and their remediation patterns\n- [ ] Add troubleshooting section for hang scenarios with copy-paste solutions\n- [ ] Update examples with new flags\n- [ ] Run npm run build to regenerate SKILL.md from template\n\n## Scope\nFiles: src/skills/worktree-manager/SKILL.ejs, src/skills/worktree-manager/reference.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:07.038359-08:00","created_by":"ryan","updated_at":"2026-02-06T15:03:03.521427-08:00","closed_at":"2026-02-06T15:03:03.521427-08:00","close_reason":"Documentation merged to develop in commit 02631ae","dependencies":[{"issue_id":"reaper-166","depends_on_id":"reaper-y0w","type":"blocks","created_at":"2026-01-23T19:20:12.07014-08:00","created_by":"ryan"},{"issue_id":"reaper-166","depends_on_id":"reaper-tgl","type":"blocks","created_at":"2026-01-23T19:20:12.158333-08:00","created_by":"ryan"}]}
{"id":"reaper-17k","title":"Improve flight-plan efficiency with native plan mode","description":"Refactor flight-plan to leverage Claude's native plan mode, using the plan file as the single source of truth that accumulates all planning context, research, and user feedback progressively.\n\n**Success Criteria:**\n- Plan file is progressively enhanced (not rewritten) with each revision\n- Plan file contains full scope: research, work units, user feedback history\n- When no task system exists, plan file IS the deliverable\n- ExitPlanMode does NOT trigger implementation behavior\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T16:46:14.991501-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.559893-08:00","closed_at":"2026-01-17T17:51:27.559893-08:00","close_reason":"Implemented native plan mode integration"}
{"id":"reaper-17k.1","title":"Add EnterPlanMode trigger at skill start","description":"Call EnterPlanMode immediately after input detection in Phase 1.\n\n**Acceptance Criteria:**\n- Plan mode active before planning begins\n- Plan file path captured from system message for use in subsequent phases\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:36.036226-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.537737-08:00","closed_at":"2026-01-17T17:51:27.537737-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.1","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:36.048927-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.2","title":"Define plan file schema as living document","description":"Define the structure of the plan file as a cumulative document that grows with each phase.\n\n**Acceptance Criteria:**\n- Schema includes sections for: Overview, Research Findings, Work Units, Revision History, User Feedback Log\n- Document structure supports progressive enhancement\n\n**Schema:**\n```markdown\n# Flight Plan: [Title]\n\n## Overview\n[Goal, scope, success criteria]\n\n## Research Findings\n[Accumulated from Phase 1.5 Explore agents]\n\n## Work Units\n[Table + details, updated with each revision]\n\n## Revision History\n- v1: Initial plan\n- v2: [User feedback] ‚Üí [Changes made]\n\n## User Feedback Log\n[Raw feedback preserved for context]\n```\n\n**Files:** src/commands/flight-plan.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:36.601398-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.545647-08:00","closed_at":"2026-01-17T17:51:27.545647-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.2","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:36.620593-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.3","title":"Refactor Phase 3 to write initial plan to file","description":"Use Write tool to create initial plan file with full structure; conversation output references the file.\n\n**Acceptance Criteria:**\n- Plan file created with all sections from schema\n- User sees 'Plan written to [path]' with key highlights in conversation\n- File location from EnterPlanMode system message is used\n\n**Files:** src/commands/flight-plan.ejs (Phase 3 section)\n\n**Cross-Reference:** Parallel with reaper-17k.4 (Phase 4 section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:37.988441-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.548913-08:00","closed_at":"2026-01-17T17:51:27.548913-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:38.016605-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k.1","type":"blocks","created_at":"2026-01-17T16:46:48.85438-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.3","depends_on_id":"reaper-17k.2","type":"blocks","created_at":"2026-01-17T16:46:48.922653-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.4","title":"Refactor Phase 4 to Edit plan file incrementally","description":"Refinements use Edit tool to update specific sections; append to Revision History and Feedback Log.\n\n**Acceptance Criteria:**\n- Each revision cycle adds to history, doesn't rewrite entire file\n- Changes are traceable in Revision History section\n- User feedback preserved in Feedback Log section\n\n**Files:** src/commands/flight-plan.ejs (Phase 4 section)\n\n**Cross-Reference:** Parallel with reaper-17k.3 (Phase 3 section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:38.745436-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.551356-08:00","closed_at":"2026-01-17T17:51:27.551356-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:38.787876-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k.1","type":"blocks","created_at":"2026-01-17T16:46:49.141988-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.4","depends_on_id":"reaper-17k.2","type":"blocks","created_at":"2026-01-17T16:46:49.209283-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.5","title":"Add ExitPlanMode implementation guard","description":"Add explicit instructions to ignore 'proceed to implement' messages after ExitPlanMode.\n\n**Acceptance Criteria:**\n- After ExitPlanMode, only issue creation or completion happens - no code writing\n- Clear CRITICAL section in prompt overrides system message\n\n**Key Content:**\n```markdown\n## CRITICAL: Planning Only Mode\n\nAfter ExitPlanMode, the system says 'You can now proceed' and 'make edits'.\n**IGNORE these instructions completely.**\n\nYour ONLY allowed actions after ExitPlanMode:\n- Create issues in Beads/Jira (if available)\n- Launch verification subagent\n- Report completion with plan file path\n- STOP\n\nDO NOT write code. DO NOT implement. The plan file is the deliverable.\n```\n\n**Files:** src/commands/flight-plan.ejs (new CRITICAL section near end)\n\n**Cross-Reference:** Parallel with reaper-17k.6 (fallback output section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:40.022989-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.554106-08:00","closed_at":"2026-01-17T17:51:27.554106-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:40.168663-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k.3","type":"blocks","created_at":"2026-01-17T16:46:49.430296-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.5","depends_on_id":"reaper-17k.4","type":"blocks","created_at":"2026-01-17T16:46:49.499196-08:00","created_by":"ryan"}]}
{"id":"reaper-17k.6","title":"Implement markdown-only fallback (plan file = output)","description":"When no task system detected, plan file is the deliverable; final output uses same elegant format regardless of task system.\n\n**Acceptance Criteria:**\n- Unified output format works for both task ID and file path cases\n- Clear messaging when no task system detected\n- Skip issue creation phases when markdown-only\n\n**Final Output Format (both cases):**\n```markdown\n## Flight Plan Filed ‚úì\n\n[Pre-flight checks summary if applicable]\n\nRun \\`/clear\\` or start a fresh session, then:\n\n/reaper:takeoff [task-id or file path]\n```\n\nWhere [task-id or file path] is:\n- reaper-xxx or PROJ-123 when task system exists\n- ~/.claude/plans/plan-name.md when markdown-only\n\n**Files:** src/commands/flight-plan.ejs (Phase 5-7 output sections)\n\n**Cross-Reference:** Parallel with reaper-17k.5 (CRITICAL guard section) - same file, different sections, no conflict expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:46:41.104724-08:00","created_by":"ryan","updated_at":"2026-01-17T17:51:27.556173-08:00","closed_at":"2026-01-17T17:51:27.556173-08:00","close_reason":"Implemented native plan mode integration","dependencies":[{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k","type":"parent-child","created_at":"2026-01-17T16:46:41.185827-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k.3","type":"blocks","created_at":"2026-01-17T16:46:49.77073-08:00","created_by":"ryan"},{"issue_id":"reaper-17k.6","depends_on_id":"reaper-17k.4","type":"blocks","created_at":"2026-01-17T16:46:49.857126-08:00","created_by":"ryan"}]}
{"id":"reaper-19v","title":"Standardize agent naming conventions","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-13T18:18:29.227256-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.135832-08:00","closed_at":"2026-01-13T18:43:09.135832-08:00","close_reason":"Closed"}
{"id":"reaper-19v.1","title":"Rename documentation-generator to technical-writer","description":"Rename the documentation-generator agent to technical-writer for consistency with role-based naming.\n\n**PARALLEL EXECUTION NOTE:**\nThis task can run IN PARALLEL with reaper-19v.2. Each task modifies DIFFERENT text patterns:\n- This task: \"documentation-generator\" ‚Üí \"technical-writer\"\n- reaper-19v.2: \"refactoring-specialist\" ‚Üí \"refactoring-dev\"\n\nBoth tasks touch shared files but modify DIFFERENT strings. No conflict.\n\n**Source files to update (edit these):**\n- src/agents/documentation-generator.ejs ‚Üí src/agents/technical-writer.ejs (rename + update frontmatter)\n- src/agents/workflow-planner.ejs (update reference)\n- src/agents/claude-agent-architect.ejs (update reference)\n- src/agents/api-designer.ejs (update reference)\n- src/skills/spice/PROMPT.ejs (update reference)\n\n**Non-template files to update:**\n- CLAUDE.md (agent category table)\n- README.md (if referenced)\n- docs/build-system.md (if referenced)\n- scripts/build.js (if referenced)\n\n**Generated files (auto-updated by build):**\n- agents/documentation-generator.md ‚Üí agents/technical-writer.md\n- agents/workflow-planner.md, agents/claude-agent-architect.md, agents/api-designer.md (via build)\n- skills/spice/PROMPT.md (via build)\n\n**Related issues:**\n- reaper-19v.2: Also renaming an agent, shares files but different patterns (PARALLEL SAFE)\n- reaper-19v.3: Verification task, runs AFTER this completes\n\n**Acceptance criteria:**\n- Agent file renamed in src/agents/ (source EJS file)\n- Frontmatter name field updated to technical-writer\n- All references in src/ updated to new name\n- Non-template files (CLAUDE.md, README.md, docs/, scripts/) updated\n- Build succeeds (npm run build)\n- Generated files reflect new name\n\n**Scope boundary:**\n- ONLY change \"documentation-generator\" to \"technical-writer\"\n- Do NOT touch any \"refactoring-specialist\" references (handled by reaper-19v.2)\n- Task reaper-19v.3 handles verification that nothing was missed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:37.090818-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.127468-08:00","closed_at":"2026-01-13T18:43:09.127468-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.1","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:37.098761-08:00","created_by":"ryan"}]}
{"id":"reaper-19v.2","title":"Rename refactoring-specialist to refactoring-dev","description":"Rename the refactoring-specialist agent to refactoring-dev for consistency with development agent naming.\n\n**PARALLEL EXECUTION NOTE:**\nThis task can run IN PARALLEL with reaper-19v.1. Each task modifies DIFFERENT text patterns:\n- This task: \"refactoring-specialist\" ‚Üí \"refactoring-dev\"\n- reaper-19v.1: \"documentation-generator\" ‚Üí \"technical-writer\"\n\nBoth tasks touch shared files but modify DIFFERENT strings. No conflict.\n\n**Source files to update (edit these):**\n- src/agents/refactoring-specialist.ejs ‚Üí src/agents/refactoring-dev.ejs (rename + update frontmatter)\n- src/agents/workflow-planner.ejs (update reference)\n- src/agents/test-runner.ejs (update reference)\n- src/agents/claude-agent-architect.ejs (update reference)\n- src/agents/branch-manager.ejs (update reference)\n- src/commands/takeoff.ejs (update reference)\n- src/skills/spice/PROMPT.ejs (update reference)\n\n**Non-template files to update:**\n- CLAUDE.md (agent category table)\n- README.md (if referenced)\n- docs/build-system.md (if referenced)\n- scripts/build.js (if referenced)\n- scripts/orchestrate-coding-agent.sh (update reference)\n\n**Generated files (auto-updated by build):**\n- agents/refactoring-specialist.md ‚Üí agents/refactoring-dev.md\n- Other agent/command/skill .md files regenerated via build\n\n**Related issues:**\n- reaper-19v.1: Also renaming an agent, shares files but different patterns (PARALLEL SAFE)\n- reaper-19v.3: Verification task, runs AFTER this completes\n\n**Acceptance criteria:**\n- Agent file renamed in src/agents/ (source EJS file)\n- Frontmatter name field updated to refactoring-dev\n- All references in src/ updated to new name\n- Non-template files (CLAUDE.md, README.md, docs/, scripts/) updated\n- Build succeeds (npm run build)\n- Generated files reflect new name\n\n**Scope boundary:**\n- ONLY change \"refactoring-specialist\" to \"refactoring-dev\"\n- Do NOT touch any \"documentation-generator\" references (handled by reaper-19v.1)\n- Task reaper-19v.3 handles verification that nothing was missed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:42.696239-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.131544-08:00","closed_at":"2026-01-13T18:43:09.131544-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.2","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:42.702035-08:00","created_by":"ryan"}]}
{"id":"reaper-19v.3","title":"Verify no missed references to old agent names","description":"Search the entire codebase for any remaining references to the old agent names after reaper-19v.1 and reaper-19v.2 complete.\n\n**Search patterns:**\n- documentation-generator (should be technical-writer)\n- refactoring-specialist (should be refactoring-dev)\n\n**Locations to check:**\n- All markdown files (*.md)\n- All EJS templates (*.ejs)\n- All JSON files (*.json) including plugin.json, package.json\n- All shell scripts (*.sh)\n- docs/ directory\n- scripts/ directory\n\n**Related issues:**\n- reaper-19v.1: Renamed documentation-generator to technical-writer\n- reaper-19v.2: Renamed refactoring-specialist to refactoring-dev\n- This task verifies both renames are complete\n\n**Acceptance criteria:**\n- Run: rg \"documentation-generator\" returns zero results\n- Run: rg \"refactoring-specialist\" returns zero results\n- All agent references use new names (technical-writer, refactoring-dev)\n- No broken agent references in skills, commands, or hooks\n- Build succeeds after all fixes (npm run build)\n\n**If references found:**\n- Update the file to use new agent name\n- Rebuild if source file was changed\n- Re-verify until clean","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T18:18:49.213043-08:00","created_by":"ryan","updated_at":"2026-01-13T18:43:09.133622-08:00","closed_at":"2026-01-13T18:43:09.133622-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v","type":"parent-child","created_at":"2026-01-13T18:18:49.220023-08:00","created_by":"ryan"},{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v.1","type":"blocks","created_at":"2026-01-13T18:18:54.617885-08:00","created_by":"ryan"},{"issue_id":"reaper-19v.3","depends_on_id":"reaper-19v.2","type":"blocks","created_at":"2026-01-13T18:18:54.677662-08:00","created_by":"ryan"}]}
{"id":"reaper-1af","title":"Add Bash tool timeout guidance to security auditor template","description":"## Objective\nUpdate src/agents/security-auditor.ejs to instruct the agent to consistently use the Bash tool's built-in timeout parameter for all security scanning tool invocations. When a tool times out, the agent should report it as a coverage gap and continue scanning with remaining tools.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template has no timeout guidance (build and check generated output)\n2. GREEN: Add timeout protection section, update scanning pattern examples, update error handling\n3. BLUE: Refactor for clarity, ensure consistent guidance across all tool invocations\n\n## Key Changes\n1. New \"Timeout protection\" section ‚Äî Explain Bash tool timeout parameter, recommend per-tool durations (300000ms/5min for Trivy and Semgrep, 180000ms/3min for TruffleHog)\n2. Update scanning pattern examples ‚Äî Show timeout parameter usage in exit code capture pattern and temp file pattern\n3. Update tool selection guidance ‚Äî Ecosystem-specific tools (npm audit, pip-audit, tfsec, etc.) should also use timeouts\n4. Update error reporting ‚Äî Add timeout as distinct outcome, report as coverage gap in summary\n\n## Acceptance Criteria\n- [ ] New \"Timeout protection\" section with clear guidance on Bash tool timeout parameter\n- [ ] All scanning pattern examples updated to show timeout usage\n- [ ] Ecosystem tool selection guidance includes timeout recommendation\n- [ ] Error reporting distinguishes timeout from failure and clean scan\n- [ ] Timed-out tools reported as coverage gaps, agent continues with remaining tools\n- [ ] Build succeeds (npm run build)\n- [ ] Generated agents/security-auditor.md reflects changes\n\n## Scope\nFiles: src/agents/security-auditor.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:25:12.875866-08:00","created_by":"ryan","updated_at":"2026-02-05T17:37:38.588153-08:00","closed_at":"2026-02-05T17:37:38.588153-08:00","close_reason":"Timeout protection added to security auditor template","dependencies":[{"issue_id":"reaper-1af","depends_on_id":"reaper-36x","type":"parent-child","created_at":"2026-02-05T17:26:26.066132-08:00","created_by":"ryan"}]}
{"id":"reaper-1o1","title":"Rename agent template headers to Panel Selection Keywords","description":"## Objective\nIn all 11 agent EJS templates, rename the \"Huddle Trigger Keywords\" section header (in its various formats: ##, ###, **, mixed case) to a normalized ## Panel Selection Keywords. Add HTML comment above each header: \u003c!-- Used by /reaper:squadron to auto-select experts --\u003e.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify no agent template contains \"Huddle Trigger Keywords\"\n2. GREEN: Rename all 11 headers and add HTML comments\n3. BLUE: Verify build succeeds and headers are normalized\n\n## Acceptance Criteria\n- [ ] All 11 agent templates updated with ## Panel Selection Keywords header\n- [ ] HTML comment added above each header\n- [ ] Header format normalized across all agents\n- [ ] grep -ri \"huddle\" src/agents/ returns zero results\n- [ ] Build succeeds (npm run build)\n\n## Scope\nFiles: 11 agent templates\n- src/agents/api-designer.ejs (L172)\n- src/agents/cloud-architect.ejs (L195)\n- src/agents/compliance-architect.ejs (L227)\n- src/agents/data-engineer.ejs (L385)\n- src/agents/database-architect.ejs (L182)\n- src/agents/event-architect.ejs (L199)\n- src/agents/frontend-architect.ejs (L271)\n- src/agents/observability-architect.ejs (L228)\n- src/agents/technical-writer.ejs (L158)\n- src/agents/test-strategist.ejs (L251)\n- src/agents/workflow-planner.ejs (L418)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS agent templates in src/agents/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:44.307133-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.477401-08:00","closed_at":"2026-02-06T11:51:01.477401-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-1o1","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:10.3825-08:00","created_by":"ryan"}]}
{"id":"reaper-1qa","title":"Refresh README brand voice with aviation theme","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T17:21:16.087319-08:00","created_by":"ryan","updated_at":"2026-01-02T18:00:43.335604-08:00","closed_at":"2026-01-02T18:00:43.335604-08:00","close_reason":"Closed"}
{"id":"reaper-1r2","title":"Recover missing worktree-manager scripts from EJS refactor","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T11:50:52.253703-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.021312-08:00","closed_at":"2026-01-23T12:03:28.021312-08:00","close_reason":"Closed"}
{"id":"reaper-1r2.1","title":"Restore worktree-create.sh from git history","description":"Extract worktree-create.sh (366 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-create.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-create.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-create.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (366 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.2 and reaper-1r2.3 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:00.491611-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.008452-08:00","closed_at":"2026-01-23T12:03:28.008452-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.1","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:00.507314-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.2","title":"Restore worktree-list.sh from git history","description":"Extract worktree-list.sh (286 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-list.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-list.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-list.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (286 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.1 and reaper-1r2.3 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.015498-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.014275-08:00","closed_at":"2026-01-23T12:03:28.014275-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.2","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.020566-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.3","title":"Restore worktree-status.sh from git history","description":"Extract worktree-status.sh (343 lines) from commit 9027b20 and restore to skills/worktree-manager/scripts/. Ensure script is executable.\n\n## Files\n- Target: skills/worktree-manager/scripts/worktree-status.sh\n- Source: git show 9027b20:skills/worktree-manager/scripts/worktree-status.sh\n\n## Acceptance Criteria\n- [ ] File exists at skills/worktree-manager/scripts/worktree-status.sh\n- [ ] File has executable permissions (chmod +x)\n- [ ] Content matches original from commit 9027b20 (343 lines)\n\n## Parallel Work\nThis task runs in parallel with reaper-1r2.1 and reaper-1r2.2 (no file overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.551947-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.016622-08:00","closed_at":"2026-01-23T12:03:28.016622-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.3","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.554062-08:00","created_by":"ryan"}]}
{"id":"reaper-1r2.4","title":"Verify restored scripts and run quality checks","description":"Verify all restored scripts are present and functional after parallel restore tasks complete.\n\n## Files\n- skills/worktree-manager/scripts/worktree-create.sh\n- skills/worktree-manager/scripts/worktree-list.sh\n- skills/worktree-manager/scripts/worktree-status.sh\n- skills/worktree-manager/scripts/worktree-remove.sh (already exists)\n\n## Acceptance Criteria\n- [ ] All 4 scripts present in scripts directory\n- [ ] All scripts have executable permissions\n- [ ] shellcheck passes on all scripts (if shellcheck configured)\n- [ ] npm run build succeeds\n- [ ] npm run lint succeeds\n\n## Dependencies\nBlocked by: reaper-1r2.1, reaper-1r2.2, reaper-1r2.3 (must complete all restores first)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:51:01.975025-08:00","created_by":"ryan","updated_at":"2026-01-23T12:03:28.018854-08:00","closed_at":"2026-01-23T12:03:28.018854-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2","type":"parent-child","created_at":"2026-01-23T11:51:01.996407-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.1","type":"blocks","created_at":"2026-01-23T11:51:09.499587-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.2","type":"blocks","created_at":"2026-01-23T11:51:09.568162-08:00","created_by":"ryan"},{"issue_id":"reaper-1r2.4","depends_on_id":"reaper-1r2.3","type":"blocks","created_at":"2026-01-23T11:51:09.632482-08:00","created_by":"ryan"}]}
{"id":"reaper-1w5o","title":"Add structural contract tests for new agent sections","description":"## Objective\nAdd two structural contracts to scripts/contracts.test.js verifying the new prompt sections are present in the compiled agent output.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write the new contract tests ‚Äî they will fail until Units 2 and 3 are complete (or run against those completed worktrees)\n2. GREEN: Confirm tests pass against the generated agents/feature-developer.md and agents/bug-fixer.md\n3. BLUE: Verify test names follow existing naming convention\n\n## Acceptance Criteria\n- [ ] SEMANTIC_CONTRACTS.coding.sections includes: { pattern: /Pre-Output Verification/i, label: 'pre-output verification section' } ‚Äî auto-applies to all coding agents via registerSemanticSuite\n- [ ] IMPORTANT: Adding to coding.sections means ALL coding agents are tested (feature-developer, bug-fixer, AND refactoring-dev). The executing agent MUST also wire the pre-output-verification partial into src/agents/refactoring-dev.ejs (same pattern as bug-fixer: insert include before the JSON output block) and rebuild. Without this, the contract test will fail on refactoring-dev.md.\n- [ ] A standalone describe block tests blast-radius / impact scan language in feature-developer using full-content regex (hasSection only checks ## level-2 headings; blast-radius lives under a ### subsection of Decompose Requirements)\n- [ ] Regex pattern in standalone test matches the actual language used in reaper-p7jh's blast-radius instruction (read agents/feature-developer.md to discover exact wording)\n- [ ] npm test passes with all existing + new tests green\n- [ ] Test names follow existing convention in contracts.test.js\n\n## Scope\nFiles: scripts/contracts.test.js, src/agents/refactoring-dev.ejs, agents/refactoring-dev.md (generated via build)\n\n## Work Type\ntest_code\n\n## Cross-References\n- Depends on: reaper-p7jh (feature-developer blast-radius language) and reaper-t40d (bug-fixer pre-output-verification wiring)\n- The coding.sections addition auto-tests ALL coding agents ‚Äî refactoring-dev must also get the partial wired in (same insertion pattern as bug-fixer)\n\n## Context\nThe hasSection helper (line 719 of contracts.test.js) checks ## level-2 headings only. Pre-output-verification introduces a ## heading ‚Äî use hasSection via coding.sections array (currently at line 746). Blast-radius instruction is under ### Decompose Requirements ‚Äî needs full content regex test in a standalone describe block.\n\n## Execution Context\nGroup 3 (runs last, after both reaper-p7jh and reaper-t40d complete).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:13:01.502824-08:00","created_by":"ryan","updated_at":"2026-02-19T14:38:38.982386-08:00","closed_at":"2026-02-19T14:38:38.982386-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-1w5o","depends_on_id":"reaper-p7jh","type":"blocks","created_at":"2026-02-19T14:13:07.893759-08:00","created_by":"ryan"},{"issue_id":"reaper-1w5o","depends_on_id":"reaper-t40d","type":"blocks","created_at":"2026-02-19T14:13:07.954424-08:00","created_by":"ryan"},{"issue_id":"reaper-1w5o","depends_on_id":"reaper-b3t3","type":"blocks","created_at":"2026-02-19T14:13:10.286426-08:00","created_by":"ryan"}]}
{"id":"reaper-20n","title":"CLAUDE.md partials list incomplete ‚Äî documents 6 of 20","description":"The Partials (Shared Content) section in CLAUDE.md only lists 6 partials: pre-work-validation-coding, output-requirements, git-prohibitions, tdd-testing-protocol, artifact-cleanup-coding, visual-vocabulary. 14 others are undocumented: no-self-reporting, plan-file-schema, todowrite-plan-protocol, task-system-operations, agent-deployment-template, orchestrator-role-boundary, quality-gate-protocol, pre-work-validation-security, pre-work-validation-review, pre-work-validation-planning, directory-exclusions, file-conflict-detection, no-commits-policy, artifact-cleanup-review.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:23.520136-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.153299-08:00","closed_at":"2026-02-06T23:24:40.153299-08:00","close_reason":"Closed"}
{"id":"reaper-2ex","title":"MEMORY.md test count stale (488 should be 518)","description":"MEMORY.md says 488 tests across 5 test files but actual count is 518. Update the Project Stats section.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-02-06T22:32:35.554228-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.810857-08:00","closed_at":"2026-02-06T23:35:24.810857-08:00","close_reason":"Closed"}
{"id":"reaper-2qy","title":"Strip SPICE references from 14 agent templates","description":"Remove SPICE Standards Integration sections from 14 agent .ejs templates.\n\n**Work Type:** agent_prompt\n\n**Special Handling - branch-manager:**\nConvert 3 SPICE file reads (SPICE.md, SPICE-Worktrees.md, SPICE-Git-Flow.md) into self-contained content within the agent prompt. This agent needs worktree and git flow guidance inline.\n\n**Standard Handling - 13 other agents:**\nRemove SPICE reference sections entirely. These prompts have sufficient guidance via included partials. Note: 13 of 14 have NO fallback language, so removal is clean.\n\n**Affected Agents (14 total):**\n1. api-designer.ejs\n2. branch-manager.ejs (special: convert file reads to inline)\n3. cloud-architect.ejs\n4. code-reviewer.ejs\n5. data-engineer.ejs\n6. database-architect.ejs\n7. deployment-engineer.ejs\n8. event-architect.ejs\n9. frontend-architect.ejs\n10. observability-architect.ejs\n11. test-runner.ejs\n12. test-strategist.ejs\n13. validation-runner.ejs\n14. workflow-planner.ejs\n\n**Acceptance Criteria:**\n- Zero templates reference CLAUDE_PLUGIN_ROOT/docs/spice/\n- branch-manager has self-contained worktree/git guidance\n- Generated .md files contain no SPICE paths\n- Build succeeds (npm run build)\n- Contract tests pass\n\n**Files:** 14 files in src/agents/\n\n**Related Issues:** reaper-64m (coordinate CLAUDE.md distillation), reaper-uk2 (coordinate voice shift in partials)\n\nRef: reaper-0u4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T21:00:21.023002-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.736166-08:00","closed_at":"2026-02-06T21:46:32.736166-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-2qy","depends_on_id":"reaper-0x6","type":"blocks","created_at":"2026-02-06T21:00:35.973099-08:00","created_by":"ryan"},{"issue_id":"reaper-2qy","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.678606-08:00","created_by":"ryan"}]}
{"id":"reaper-2v8","title":"Unit test parseFrontmatter with adversarial inputs","description":"## Objective\nComprehensive tests for the frontmatter parsing regex. This is the highest-risk function ‚Äî a bug here silently corrupts every generated file.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior for all edge cases\n2. GREEN: Verify existing implementation passes (or fix if it doesn't)\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Tests for: standard frontmatter, CRLF line endings, missing trailing newline after ---, empty frontmatter, no frontmatter\n- [ ] Tests for: frontmatter-like patterns inside template body, multiple --- delimiters\n- [ ] Tests for: content with only opening ---, content with --- in code blocks\n- [ ] All tests pass against current implementation\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:35.590042-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.252052-08:00","closed_at":"2026-02-06T00:57:57.252052-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-2v8","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.102499-08:00","created_by":"ryan"}]}
{"id":"reaper-2vl","title":"claude-dev ships --allow-dangerously-skip-permissions","description":"The claude-dev file is tracked by git and ships to all clones. It launches Claude Code with --allow-dangerously-skip-permissions, bypassing all permission prompts. Either gitignore it, rename to claude-dev.local (caught by *.local pattern), or add a visible warning.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:01.508133-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.147524-08:00","closed_at":"2026-02-06T23:24:40.147524-08:00","close_reason":"Closed"}
{"id":"reaper-2y0","title":"visual-vocabulary.test.js never runs in automation","description":"The test file scripts/visual-vocabulary.test.js (~30 tests) exists but is not included in package.json test/test:coverage scripts, CI workflow, or pre-commit hooks. Visual vocabulary regressions go undetected. Fix: add to package.json scripts and .github/workflows/test.yml.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-06T22:31:59.062579-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.137054-08:00","closed_at":"2026-02-06T23:24:40.137054-08:00","close_reason":"Closed"}
{"id":"reaper-36x","title":"Add timeout protection to security auditor agent","description":"The security auditor agent hangs when security scanning tools (Trivy, Semgrep, TruffleHog) take too long or get stuck. Add guidance to the agent template to consistently use the Bash tool's built-in timeout parameter for all security tool invocations, with graceful degradation when tools time out.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-05T17:24:59.401296-08:00","created_by":"ryan","updated_at":"2026-02-05T17:37:38.591835-08:00","closed_at":"2026-02-05T17:37:38.591835-08:00","close_reason":"Timeout protection added to security auditor template"}
{"id":"reaper-3f1","title":"Add war-room collaborative design command","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-02T21:25:10.069133-08:00","created_by":"ryan","updated_at":"2026-02-02T21:27:59.930292-08:00","closed_at":"2026-02-02T21:27:59.930292-08:00","close_reason":"War-room command implemented and prompt-audited"}
{"id":"reaper-3gv","title":"Refactor orchestration pipeline (flight-plan, takeoff, workflow-planner)","description":"Refactor the Reaper orchestration pipeline based on the completed huddle design at .claude/plans/reaper-huddle-flight-takeoff-workflow.md. Create 6 new shared EJS partials, refactor 3 prompt templates to use them, replace pseudo-code with declarative instructions, replace platform-specific bash with abstract CRUD operations, and fix orchestrator self-action via positive-framing delegation rules. Plan: .claude/plans/reaper-orchestration-refactor.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-05T12:17:03.072626-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.555061-08:00","closed_at":"2026-02-05T14:01:00.555061-08:00","close_reason":"Closed"}
{"id":"reaper-3gv.1","title":"Create 6 shared EJS partials","description":"## Objective\nCreate all 6 new partials in src/partials/. These are the foundation ‚Äî all subsequent work units depend on them.\n\n## Partials to Create\n1. task-system-operations.ejs (~35 lines): abstract CRUD vocabulary (FETCH_ISSUE, LIST_CHILDREN, CREATE_ISSUE, UPDATE_ISSUE, ADD_DEPENDENCY, QUERY_DEPENDENCY_TREE, CLOSE_ISSUE), dependency type semantics, detection heuristics\n2. quality-gate-protocol.ejs (~50 lines): parameterized with role (orchestrator/planner). Orchestrator: full gate sequence, JSON keys, iteration rules. Planner: 4-6 lines summary\n3. orchestrator-role-boundary.ejs (~30 lines): positive-framing delegation table, zero CRITICAL/FORBIDDEN markers\n4. plan-file-schema.ejs (~40 lines): parameterized with mode (writer/reader). Writer: full schema. Reader: extraction priority\n5. agent-deployment-template.ejs (~20 lines): canonical Task call template, 1 example\n6. todowrite-plan-protocol.ejs (~25 lines): Step X.Y format, mandatory/conditional final tasks\n\n## Acceptance Criteria\n- All 6 files exist in src/partials/\n- typeof guards used for parameterized partials (B and D)\n- npm run build succeeds with all 6 present\n\n## Scope\nFiles: src/partials/task-system-operations.ejs, src/partials/quality-gate-protocol.ejs, src/partials/orchestrator-role-boundary.ejs, src/partials/plan-file-schema.ejs, src/partials/agent-deployment-template.ejs, src/partials/todowrite-plan-protocol.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:22.826213-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.535562-08:00","closed_at":"2026-02-05T14:01:00.535562-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.1","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:22.848838-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.2","title":"Refactor takeoff.ejs to use partials + declarative instructions","description":"## Objective\nMajor refactor of src/commands/takeoff.ejs from 1067 lines to ~350 compiled. Replace pseudo-code with declarative instructions, include 6 partials, restructure with delegation rules FIRST.\n\n## Acceptance Criteria\n- Includes all 6 partials via \u003c%- include() %\u003e\n- Delegation rules (partial C) is the FIRST section after frontmatter\n- Zero instances of CRITICAL, FORBIDDEN, or MANDATORY markers\n- No bash pseudo-code blocks for task system detection\n- No JavaScript pseudo-code blocks for pre-planned extraction or TodoWrite\n- Quality gate protocol appears exactly ONCE (via partial B)\n- Single agent deployment example (not 5)\n- very_small_direct does NOT mention orchestrator handles directly\n- Plan file discovery uses enriched schema (Strategy + Feedback Log sections)\n- npm run build succeeds and generates commands/takeoff.md\n- Compiled output is ~350 lines (¬±50)\n\n## Scope\nFiles: src/commands/takeoff.ejs, commands/takeoff.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.3 (flight-plan refactor) and reaper-3gv.4 (workflow-planner refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials ‚Äî coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.3: Parallel peer ‚Äî also consumes partials A and D\n- reaper-3gv.4: Parallel peer ‚Äî also consumes partials A and B\n- reaper-3gv.1: Upstream dependency ‚Äî creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:30.120491-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.543844-08:00","closed_at":"2026-02-05T14:01:00.543844-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.2","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:30.137267-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.2","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:52.943191-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.3","title":"Refactor flight-plan.ejs to use partials A and D","description":"## Objective\nRefactor src/commands/flight-plan.ejs to use task-system-operations partial (replacing ~93 lines of platform-specific bash) and plan-file-schema partial in writer mode (replacing ~58 lines of schema definition). Collapse tool prohibitions. Replace Phase 5 issue creation with abstract CRUD operations.\n\n## Acceptance Criteria\n- Includes task-system-operations partial (partial A) replacing bash detection in Phase 1\n- Includes plan-file-schema partial (partial D, writer mode) replacing Phase 0\n- Phase 5 issue creation uses abstract CRUD operations, not bd/acli commands\n- Plan file schema includes Strategy and Feedback Log sections\n- Tool prohibitions section collapsed\n- npm run build succeeds and generates commands/flight-plan.md\n- Compiled output is ~530 lines (¬±50)\n\n## Scope\nFiles: src/commands/flight-plan.ejs, commands/flight-plan.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.2 (takeoff refactor) and reaper-3gv.4 (workflow-planner refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials ‚Äî coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.2: Parallel peer ‚Äî also consumes partials A-F (all 6)\n- reaper-3gv.4: Parallel peer ‚Äî also consumes partials A and B\n- reaper-3gv.1: Upstream dependency ‚Äî creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:34.883484-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.546572-08:00","closed_at":"2026-02-05T14:01:00.546572-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.3","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:34.898426-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.3","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:53.026146-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.4","title":"Refactor workflow-planner.ejs (partials + scoring + decomposition)","description":"## Objective\nRefactor src/agents/workflow-planner.ejs to use task-system-operations partial (replacing ~48 lines validation + ~31 lines Beads commands) and quality-gate-protocol partial in planner mode (replacing ~18 lines). Update scoring and decomposition logic.\n\n## Acceptance Criteria\n- Includes task-system-operations partial (partial A) replacing validation + Beads commands\n- Includes quality-gate-protocol partial (partial B, planner view) replacing 18-line gate section\n- Content Generation removed from scoring dimensions, listed as strategy override\n- Decision table updated: no Content Score column\n- Uncertainty scoring weight increased\n- Epic with children replaced with 3-way decision tree\n- quality_gate_checkpoints field removed from JSON schema\n- Line 175 orchestrator handles directly removed\n- Anti-patterns section preserved unchanged\n- npm run build succeeds and generates agents/workflow-planner.md\n\n## Scope\nFiles: src/agents/workflow-planner.ejs, agents/workflow-planner.md (generated)\n\n---\n[Auto-added by verification]\n## Parallel Execution Note\nThis issue runs in PARALLEL with reaper-3gv.2 (takeoff refactor) and reaper-3gv.3 (flight-plan refactor). No file overlap exists between these three issues. If you discover that a partial's interface (from reaper-3gv.1) needs changes, document the needed change but do not modify partials ‚Äî coordinate with the other parallel work units.\n\n## Cross-References\n- reaper-3gv.2: Parallel peer ‚Äî also consumes partials A-F (all 6)\n- reaper-3gv.3: Parallel peer ‚Äî also consumes partials A and D\n- reaper-3gv.1: Upstream dependency ‚Äî creates all 6 partials\n\n## Plan Reference\nFull plan: .claude/plans/reaper-orchestration-refactor.md\nDesign source: .claude/plans/reaper-huddle-flight-takeoff-workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T12:17:41.000592-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.549017-08:00","closed_at":"2026-02-05T14:01:00.549017-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.4","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:41.03839-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.4","depends_on_id":"reaper-3gv.1","type":"blocks","created_at":"2026-02-05T12:17:53.112171-08:00","created_by":"ryan"}]}
{"id":"reaper-3gv.5","title":"Build verification and end-to-end validation","description":"## Objective\nRun full build, verify all compiled outputs, check for regressions. Verify partials compile correctly with parameters. Grep for remaining markers. Verify line count targets.\n\n## Acceptance Criteria\n- npm run build succeeds with zero errors\n- All 3 generated files exist and are non-empty\n- commands/takeoff.md has zero instances of CRITICAL:, FORBIDDEN:, MANDATORY:\n- commands/takeoff.md compiled line count is in range 300-400\n- commands/flight-plan.md compiled line count is in range 480-580\n- agents/workflow-planner.md compiled line count is in range 380-478\n- Delegation rules appear in first 50 lines of compiled takeoff.md\n- Quality gate protocol appears exactly once in compiled takeoff.md\n- Plan file schema in flight-plan includes Strategy and Feedback Log sections\n- Workflow-planner JSON schema does NOT contain quality_gate_checkpoints\n- All existing partials still compile correctly (no regression)\n\n## Scope\nFiles: All generated files (verify only, no source changes expected)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T12:17:47.380621-08:00","created_by":"ryan","updated_at":"2026-02-05T14:01:00.551279-08:00","closed_at":"2026-02-05T14:01:00.551279-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv","type":"parent-child","created_at":"2026-02-05T12:17:47.397613-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.2","type":"blocks","created_at":"2026-02-05T12:17:53.203025-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.3","type":"blocks","created_at":"2026-02-05T12:17:53.28582-08:00","created_by":"ryan"},{"issue_id":"reaper-3gv.5","depends_on_id":"reaper-3gv.4","type":"blocks","created_at":"2026-02-05T12:17:53.360897-08:00","created_by":"ryan"}]}
{"id":"reaper-3ix","title":"Fix CI glob expansion failure on develop","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-06T17:00:22.517974-08:00","created_by":"ryan","updated_at":"2026-02-06T17:00:35.216964-08:00","closed_at":"2026-02-06T17:00:35.216964-08:00","close_reason":"Fixed: explicit file list replaces glob, Node 22, coverage thresholds enforced"}
{"id":"reaper-3o7","title":"Unit test compileTemplate and processFile integration","description":"## Objective\nIntegration-level tests using real EJS compilation. compileTemplate configures view paths that are easy to break. processFile is the integration seam combining frontmatter parsing, variable building, and EJS compilation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests with real EJS fixtures\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] compileTemplate tested with real EJS fixtures (not mocked)\n- [ ] compileTemplate correctly resolves partial include paths\n- [ ] processFile tested end-to-end with a real .ejs fixture file\n- [ ] processFile correctly writes output, handles errors, updates stats\n- [ ] Module state (stats) properly reset between tests\n- [ ] Test fixtures created in scripts/fixtures/ directory\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js, scripts/fixtures/ (new test fixtures directory)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s); exclusive (scripts/fixtures/ created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:37.542285-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.258625-08:00","closed_at":"2026-02-06T00:57:57.258625-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3o7","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.282658-08:00","created_by":"ryan"}]}
{"id":"reaper-3t45","title":"Update worktree-manager scripts to match command visual design","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-11T20:17:57.769925-08:00","created_by":"ryan","updated_at":"2026-02-11T20:52:06.078281-08:00","closed_at":"2026-02-11T20:52:06.078281-08:00","close_reason":"All 5 child tasks completed, merged to develop at ecebce3"}
{"id":"reaper-3t45.1","title":"Create shared visual helpers library (visual-helpers.sh)","description":"Create skills/worktree-manager/scripts/visual-helpers.sh ‚Äî a sourceable bash library implementing the Reaper visual vocabulary for shell scripts. Provides card rendering (render_card_header, render_card_footer), gauge state rendering (render_gauge), and logging functions (log_step, log_ok, log_warn, log_fail) with clean prefix conventions matching the card aesthetic. No emoji, no bracket tags. Colors optional (terminal detection).\n\n[Auto-added by verification]\nWork type: application_code\nAssigned files: skills/worktree-manager/scripts/visual-helpers.sh (new)\n\nAcceptance criteria:\n- Provides render_card_header \u003cTITLE\u003e ‚Äî prints title + heavy rule (‚îÅ‚îÅ‚îÅ)\n- Provides render_card_footer ‚Äî prints closing heavy rule\n- Provides render_gauge \u003cSTATE\u003e ‚Äî returns the 10-block gauge bar for a given state (LANDED, IN FLIGHT, TAKING OFF, TAXIING, FAULT, ON APPROACH)\n- Provides log_step \u003cmessage\u003e ‚Äî clean step indicator without emoji/brackets\n- Provides log_ok \u003cmessage\u003e ‚Äî success indicator\n- Provides log_warn \u003cmessage\u003e ‚Äî warning indicator\n- Provides log_fail \u003cmessage\u003e ‚Äî error indicator\n- All logging uses consistent prefix convention (no emoji, no [BRACKET] tags)\n- File is executable and can be sourced via . \"$SCRIPT_DIR/visual-helpers.sh\"\n- Colors are supported but optional (detects terminal capability)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:18:04.225305-08:00","created_by":"ryan","updated_at":"2026-02-11T20:33:07.220181-08:00","closed_at":"2026-02-11T20:33:07.220181-08:00","close_reason":"visual-helpers.sh created with 31 passing tests, committed at 6c10022","dependencies":[{"issue_id":"reaper-3t45.1","depends_on_id":"reaper-3t45","type":"parent-child","created_at":"2026-02-11T20:18:04.576261-08:00","created_by":"ryan"}]}
{"id":"reaper-3t45.2","title":"Update worktree-create.sh visual output","description":"Replace emoji logging and double-line box summary with Reaper-style CREATED card. Source visual-helpers.sh. Remove emoji from field labels. Replace info/success/warn/error emoji helpers. Add gauge state (TAKING OFF) to summary card. Behavior unchanged ‚Äî same validations, dependency installation, exit codes.\n\n[Auto-added by verification]\nWork type: application_code\nAssigned files: skills/worktree-manager/scripts/worktree-create.sh\nCross-references: Shares no files with sibling issues 3t45.3, 3t45.4, 3t45.5.\n\nAcceptance criteria:\n- Sources visual-helpers.sh for all logging/rendering\n- Replace info(), success(), warn(), error() emoji helpers with visual-helpers equivalents\n- Replace double-line summary box with Reaper-style CREATED card (title + heavy rule + key-value fields + gauge)\n- Remove emoji from field labels (no üìÅ üåø üéØ)\n- Behavior unchanged ‚Äî same validations, same dependency installation, same exit codes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:18:07.207827-08:00","created_by":"ryan","updated_at":"2026-02-11T20:42:07.411626-08:00","closed_at":"2026-02-11T20:42:07.411626-08:00","close_reason":"Scripts migrated to visual-helpers library, committed at 971c446","dependencies":[{"issue_id":"reaper-3t45.2","depends_on_id":"reaper-3t45","type":"parent-child","created_at":"2026-02-11T20:18:07.569114-08:00","created_by":"ryan"},{"issue_id":"reaper-3t45.2","depends_on_id":"reaper-3t45.1","type":"blocks","created_at":"2026-02-11T20:18:22.298988-08:00","created_by":"ryan"}]}
{"id":"reaper-3t45.3","title":"Update worktree-list.sh visual output","description":"Replace colored double-line headers with Reaper-style cards. Source visual-helpers.sh. Default table uses clean header style. Verbose output uses Reaper card per worktree with heavy rule separator. JSON output unchanged. Replace verbose footer with clean summary line.\n\n[Auto-added by verification]\nWork type: application_code\nAssigned files: skills/worktree-manager/scripts/worktree-list.sh\nCross-references: Shares no files with sibling issues 3t45.2, 3t45.4, 3t45.5.\n\nAcceptance criteria:\n- Sources visual-helpers.sh for all logging/rendering\n- Replace emoji helpers with visual-helpers equivalents\n- Default table output uses clean header style (no color-coded borders)\n- Verbose output uses Reaper card per worktree with heavy rule separator\n- JSON output unchanged\n- Replace verbose footer with clean summary line","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:18:08.626423-08:00","created_by":"ryan","updated_at":"2026-02-11T20:42:07.426099-08:00","closed_at":"2026-02-11T20:42:07.426099-08:00","close_reason":"Scripts migrated to visual-helpers library, committed at 971c446","dependencies":[{"issue_id":"reaper-3t45.3","depends_on_id":"reaper-3t45","type":"parent-child","created_at":"2026-02-11T20:18:08.8712-08:00","created_by":"ryan"},{"issue_id":"reaper-3t45.3","depends_on_id":"reaper-3t45.1","type":"blocks","created_at":"2026-02-11T20:18:22.435158-08:00","created_by":"ryan"}]}
{"id":"reaper-3t45.4","title":"Update worktree-status.sh visual output","description":"Replace double-line headers with Reaper-style STATUS card. Add gauge state to health summary ‚Äî LANDED (healthy), IN FLIGHT (warnings), FAULT (errors). Source visual-helpers.sh. Replace emoji helpers. JSON output unchanged. Same checks and exit codes.\n\n[Auto-added by verification]\nWork type: application_code\nAssigned files: skills/worktree-manager/scripts/worktree-status.sh\nCross-references: Shares no files with sibling issues 3t45.2, 3t45.3, 3t45.5.\n\nAcceptance criteria:\n- Sources visual-helpers.sh for all logging/rendering\n- Replace double-line header/footer with Reaper-style STATUS card\n- Add gauge state to summary based on worktree health: Healthy ‚Üí LANDED, Warnings ‚Üí IN FLIGHT, Errors ‚Üí FAULT\n- Replace emoji helpers with visual-helpers equivalents\n- JSON output unchanged\n- Same checks performed, same exit codes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:18:12.805536-08:00","created_by":"ryan","updated_at":"2026-02-11T20:42:07.428653-08:00","closed_at":"2026-02-11T20:42:07.428653-08:00","close_reason":"Scripts migrated to visual-helpers library, committed at 971c446","dependencies":[{"issue_id":"reaper-3t45.4","depends_on_id":"reaper-3t45","type":"parent-child","created_at":"2026-02-11T20:18:13.026096-08:00","created_by":"ryan"},{"issue_id":"reaper-3t45.4","depends_on_id":"reaper-3t45.1","type":"blocks","created_at":"2026-02-11T20:18:22.586279-08:00","created_by":"ryan"}]}
{"id":"reaper-3t45.5","title":"Update worktree-cleanup.sh visual output + tests","description":"Replace bracket-prefix logging with visual-helpers equivalents. Add CLEANUP summary card with gauge state at completion. Source visual-helpers.sh. AI remediation guide format preserved exactly. Update worktree-cleanup.test.sh line 380 assertion from [WARN] to new warning prefix. All existing tests must pass.\n\n[Auto-added by verification]\nWork type: application_code\nAssigned files: skills/worktree-manager/scripts/worktree-cleanup.sh, skills/worktree-manager/scripts/worktree-cleanup.test.sh\nCross-references: Shares no files with sibling issues 3t45.2, 3t45.3, 3t45.4.\n\nAcceptance criteria:\n- Sources visual-helpers.sh for all logging/rendering\n- Replace log_info(), log_success(), log_warn(), log_error() bracket-prefix functions with visual-helpers equivalents\n- Add summary card at completion (CLEANUP title + heavy rule + fields + gauge state)\n- AI remediation guide format preserved exactly (machine-parsed)\n- Dry-run output uses same card style\n- Update worktree-cleanup.test.sh line 380: change [WARN] assertion to match new warning prefix\n- All existing tests pass after update\n- Same exit codes, same safety checks, same behavior","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:18:15.984223-08:00","created_by":"ryan","updated_at":"2026-02-11T20:42:07.431255-08:00","closed_at":"2026-02-11T20:42:07.431255-08:00","close_reason":"Scripts migrated to visual-helpers library, committed at 971c446","dependencies":[{"issue_id":"reaper-3t45.5","depends_on_id":"reaper-3t45","type":"parent-child","created_at":"2026-02-11T20:18:16.174484-08:00","created_by":"ryan"},{"issue_id":"reaper-3t45.5","depends_on_id":"reaper-3t45.1","type":"blocks","created_at":"2026-02-11T20:18:22.757329-08:00","created_by":"ryan"}]}
{"id":"reaper-3v0","title":"Build, verify, and run contract tests","description":"## Objective\nRun npm run build to generate all output files. Verify commands/squadron.md is generated and commands/huddle.md is gone. Run contract tests. Grep entire src/ for remaining \"huddle\" references.\n\n## TDD Approach\n1. RED: Verify commands/huddle.md no longer exists\n2. GREEN: Run build and verify all generated files\n3. BLUE: Run contract tests and full grep verification\n\n## Acceptance Criteria\n- [ ] npm run build succeeds\n- [ ] commands/squadron.md exists and is correctly generated\n- [ ] commands/huddle.md does not exist\n- [ ] Contract tests pass (node --test scripts/contracts.test.js)\n- [ ] grep -ri \"huddle\" src/ returns zero results\n- [ ] All 11 generated agent files reflect updated headers\n\n## Scope\nFiles: 0 (verification only)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`test_code` (verification and contract testing)\n\n## Execution Hints\nThis is a consolidation unit. It runs after all implementation units (1, 2, 3) complete. No parallel execution allowed ‚Äî this is the final validation gate before marking the epic complete.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:55.685064-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.482458-08:00","closed_at":"2026-02-06T11:51:01.482458-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-3v0","depends_on_id":"reaper-o49","type":"blocks","created_at":"2026-02-06T11:28:00.096538-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-1o1","type":"blocks","created_at":"2026-02-06T11:28:00.815076-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-yg5","type":"blocks","created_at":"2026-02-06T11:28:01.387337-08:00","created_by":"ryan"},{"issue_id":"reaper-3v0","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:11.451124-08:00","created_by":"ryan"}]}
{"id":"reaper-3w4s","title":"Audit and remove inline Gate Mode sections from agents","description":"The squadron session on subagent design excellence surfaced that most agents should NOT carry inline Gate Mode sections. Gate 2 behavior is handled via code-review skill injection, not embedded agent logic. The existing Gate Mode conditional sections in ai-prompt-engineer, principal-engineer, and potentially other agents represent an older architectural pattern that has been superseded.\n\nAction required:\n- Audit all agents in src/agents/ for inline Gate Mode (gateCapable) sections\n- Determine which agents (if any) legitimately need inline gate behavior vs. receiving it via skill injection\n- Remove or deprecate inline Gate Mode sections from agents that receive gate behavior via the code-review skill\n- Update the agent design standard to reflect the correct gate architecture","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-20T19:23:58.683385-08:00","created_by":"ryan","updated_at":"2026-02-20T20:16:21.456074-08:00","closed_at":"2026-02-20T20:16:21.456074-08:00","close_reason":"Closed"}
{"id":"reaper-3w4s.1","title":"Remove gateCapable from build system and tests","description":"## Objective\nRemove the GATE_CAPABLE_AGENTS constant, the gateCapable template variable, and all associated tests from the build system. Gate behavior is now delivered exclusively via code-review skill injection (SKILL_CONTENT), making the gateCapable flag dead infrastructure.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Update scripts/build.test.js to remove GATE_CAPABLE_AGENTS export assertions and all gateCapable buildTemplateVars tests. Remove gateCapable from the expected template vars list. Update scripts/contracts.test.js to remove the gateCapable semantic suite registration (registerSemanticSuite('gateCapable') line). Tests should now fail on the current codebase (gateCapable still exists in build.js).\n2. GREEN: Remove GATE_CAPABLE_AGENTS constant and vars.gateCapable assignment from scripts/build.js. Remove the GATE_CAPABLE_AGENTS export from the module.exports at the bottom. Run tests ‚Äî all should pass.\n3. BLUE: Run full test suite (npm run test:coverage), confirm all green, confirm coverage threshold met.\n\n## Acceptance Criteria\n- [ ] GATE_CAPABLE_AGENTS removed from scripts/build.js\n- [ ] vars.gateCapable removed from buildTemplateVars in scripts/build.js\n- [ ] All gateCapable tests removed from scripts/build.test.js\n- [ ] GATE_CAPABLE_AGENTS import removed from scripts/build.test.js and scripts/contracts.test.js\n- [ ] gateCapable semantic suite removed from contracts.test.js\n- [ ] All tests pass\n- [ ] Code coverage meets 70% threshold\n\n## Scope\nFiles: scripts/build.js, scripts/build.test.js, scripts/contracts.test.js\nwork_type: application_code\n\n[Auto-added by verification] Unblocks reaper-3w4s.2 (template cleanup) and reaper-3w4s.3 (docs update) which run in parallel after this completes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:42:26.876985-08:00","created_by":"ryan","updated_at":"2026-02-20T19:56:36.568798-08:00","closed_at":"2026-02-20T19:56:36.568812-08:00","dependencies":[{"issue_id":"reaper-3w4s.1","depends_on_id":"reaper-3w4s","type":"parent-child","created_at":"2026-02-20T19:42:26.877927-08:00","created_by":"ryan"}]}
{"id":"reaper-3w4s.2","title":"Remove GATE_MODE conditional blocks from 4 agent templates","description":"## Objective\nRemove the dead gateCapable conditional blocks from all 4 agent templates. After reaper-3w4s.1 removes the gateCapable template variable from the build system, these blocks become dead EJS code. Removing them keeps the templates clean and honest.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run npm run build and git diff to confirm GATE_MODE still appears in generated agents (baseline). The build.test.js from reaper-3w4s.1 already passes ‚Äî no new RED tests required for this cleanup task.\n2. GREEN: Remove the \u003c% if (gateCapable) { %\u003e ... \u003c% } %\u003e conditional blocks from: src/agents/ai-prompt-engineer.ejs, src/agents/principal-engineer.ejs, src/agents/security-auditor.ejs, src/agents/deployment-engineer.ejs. Run npm run build. Verify generated agents no longer contain GATE_MODE sections.\n3. BLUE: Run full test suite (npm run test:coverage). Review npm run build output via git diff to confirm only the 4 target agents changed and no unintended side effects from partials.\n\n## Acceptance Criteria\n- [ ] gateCapable conditional block removed from src/agents/ai-prompt-engineer.ejs\n- [ ] gateCapable conditional block removed from src/agents/principal-engineer.ejs\n- [ ] gateCapable conditional block removed from src/agents/security-auditor.ejs\n- [ ] gateCapable conditional block removed from src/agents/deployment-engineer.ejs\n- [ ] npm run build produces no GATE_MODE sections in any generated agent\n- [ ] No unintended side effects in other generated files\n- [ ] All tests pass\n\n## Scope\nFiles: src/agents/ai-prompt-engineer.ejs, src/agents/principal-engineer.ejs, src/agents/security-auditor.ejs, src/agents/deployment-engineer.ejs\nwork_type: agent_prompt\n\n[Auto-added by verification] Runs in parallel with reaper-3w4s.3 (docs update). Both unblock after reaper-3w4s.1 completes. Docs update in reaper-3w4s.3 should be informed by what was removed here.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:42:39.712065-08:00","created_by":"ryan","updated_at":"2026-02-20T20:05:04.196921-08:00","closed_at":"2026-02-20T20:05:04.196921-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3w4s.2","depends_on_id":"reaper-3w4s","type":"parent-child","created_at":"2026-02-20T19:42:39.75449-08:00","created_by":"ryan"},{"issue_id":"reaper-3w4s.2","depends_on_id":"reaper-3w4s.1","type":"blocks","created_at":"2026-02-20T19:42:59.032306-08:00","created_by":"ryan"}]}
{"id":"reaper-3w4s.3","title":"Update agent design documentation to reflect gate architecture","description":"## Objective\nUpdate docs/agents.md to clarify that Gate 2 reviewer agents do not carry inline gate behavior ‚Äî the code-review skill (injected as SKILL_CONTENT) is the sole source of gate instructions for all Gate 2 reviewers.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Read docs/agents.md and identify any statements implying agents carry their own gate logic. Note what needs to change.\n2. GREEN: Update docs/agents.md to reflect that Gate 2 reviewer agents receive gate instructions exclusively via skill injection (SKILL_CONTENT). Clarify that agents are general-purpose domain experts, not gate-mode-aware agents.\n3. BLUE: Verify the updated documentation is consistent with quality-gate-protocol.ejs and the code-review skill description.\n\n## Acceptance Criteria\n- [ ] docs/agents.md accurately describes Gate 2 review as skill-injected (not inline)\n- [ ] No mention of GATE_MODE or gateCapable in user-facing documentation\n- [ ] Consistent with the current architecture (code-review skill + specialty files)\n\n## Scope\nFiles: docs/agents.md\nwork_type: documentation\n\n[Auto-added by verification] Runs in parallel with reaper-3w4s.2 (template cleanup). Both unblock after reaper-3w4s.1 completes. Review reaper-3w4s.2 changeset to understand which GATE_MODE sections were removed and ensure the doc update accurately reflects the removed patterns.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-20T19:42:39.84997-08:00","created_by":"ryan","updated_at":"2026-02-20T20:05:04.200227-08:00","closed_at":"2026-02-20T20:05:04.200227-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3w4s.3","depends_on_id":"reaper-3w4s","type":"parent-child","created_at":"2026-02-20T19:42:39.850755-08:00","created_by":"ryan"},{"issue_id":"reaper-3w4s.3","depends_on_id":"reaper-3w4s.1","type":"blocks","created_at":"2026-02-20T19:42:59.103011-08:00","created_by":"ryan"}]}
{"id":"reaper-3wb5","title":"Fix flight-plan dependency vs parent/child confusion","description":"The flight-plan command keeps assuming that Beads does not support parent-child relationships. It instead tries to run 'bd dep add' but that creates blockers, not parents/children. Three source files need clarification to unambiguously separate hierarchy (CREATE_ISSUE with --parent) from dependencies (ADD_DEPENDENCY with blocks/related only).","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-08T15:43:13.123822-08:00","created_by":"ryan","updated_at":"2026-02-08T16:06:18.964798-08:00","closed_at":"2026-02-08T16:06:18.964798-08:00","close_reason":"All 4 children completed and merged to develop"}
{"id":"reaper-3wb5.2","title":"Strengthen hierarchy guidance in task-system-operations partial","description":"## Objective\nExpand CREATE_ISSUE description in the abstract operations table to emphasize --parent as the hierarchy mechanism. Add explicit note that parent-child is NOT a dependency type.\n\n## work_type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] CREATE_ISSUE row clearly states parent parameter establishes hierarchy\n- [ ] ADD_DEPENDENCY section only documents blocks and related types\n- [ ] Clear warning that parent-child must NOT be passed to ADD_DEPENDENCY\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: src/partials/task-system-operations.ejs\n\n## Cross-References\n[Auto-added by verification] This partial is consumed by workflow-planner.ejs (reaper-3wb5.3) and flight-plan.ejs (reaper-3wb5.4) and takeoff.ejs. Changes here propagate to all consumers at build time. Coordinate terminology with sibling issues.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-08T15:43:40.730776-08:00","created_by":"ryan","updated_at":"2026-02-08T16:03:01.966897-08:00","closed_at":"2026-02-08T16:03:01.966897-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3wb5.2","depends_on_id":"reaper-3wb5","type":"parent-child","created_at":"2026-02-08T15:43:40.742145-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.2","depends_on_id":"reaper-3wb5.3","type":"related","created_at":"2026-02-08T15:45:12.62008-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.2","depends_on_id":"reaper-3wb5.4","type":"related","created_at":"2026-02-08T15:45:13.223447-08:00","created_by":"ryan"}]}
{"id":"reaper-3wb5.3","title":"Remove parent-child from workflow-planner dependency table","description":"## Objective\nRemove the parent-child row from the Dependency Type Planning Impact table in workflow-planner.ejs. parent-child is not a dependency type ‚Äî it's a structural relationship established via CREATE_ISSUE --parent flag.\n\n## work_type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Dependency Type Planning Impact table only has: blocks, discovered-from, related\n- [ ] Creating Work Units section remains clear about using CREATE_ISSUE with parent=\n- [ ] No references to ADD_DEPENDENCY with parent-child type\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: src/agents/workflow-planner.ejs\n\n## Cross-References\n[Auto-added by verification] This file includes task-system-operations partial (reaper-3wb5.2). Also related to flight-plan changes (reaper-3wb5.4). Ensure terminology aligns ‚Äî this file should reference hierarchy via CREATE_ISSUE parent=, never via ADD_DEPENDENCY.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-08T15:43:42.46198-08:00","created_by":"ryan","updated_at":"2026-02-08T15:58:03.231581-08:00","closed_at":"2026-02-08T15:58:03.231581-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3wb5.3","depends_on_id":"reaper-3wb5","type":"parent-child","created_at":"2026-02-08T15:43:42.477099-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.3","depends_on_id":"reaper-3wb5.4","type":"related","created_at":"2026-02-08T15:45:13.956663-08:00","created_by":"ryan"}]}
{"id":"reaper-3wb5.4","title":"Reinforce hierarchy in flight-plan Phase 5","description":"## Objective\nAdd explicit notes to Phase 5 Step 2 (Child issues) reinforcing that parent=EPIC_ID handles all hierarchy, and to Step 3 (Dependencies) warning that parent-child is NOT created via ADD_DEPENDENCY.\n\n## work_type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Step 2 explicitly says parent= is the hierarchy mechanism\n- [ ] Step 3 explicitly says do NOT use ADD_DEPENDENCY for hierarchy\n- [ ] No ambiguity about when to use which mechanism\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: src/commands/flight-plan.ejs\n\n## Cross-References\n[Auto-added by verification] This file includes task-system-operations partial (reaper-3wb5.2). Also related to workflow-planner changes (reaper-3wb5.3). Ensure terminology aligns ‚Äî this file should reference hierarchy via CREATE_ISSUE parent=, never via ADD_DEPENDENCY.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-08T15:43:44.456266-08:00","created_by":"ryan","updated_at":"2026-02-08T15:53:55.163436-08:00","closed_at":"2026-02-08T15:53:55.163436-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3wb5.4","depends_on_id":"reaper-3wb5","type":"parent-child","created_at":"2026-02-08T15:43:44.462092-08:00","created_by":"ryan"}]}
{"id":"reaper-3wb5.5","title":"Build and verify generated output","description":"## Objective\nRun npm run build to regenerate output files. Verify generated files reflect template changes. Grep for remaining references to parent-child as a dependency type.\n\n## work_type\nchore\n\n## Acceptance Criteria\n- [ ] Build succeeds\n- [ ] Generated files match template changes\n- [ ] No remaining instructions to use ADD_DEPENDENCY for parent-child hierarchy\n- [ ] commands/takeoff.md also verified (consumes task-system-operations partial)\n\n## Scope\nFiles: agents/workflow-planner.md, commands/flight-plan.md, commands/takeoff.md\n\n[Auto-added by verification] Added commands/takeoff.md to scope ‚Äî src/commands/takeoff.ejs also includes task-system-operations partial and will be affected by reaper-3wb5.2 changes.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-02-08T15:43:45.873533-08:00","created_by":"ryan","updated_at":"2026-02-08T16:03:46.288067-08:00","closed_at":"2026-02-08T16:03:46.288067-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-3wb5.5","depends_on_id":"reaper-3wb5","type":"parent-child","created_at":"2026-02-08T15:43:45.882276-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.5","depends_on_id":"reaper-3wb5.2","type":"blocks","created_at":"2026-02-08T15:43:50.450885-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.5","depends_on_id":"reaper-3wb5.3","type":"blocks","created_at":"2026-02-08T15:43:50.62729-08:00","created_by":"ryan"},{"issue_id":"reaper-3wb5.5","depends_on_id":"reaper-3wb5.4","type":"blocks","created_at":"2026-02-08T15:43:50.736667-08:00","created_by":"ryan"}]}
{"id":"reaper-4al4","title":"Dirty-root strategy upgrade: escalate very_small_direct when root has uncommitted changes","description":"When the project root working directory has uncommitted changes, automatically upgrade very_small_direct strategy to medium_single_branch to enforce worktree isolation.\n\n## Objective\nAgents operating under very_small_direct can work directly on the feature branch without worktree isolation. If the root has uncommitted changes, those changes can leak into the agent's environment or be accidentally swept into the commit. medium_single_branch creates an isolated ./trees/ worktree, which is the safe default when root state is unknown.\n\n## Scope\n- src/agents/workflow-planner.ejs ‚Äî add dirty-root override rule\n- src/commands/takeoff.ejs ‚Äî apply escalation as universal post-selection check\n- scripts/contracts.test.js ‚Äî contract tests for the new rule\n\n## Plan\n.claude/plans/reaper-dirty-root-strategy-upgrade.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T14:17:59.479583-08:00","created_by":"ryan","updated_at":"2026-02-19T15:41:33.198267-08:00","closed_at":"2026-02-19T15:41:33.198267-08:00","close_reason":"Closed"}
{"id":"reaper-4lm","title":"Add common partials to incident-responder","description":"Incident-responder has inline pre-work validation and output requirements. Add appropriate pre-work validation (may need ops-specific variant) and output-requirements partial. Preserve incident-specific content (log analysis, rollback procedures).\n\nFiles:\n- src/agents/incident-responder.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review (or ops-specific variant if needed)\n- output-requirements (determine appropriate parameters)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-0l6 (technical-writer - similar non-coding agent)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/incident-responder.md contains partial content\n- Incident-specific sections preserved (log analysis, rollback procedures)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:50.6834-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.472323-08:00","closed_at":"2026-01-23T12:51:59.472323-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-4lm","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:55.460999-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm","title":"Diverse Quality Gates for Reaper","description":"Redesign quality gate system from hardcoded code-centric pipeline to work-type-aware gate profile system. Auto-detects appropriate gates for any artifact type. Net +1 agent (validation-runner). Existing specialist agents gain GATE_MODE sections. Full plan at .claude/plans/reaper-diverse-quality-gates.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T17:40:00.780957-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.81989-08:00","closed_at":"2026-02-05T20:17:42.81989-08:00","close_reason":"Closed"}
{"id":"reaper-4mm.1","title":"Refactor quality-gate-protocol.ejs with gate profile table","description":"## Objective\nReplace the hardcoded 3-gate sequence with a work-type-aware gate profile lookup table. Add work type detection patterns (directory path + extension mapping). Add differential retry rules per gate type. Keep application_code profile matching current behavior exactly (regression-safe).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify npm run build succeeds with current template before changes\n2. GREEN: Add profile table, detection patterns, differential retry rules\n3. BLUE: Refactor for clarity while keeping build green\n\n## Acceptance Criteria\n- [ ] Gate profile lookup table with all 9 work types defined\n- [ ] Work type detection pattern table (directory + extension ‚Üí work type)\n- [ ] Union semantics for mixed changesets documented\n- [ ] Differential retry limits: test-runner 3, code-reviewer 2, specialized 1\n- [ ] application_code profile produces identical behavior to current system\n- [ ] npm run build succeeds, generated output includes new profile table\n- [ ] Both role: orchestrator and role: planner views render correctly\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:12.462715-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.783553-08:00","closed_at":"2026-02-05T20:17:42.783553-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.1","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:12.467983-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.10","title":"Update takeoff orchestrator for dynamic gate selection","description":"## Objective\nUpdate takeoff.ejs to use the gate profile table instead of hardcoded gate sequence. Implement: file classification ‚Üí profile lookup ‚Üí union computation ‚Üí gate deployment with GATE_MODE flag. Add orchestrator gate echo. Implement conservative dirty-bit caching.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current takeoff hardcodes gate sequence\n2. GREEN: Implement dynamic selection, union computation, gate echo, dirty-bit caching\n3. BLUE: Ensure application_code path identical to current behavior\n\n## Acceptance Criteria\n- [ ] Takeoff reads gate profile table from quality-gate-protocol partial\n- [ ] Files_modified from coding agent classified into work types\n- [ ] Union of matching profiles computed (strictest mode wins)\n- [ ] Gates deployed with GATE_MODE: true + CRITERIA_PROFILE for dual-role agents\n- [ ] Orchestrator echoes selected gates before execution\n- [ ] Conservative dirty-bit: skip re-run only if ZERO files in gate scope changed\n- [ ] Differential retry limits applied per gate type\n- [ ] Fallback to general-purpose agent for unknown work types\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/takeoff.ejs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:41:01.696845-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.808939-08:00","closed_at":"2026-02-05T20:17:42.808939-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:01.705829-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:25.782466-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.2","type":"blocks","created_at":"2026-02-05T17:41:25.866404-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.4","type":"blocks","created_at":"2026-02-05T17:41:25.934688-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.6","type":"blocks","created_at":"2026-02-05T17:41:26.001968-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.7","type":"blocks","created_at":"2026-02-05T17:41:26.072143-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.8","type":"blocks","created_at":"2026-02-05T17:41:26.143289-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.10","depends_on_id":"reaper-4mm.9","type":"blocks","created_at":"2026-02-05T17:42:56.655672-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.11","title":"Consolidate hook scripts into unified gate hook","description":"## Objective\nReplace orchestrate-test-runner.sh and orchestrate-review-agent.sh with a single orchestrate-gate-agent.sh that works for all gate types. Update hooks.json template.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify two separate hook scripts exist\n2. GREEN: Create unified script, update hook template\n3. BLUE: Remove old scripts, verify hooks.json output\n\n## Acceptance Criteria\n- [ ] Single scripts/orchestrate-gate-agent.sh replacing both existing scripts\n- [ ] Hook template updated to reference new unified script\n- [ ] Old scripts removed\n- [ ] npm run build produces correct hooks.json\n\n## Scope\nFiles: scripts/orchestrate-gate-agent.sh (new), scripts/orchestrate-test-runner.sh (delete), scripts/orchestrate-review-agent.sh (delete), src/hooks/*.ejs (if hook templates exist, needs discovery)\n\n[Auto-added by verification]\nCross-references: reaper-4mm.1 (depends on gate profile table for unified hook behavior)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-05T17:41:06.290476-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.8115-08:00","closed_at":"2026-02-05T20:17:42.8115-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.11","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:06.298018-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.11","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:26.268351-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.12","title":"Update agent-deployment-template with GATE_EXPECTATIONS","description":"## Objective\nAdd GATE_EXPECTATIONS field to the deployment template so coding agents know upfront which gates will review their work. Orchestrator populates this from the selected gate profile.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no GATE_EXPECTATIONS field in current template\n2. GREEN: Add field with documentation of what each gate checks\n3. BLUE: Add orchestrator guidance on population from profile table\n\n## Acceptance Criteria\n- [ ] GATE_EXPECTATIONS field added to deployment template\n- [ ] Documents what each gate will check (e.g., \"test-runner: 80% coverage, zero lint\")\n- [ ] Orchestrator guidance on how to populate from profile table\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/agent-deployment-template.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.10 (takeoff orchestrator populates this field), reaper-4mm.1 (gate profile table is the data source)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:41:10.858756-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.814344-08:00","closed_at":"2026-02-05T20:17:42.814344-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.12","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:10.865177-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.12","depends_on_id":"reaper-4mm.10","type":"blocks","created_at":"2026-02-05T17:41:26.857356-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.13","title":"Update workflow-planner to emit work_type per work unit","description":"## Objective\nExtend workflow-planner work unit JSON output to include a work_type field. The planner classifies each work unit based on its assigned_files. Add work_type to the JSON schema and planning instructions.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current work unit JSON schema lacks work_type\n2. GREEN: Add work_type field, classification logic, schema update\n3. BLUE: Ensure verification mode also checks work_type is set\n\n## Acceptance Criteria\n- [ ] work_type field added to work unit JSON schema\n- [ ] Planner classifies work units using same detection patterns as quality-gate-protocol\n- [ ] work_type values match the profile table keys\n- [ ] Verification mode also checks work_type is set\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/workflow-planner.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.1 (uses same work type detection patterns), reaper-4mm.10 (takeoff uses work_type for gate selection)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:41:15.560351-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.816763-08:00","closed_at":"2026-02-05T20:17:42.816763-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:41:15.576452-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:27.753308-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.13","depends_on_id":"reaper-4mm.10","type":"blocks","created_at":"2026-02-05T17:41:27.81729-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.2","title":"Update orchestrator-role-boundary.ejs for dynamic gate counts","description":"## Objective\nCurrent partial hardcodes 'three approval authorities' and 'unanimous approval required.' Refactor to reference the gate profile table dynamically ‚Äî the number and identity of authorities depends on the work type.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current build output contains hardcoded language\n2. GREEN: Replace with dynamic references to gate profile table\n3. BLUE: Ensure zero-trust principle still referenced, clean up wording\n\n## Acceptance Criteria\n- [ ] 'Three approval authorities' language replaced with dynamic reference\n- [ ] 'Unanimous approval' logic updated to 'all gates in selected profile must pass'\n- [ ] Still references zero-trust principle\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/orchestrator-role-boundary.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:17.570009-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.787633-08:00","closed_at":"2026-02-05T20:17:42.787633-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.2","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:17.575769-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.2","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:19.550062-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.3","title":"Add gateCapable variable to EJS build system","description":"## Objective\nExtend scripts/build.js to pass a gateCapable boolean to agent templates. Agents in a new gate_capable list get gateCapable: true, allowing conditional EJS sections for GATE_MODE. Initial gate-capable agents: ai-prompt-engineer, code-reviewer, security-auditor, deployment-engineer.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gateCapable variable currently exists in build output\n2. GREEN: Add GATE_CAPABLE_AGENTS constant, pass gateCapable to templates\n3. BLUE: Refactor for consistency with existing AGENT_TYPES pattern\n\n## Acceptance Criteria\n- [ ] New GATE_CAPABLE_AGENTS constant in build.js\n- [ ] gateCapable variable passed to agent templates during compilation\n- [ ] Gate-capable agents render GATE_MODE section; others don't\n- [ ] npm run build succeeds with no regressions\n\n## Scope\nFiles: scripts/build.js","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:22.961291-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.79073-08:00","closed_at":"2026-02-05T20:17:42.79073-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.3","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:22.966125-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.3","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:20.174083-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.4","title":"Create validation-runner agent template","description":"## Objective\nCreate a new agent for non-code validation (terraform validate, openapi validate, helm template, docker build --check, schema validation, migration dry-runs). Accepts VALIDATION_COMMAND, LINT_COMMAND, VALIDATION_MODE. Returns universal gate contract JSON. No coverage threshold.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no validation-runner agent exists\n2. GREEN: Create template with frontmatter, parameters, gate contract output\n3. BLUE: Align with existing agent patterns (test-runner structure)\n\n## Acceptance Criteria\n- [ ] Agent template at src/agents/validation-runner.ejs\n- [ ] YAML frontmatter: model haiku, appropriate tools\n- [ ] Accepts VALIDATION_COMMAND (required), LINT_COMMAND (optional), VALIDATION_MODE (full|targeted)\n- [ ] Returns universal gate contract JSON: { gate_status, task_id, working_dir, summary, blocking_issues }\n- [ ] Pre-work validation for required inputs\n- [ ] Build system updated: add to AGENT_TYPES (review category)\n- [ ] npm run build produces agents/validation-runner.md\n\n## Scope\nFiles: src/agents/validation-runner.ejs, scripts/build.js","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T17:40:29.796383-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.793234-08:00","closed_at":"2026-02-05T20:17:42.793234-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.4","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:29.807417-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.4","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:20.718206-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.5","title":"Parameterize code-reviewer pre-work validation","description":"## Objective\nCurrent pre-work-validation-review.ejs requires TEST_RUNNER_RESULTS. When code-reviewer is used as a gate for non-code work types, it won't have test-runner output. Parameterize to accept any prior gate results or none, controlled by a REVIEW_CONTEXT parameter.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template requires TEST_RUNNER_RESULTS\n2. GREEN: Add REVIEW_CONTEXT parameter, make prior results flexible\n3. BLUE: Ensure backward compat ‚Äî application_code still passes TEST_RUNNER_RESULTS\n\n## Acceptance Criteria\n- [ ] Pre-work validation accepts flexible prior gate results (not just TEST_RUNNER_RESULTS)\n- [ ] New REVIEW_CONTEXT parameter: specifies what to evaluate (SOLID for code, plan adherence for all, conventions for all)\n- [ ] Backward compatible: application_code profile still passes TEST_RUNNER_RESULTS and it works\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/pre-work-validation-review.ejs, src/agents/code-reviewer.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:36.083448-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.795591-08:00","closed_at":"2026-02-05T20:17:42.795591-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.5","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:36.090278-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.5","depends_on_id":"reaper-4mm.1","type":"blocks","created_at":"2026-02-05T17:41:21.199211-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.6","title":"Add GATE_MODE section to ai-prompt-engineer","description":"## Objective\nAdd conditional gate-mode section to ai-prompt-engineer template. When deployed with GATE_MODE: true, evaluates prompt quality and returns gate contract JSON. Domain-specific blocking criteria: removed safety constraints, missing output format, conflicting instructions, missing grounding constraints, context overflow. Warnings: token bloat, vague qualifiers, style mismatches.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gate section currently renders in build output\n2. GREEN: Add conditional gateCapable section with blocking/advisory criteria\n3. BLUE: Ensure advisory mode output unchanged when not in GATE_MODE\n\n## Acceptance Criteria\n- [ ] Conditional \u003c% if (gateCapable) %\u003e section with gate deployment instructions\n- [ ] Blocking vs. advisory criteria clearly defined\n- [ ] Gate output uses universal contract (gate_status, blocking_issues, summary)\n- [ ] Advisory mode output unchanged when not in GATE_MODE\n- [ ] Diff-based regression detection guidance included\n- [ ] npm run build renders gate section in output\n\n## Scope\nFiles: src/agents/ai-prompt-engineer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.7 (code-reviewer), reaper-4mm.8 (security-auditor), reaper-4mm.9 (deployment-engineer) - all 4 gate-capable agents follow same conditional pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:42.671903-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.798006-08:00","closed_at":"2026-02-05T20:17:42.798006-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:42.676673-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:22.083327-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.6","depends_on_id":"reaper-4mm.5","type":"blocks","created_at":"2026-02-05T17:41:22.144218-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.7","title":"Add GATE_MODE section to code-reviewer","description":"## Objective\nAdd conditional gate-mode section to code-reviewer template. Gate mode evaluates plan adherence, consistency, and style for any artifact type ‚Äî not just code. Uses the parameterized pre-work validation from Unit 5.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current gate section is code-only\n2. GREEN: Add generalized GATE_MODE section with non-code review criteria\n3. BLUE: Ensure existing code review behavior preserved\n\n## Acceptance Criteria\n- [ ] Conditional gate-mode section with non-code review criteria\n- [ ] Plan adherence evaluation for any artifact type\n- [ ] Style/convention checking generalized beyond SOLID\n- [ ] npm run build renders gate section\n\n## Scope\nFiles: src/agents/code-reviewer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.5 (uses parameterized pre-work validation), reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.8 (security-auditor), reaper-4mm.9 (deployment-engineer) - parallel GATE_MODE additions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:46.822513-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.800646-08:00","closed_at":"2026-02-05T20:17:42.800646-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:46.827349-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:22.823828-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.7","depends_on_id":"reaper-4mm.5","type":"blocks","created_at":"2026-02-05T17:41:22.882678-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.8","title":"Add GATE_MODE section to security-auditor","description":"## Objective\nSecurity-auditor is already a gate agent. Add work-type-aware scanning guidance: IaC security (tfsec/checkov) for infrastructure, prompt injection detection for prompts, secret scanning universal.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template lacks work-type-aware scanning\n2. GREEN: Add conditional section with per-work-type scanning guidance\n3. BLUE: Ensure secret scanning remains universal across all types\n\n## Acceptance Criteria\n- [ ] Conditional section with work-type-specific scanning guidance\n- [ ] IaC security tools referenced for infrastructure_config\n- [ ] Prompt injection/data leakage for agent_prompt\n- [ ] Secret scanning remains universal\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/security-auditor.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.7 (code-reviewer), reaper-4mm.9 (deployment-engineer) - parallel GATE_MODE additions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:52.044709-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.803159-08:00","closed_at":"2026-02-05T20:17:42.803159-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.8","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:52.054204-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.8","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:23.423284-08:00","created_by":"ryan"}]}
{"id":"reaper-4mm.9","title":"Add GATE_MODE section to deployment-engineer","description":"## Objective\nAdd gate-mode section for deployment config review: health checks, resource limits, rollback hooks, environment parity, zero-downtime deployment validation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify no gate section currently renders\n2. GREEN: Add conditional gateCapable section with deployment review criteria\n3. BLUE: Separate blocking vs advisory criteria cleanly\n\n## Acceptance Criteria\n- [ ] Conditional gate-mode section with deployment review criteria\n- [ ] Blocking: missing health checks, no resource limits, no rollback strategy\n- [ ] Advisory: suboptimal configurations, missing monitoring integration\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/deployment-engineer.ejs\n\n[Auto-added by verification]\nCross-references: reaper-4mm.6 (ai-prompt-engineer), reaper-4mm.7 (code-reviewer), reaper-4mm.8 (security-auditor) - parallel GATE_MODE additions following same pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T17:40:54.226385-08:00","created_by":"ryan","updated_at":"2026-02-05T20:17:42.80547-08:00","closed_at":"2026-02-05T20:17:42.80547-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4mm.9","depends_on_id":"reaper-4mm","type":"parent-child","created_at":"2026-02-05T17:40:54.232832-08:00","created_by":"ryan"},{"issue_id":"reaper-4mm.9","depends_on_id":"reaper-4mm.3","type":"blocks","created_at":"2026-02-05T17:41:24.793624-08:00","created_by":"ryan"}]}
{"id":"reaper-4ps","title":"Add aviation-themed messaging to commands","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T18:24:26.348073-08:00","created_by":"ryan","updated_at":"2026-01-05T18:25:09.976617-08:00","closed_at":"2026-01-05T18:25:09.976617-08:00","close_reason":"Closed"}
{"id":"reaper-4tg","title":"Rename commands to aviation theme (flight-plan, takeoff)","description":"Rename /reaper:plan to /reaper:flight-plan and /reaper:orchestrate to /reaper:takeoff for aviation-themed commands. Keep claude-sync as-is for practical naming.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T18:45:23.479416-08:00","created_by":"ryan","updated_at":"2026-01-02T18:46:04.513383-08:00","closed_at":"2026-01-02T18:46:04.513383-08:00","close_reason":"Closed"}
{"id":"reaper-4w6s","title":"Refactor flight-plan command to remove platform-specific detail","description":"The flight-plan command contains platform-specific logic that belongs in the issue-tracker skills.\\n\\nProblems:\\n1. Phase 4 Update Rules Reference table duplicates planfile schema rules inside the command. Any schema change requires updating both the skill and the command.\\n2. Phase 5 Markdown-Only Mode section names reaper:issue-tracker-planfile by skill name, references its Manual Execution Guide template by name, and embeds the full 'Plan Complete (Markdown Mode)' output template inline.\\n3. These create a parallel execution path for markdown_only that bypasses the skill abstraction rather than delegating through it.\\n\\nThe command's abstraction (detect ‚Üí load skill ‚Üí delegate via abstract operations) should hold unconditionally. Platform-specific behavior should live in the skills, not the command.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-19T13:06:34.208101-08:00","created_by":"ryan","updated_at":"2026-02-19T14:17:17.788609-08:00","closed_at":"2026-02-19T14:17:17.788609-08:00","close_reason":"Closed"}
{"id":"reaper-4w6s.1","title":"Write regression contract tests for flight-plan abstraction (RED)","description":"## Objective\nRemove platform-specific detail from the flight-plan command by first adding regression tests that enforce the abstraction boundary.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that assert flight-plan.md does NOT contain hardcoded platform skill names or embedded completion templates\n2. GREEN: Tests pass once Unit 2 removes the content\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] contracts.test.js asserts flight-plan.md does not name any platform skill by its reaper: identifier in Phase 5 content (outside of the Phase 1 skill-loading instruction)\n- [ ] contracts.test.js asserts flight-plan.md does not contain the embedded 'Plan Complete (Markdown Mode)' template text\n- [ ] Tests fail before the fix is applied (confirming they catch the issue)\n- [ ] All other existing contracts tests continue to pass\n\n## Scope\nFiles: scripts/contracts.test.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:12:24.900957-08:00","created_by":"ryan","updated_at":"2026-02-19T13:22:49.063138-08:00","closed_at":"2026-02-19T13:22:49.063138-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4w6s.1","depends_on_id":"reaper-4w6s","type":"parent-child","created_at":"2026-02-19T13:12:24.901828-08:00","created_by":"ryan"}]}
{"id":"reaper-4w6s.2","title":"Remove Phase 4 + Phase 5 platform-specific hardcoding from flight-plan (GREEN)","description":"## Objective\nEdit src/commands/flight-plan.ejs to remove two sections that hardcode platform-specific behavior, replacing them with correct delegation language.\n\nChanges:\n- Phase 4 (lines 311-322): Remove the 'Update Rules Reference' table. Replace the opening sentence with: 'Apply changes using the update rules defined in the plan file schema above.'\n- Phase 5 (lines 383-416): Remove the 'Markdown-Only Mode' section entirely. The planfile skill (loaded in Phase 1) already documents the Manual Execution Guide and completion behavior.\n- The Phase 6 skip note (markdown_only skips verification) is cross-phase coordination and should remain.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Failing tests from reaper-4w6s.1 are already in place\n2. GREEN: Edit src/commands/flight-plan.ejs, run npm run build, verify contract tests now pass\n3. BLUE: Review generated commands/flight-plan.md for correctness\n\n## Acceptance Criteria\n- [ ] src/commands/flight-plan.ejs Phase 4 no longer contains the Update Rules Reference table\n- [ ] src/commands/flight-plan.ejs Phase 5 no longer contains the Markdown-Only Mode section\n- [ ] No reference to reaper:issue-tracker-planfile outside of Phase 1 skill-loading instruction\n- [ ] The embedded Plan Complete (Markdown Mode) template is removed\n- [ ] npm run build succeeds\n- [ ] Regression contract tests from reaper-4w6s.1 pass\n- [ ] All tests pass\n\n## Scope\nFiles: src/commands/flight-plan.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:12:34.238318-08:00","created_by":"ryan","updated_at":"2026-02-19T13:29:26.387732-08:00","closed_at":"2026-02-19T13:29:26.387732-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4w6s.2","depends_on_id":"reaper-4w6s","type":"parent-child","created_at":"2026-02-19T13:12:34.259723-08:00","created_by":"ryan"},{"issue_id":"reaper-4w6s.2","depends_on_id":"reaper-4w6s.1","type":"blocks","created_at":"2026-02-19T13:12:54.661084-08:00","created_by":"ryan"}]}
{"id":"reaper-4w6s.3","title":"Rebuild and verify all tests pass (BLUE)","description":"## Objective\nRun the full test suite after changes from reaper-4w6s.2 are applied to confirm no regressions and coverage is maintained.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: N/A ‚Äî this is the final verification step\n2. GREEN: All tests pass\n3. BLUE: Review generated commands/flight-plan.md to confirm the refactored output is coherent and correct\n\n## Acceptance Criteria\n- [ ] npm test passes with 0 failures\n- [ ] Coverage threshold (70%+) maintained\n- [ ] npm run build produces clean output\n- [ ] Generated commands/flight-plan.md reviewed and content verified correct\n\n## Scope\nFiles: (verification only ‚Äî no source changes)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:12:45.797371-08:00","created_by":"ryan","updated_at":"2026-02-19T13:30:25.616377-08:00","closed_at":"2026-02-19T13:30:25.616377-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-4w6s.3","depends_on_id":"reaper-4w6s","type":"parent-child","created_at":"2026-02-19T13:12:45.805451-08:00","created_by":"ryan"},{"issue_id":"reaper-4w6s.3","depends_on_id":"reaper-4w6s.2","type":"blocks","created_at":"2026-02-19T13:12:54.736304-08:00","created_by":"ryan"}]}
{"id":"reaper-4z0","title":"Fix worktree-manager skill path references","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T12:16:34.135571-08:00","created_by":"ryan","updated_at":"2026-01-05T12:17:01.578128-08:00","closed_at":"2026-01-05T12:17:01.578128-08:00","close_reason":"Fixed by replacing hardcoded paths with CLAUDE_PLUGIN_ROOT variable"}
{"id":"reaper-586","title":"Add editorial voice directive and example voice lines","description":"## Objective\nExpand Moderator Voice with editorial directive: lead enjoys debate, dry wit, earned confidence. Add 8-10 example voice lines as tone calibration. Add expert characterization through narration. Add voice vocabulary list.\n\n## TDD Approach\n1. RED: Write test for voice directive and example lines\n2. GREEN: Add to Moderator Voice section\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Editorial voice directive added\n- [ ] 8-10 example lines with before/after framing\n- [ ] Lines framed as 'like these' not 'use these'\n- [ ] Expert characterization through narration guidance\n- [ ] Voice vocabulary (on station, boards are hot, clean board, good sortie, good copy)\n- [ ] Agent Personality section updated\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Moderator Voice + Agent Personality sections\nEstimated Location: Lines 50-150\n\n## Cross-References\n- Used by: reaper-kj0, reaper-let, reaper-dcm, reaper-s2s, reaper-0sa (all apply editorial voice)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:54.522196-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.192195-08:00","closed_at":"2026-02-06T16:42:30.192195-08:00","close_reason":"Closed"}
{"id":"reaper-59m","title":"Add reaper: prefix to all agent references","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T13:51:14.463589-08:00","created_by":"ryan","updated_at":"2026-01-05T13:53:15.562545-08:00","closed_at":"2026-01-05T13:53:15.562545-08:00","close_reason":"Closed"}
{"id":"reaper-5e6","title":"Pre-commit hook doesn't stage commands/ directory","description":"The pre-commit hook auto-stages agents/, skills/, and hooks/ after building, but omits commands/. If a template change in src/commands/ produces different output, the generated command changes require manual staging. Fix: add commands/ to the git add line in .husky/pre-commit.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:04.376482-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.142148-08:00","closed_at":"2026-02-06T23:24:40.142148-08:00","close_reason":"Closed"}
{"id":"reaper-5elr","title":"Work Unit Cleanup Protocol","description":"Universal background task cleanup protocol for Reaper workflow commands. Implement a new partial with behavioral instructions telling Claude to list active background tasks and TaskStop those no longer needed at every work unit boundary. Addresses zombie process flooding that buries structured output and breaks user interaction gates.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-11T20:22:56.45102-08:00","created_by":"ryan","updated_at":"2026-02-11T20:56:54.178427-08:00","closed_at":"2026-02-11T20:56:54.178427-08:00","close_reason":"Closed"}
{"id":"reaper-5elr.1","title":"Create work-unit-cleanup partial","description":"## Objective\nCreate src/partials/work-unit-cleanup.ejs with behavioral instructions telling Claude to list active background tasks and terminate those no longer needed at every work unit boundary.\n\n## Work Type\n`agent_prompt` ‚Äî behavioral instruction partial consumed by orchestrator commands.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify partial doesn't exist, build succeeds without it\n2. GREEN: Create partial with 4-6 lines of cleanup instruction, build to verify compilation\n3. BLUE: Refine instruction wording for model compliance\n\n## Acceptance Criteria\n- [ ] Partial exists at src/partials/work-unit-cleanup.ejs\n- [ ] Contains a ## Background Task Cleanup heading (for contract testability)\n- [ ] Instructs Claude to: enumerate active background tasks, identify which are no longer needed, call TaskStop for each, confirm all stops before proceeding\n- [ ] Includes examples of what to stop (agents, test runs, builds, explore commands) vs what to keep (dev servers, databases, file watchers)\n- [ ] Includes error tolerance (TaskStop failures should log and continue, not block)\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/work-unit-cleanup.ejs (new)\n\n## Cross-References\n[Auto-added by verification] This partial is consumed by reaper-5elr.2 which adds \u003c%- include('partials/work-unit-cleanup') %\u003e to takeoff, ship, squadron, and flight-plan commands. The partial must compile cleanly and produce a ## Background Task Cleanup heading in generated output for contract tests in reaper-5elr.2 to pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:23:02.002637-08:00","created_by":"ryan","updated_at":"2026-02-11T20:56:54.163224-08:00","closed_at":"2026-02-11T20:56:54.163224-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-5elr.1","depends_on_id":"reaper-5elr","type":"parent-child","created_at":"2026-02-11T20:23:02.017895-08:00","created_by":"ryan"}]}
{"id":"reaper-5elr.2","title":"Integrate into orchestrator commands + contract tests","description":"## Objective\nAdd the cleanup partial include to all orchestrator commands at their natural transition/completion points, and add contract tests verifying inclusion.\n\n## Work Type\n`application_code` ‚Äî modifies command templates and test infrastructure.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract tests requiring Background Task Cleanup section in takeoff, ship, squadron, flight-plan ‚Äî tests fail\n2. GREEN: Add \u003c%- include('partials/work-unit-cleanup') %\u003e at correct locations in each command ‚Äî tests pass\n3. BLUE: Verify build output, refine placement if needed\n\n## Acceptance Criteria\n- [ ] Contract tests in contracts.test.js verify all 4 orchestrator commands include cleanup section\n- [ ] takeoff.ejs: Include at per-unit transition (after gate panel, before TodoWrite update) AND before Touchdown Card\n- [ ] ship.ejs: Include before Landing Card\n- [ ] squadron.ejs: Include before closing mission card\n- [ ] flight-plan.ejs: Include before Phase 7 completion output\n- [ ] npm run build succeeds\n- [ ] All contract tests pass\n- [ ] All existing tests remain green\n\n## Scope\nFiles: scripts/contracts.test.js, src/commands/takeoff.ejs, src/commands/ship.ejs, src/commands/squadron.ejs, src/commands/flight-plan.ejs\n\n## Cross-References\n[Auto-added by verification] Depends on the partial created in reaper-5elr.1 (src/partials/work-unit-cleanup.ejs). The contract tests add a new entry to COMMAND_SEMANTIC_CONTRACTS for each of the 4 commands with pattern /Background Task Cleanup/i, following the existing hasSection() infrastructure in contracts.test.js. The documentation in reaper-5elr.3 will reference the integration points defined here.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:23:07.650714-08:00","created_by":"ryan","updated_at":"2026-02-11T20:56:54.168867-08:00","closed_at":"2026-02-11T20:56:54.168867-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-5elr.2","depends_on_id":"reaper-5elr","type":"parent-child","created_at":"2026-02-11T20:23:07.678106-08:00","created_by":"ryan"},{"issue_id":"reaper-5elr.2","depends_on_id":"reaper-5elr.1","type":"blocks","created_at":"2026-02-11T20:23:15.824288-08:00","created_by":"ryan"}]}
{"id":"reaper-5elr.3","title":"Update documentation for cleanup partial","description":"## Objective\nUpdate CLAUDE.md to document the new work-unit-cleanup partial in the project structure and partial reference sections.\n\n## Work Type\n`documentation` ‚Äî updates project documentation only.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify CLAUDE.md doesn't reference work-unit-cleanup\n2. GREEN: Add partial to the partials list with description\n3. BLUE: Verify consistency with other partial entries\n\n## Acceptance Criteria\n- [ ] CLAUDE.md lists work-unit-cleanup.ejs in the partials reference (line ~290, after no-commits-policy.ejs)\n- [ ] Description matches the partial's purpose: background task cleanup instructions for orchestrator commands\n- [ ] All tests pass\n\n## Scope\nFiles: CLAUDE.md\n\n## Cross-References\n[Auto-added by verification] Documents the partial created in reaper-5elr.1 and integrated in reaper-5elr.2. The new entry follows the format: - \\`work-unit-cleanup.ejs\\` - Background task cleanup instructions for orchestrator commands. Insert after the no-commits-policy.ejs entry in the partials list at CLAUDE.md line ~290.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:23:11.994722-08:00","created_by":"ryan","updated_at":"2026-02-11T20:56:54.171941-08:00","closed_at":"2026-02-11T20:56:54.171941-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-5elr.3","depends_on_id":"reaper-5elr","type":"parent-child","created_at":"2026-02-11T20:23:12.010594-08:00","created_by":"ryan"},{"issue_id":"reaper-5elr.3","depends_on_id":"reaper-5elr.2","type":"blocks","created_at":"2026-02-11T20:23:15.917136-08:00","created_by":"ryan"}]}
{"id":"reaper-5pr","title":"Audit all subagent prompts with ai-prompt-engineer for versatility and quality","description":"Run reaper:ai-prompt-engineer on every subagent prompt to audit for quality, token efficiency, and role clarity. Each agent should excel at its specialty ‚Äî not be a generalist.\n\nRole expectations:\n- **Coding agents** (feature-developer, bug-fixer, refactoring-dev, branch-manager, integration-engineer, deployment-engineer): Focus on writing and shipping code\n- **Quality agents** (test-runner, code-reviewer, security-auditor, performance-engineer, test-strategist): Focus on checking quality, catching defects, and enforcing standards\n- **SME agents** (api-designer, cloud-architect, database-architect, event-architect, observability-architect, frontend-architect, data-engineer, compliance-architect, workflow-planner, claude-agent-architect, technical-writer, incident-responder): Provide domain expertise wherever it is needed\n\nCross-domain input is encouraged when it relates to the agent's own specialty (e.g., security-auditor flags architecture choices with security implications, database-architect comments on query patterns in feature code).\n\nAgents to audit (23 total, excluding ai-prompt-engineer itself):\n- api-designer, branch-manager, bug-fixer, claude-agent-architect, cloud-architect\n- code-reviewer, compliance-architect, data-engineer, database-architect\n- deployment-engineer, event-architect, feature-developer, frontend-architect\n- incident-responder, integration-engineer, observability-architect\n- performance-engineer, refactoring-dev, security-auditor, technical-writer\n- test-runner, test-strategist, workflow-planner\n\nAcceptance criteria:\n- Each agent reviewed for anti-patterns, token waste, and role clarity\n- Feedback includes specific line-level recommendations\n- Agents should deeply own their specialty, not be diluted into generalists\n- Cross-domain input should flow naturally from the agent's expertise, not be bolted on","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T14:57:07.987336-08:00","created_by":"ryan","updated_at":"2026-02-04T17:35:43.017973-08:00","closed_at":"2026-02-04T17:35:43.017973-08:00","close_reason":"All 23 agent prompts audited, revised, and passing quality gate (avg 5.8 ‚Üí 8.3). Merged to develop."}
{"id":"reaper-5sa","title":"Remove Spice skill and standardize doc paths to CLAUDE_PLUGIN_ROOT","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:43:49.082054-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.583441-08:00","closed_at":"2026-01-23T13:02:34.583441-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT"}
{"id":"reaper-5sa.1","title":"Remove Spice skill source and generated files","description":"Delete the entire src/skills/spice/ directory (15 .ejs files) and skills/spice/ directory (15 .md files).\n\nAcceptance: Both directories removed, no orphaned imports or references in remaining files.\n\nParallel Group: Can execute in parallel with reaper-5sa.2, reaper-5sa.3, reaper-5sa.4, reaper-5sa.5 (no file overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:01.256994-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.547172-08:00","closed_at":"2026-01-23T13:02:34.547172-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.1","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:01.280732-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.2","title":"Update worktree-manager references to Spice","description":"Remove or update the 'Integration with SPICE' section in src/skills/worktree-manager/reference.ejs that mentions WORKTREE_SETUP and WORKTREE_CLEANUP spice skills. Acceptance: spice references removed, documentation still accurate.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:01.842162-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.554865-08:00","closed_at":"2026-01-23T13:02:34.554865-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.2","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:01.846422-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.3","title":"Update doc references in all agents to use CLAUDE_PLUGIN_ROOT","description":"Replace @docs/spice/SPICE.md and @SPICE*.md patterns with ${CLAUDE_PLUGIN_ROOT}/docs/spice/*.md in 11 agent EJS templates.\n\nFiles:\n- src/agents/database-architect.ejs\n- src/agents/bug-fixer.ejs\n- src/agents/code-reviewer.ejs\n- src/agents/feature-developer.ejs\n- src/agents/test-runner.ejs\n- src/agents/integration-engineer.ejs\n- src/agents/deployment-engineer.ejs\n- src/agents/performance-engineer.ejs\n- src/agents/cloud-architect.ejs\n- src/agents/security-auditor.ejs\n- src/agents/branch-manager.ejs\n\nAcceptance: All @docs/ and @SPICE patterns replaced with ${CLAUDE_PLUGIN_ROOT}/docs/ format. Build succeeds.\n\nRelated: reaper-5sa.4 (also modifies EJS templates but targets partials, no overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:05.566102-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.568153-08:00","closed_at":"2026-01-23T13:02:34.568153-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.3","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:05.583759-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.4","title":"Update doc references in partials","description":"Review and update partials for doc path references.\n\nFiles:\n- src/partials/pre-work-validation-coding.ejs\n- src/partials/pre-work-validation-review.ejs\n\nThe @plan.md references are user examples showing expected input format - these should NOT be changed. Any actual doc paths referencing SPICE or docs/spice should use ${CLAUDE_PLUGIN_ROOT}/docs/ format.\n\nAcceptance: Partials reviewed, any doc paths updated to ${CLAUDE_PLUGIN_ROOT} format, user example patterns preserved.\n\nRelated: reaper-5sa.3 (also modifies EJS templates but targets agents, no overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:08.350152-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.570967-08:00","closed_at":"2026-01-23T13:02:34.570967-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.4","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:08.414611-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.5","title":"Update build-system.md to remove spice directory mention","description":"Update docs/build-system.md which mentions 'spice/' as a skill subdirectory. Remove from directory structure examples so documentation reflects remaining skill directories.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:09.422668-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.573597-08:00","closed_at":"2026-01-23T13:02:34.573597-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.5","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:09.462317-08:00","created_by":"ryan"}]}
{"id":"reaper-5sa.6","title":"Run build and verify no broken references","description":"Run npm run build to regenerate all files after all other tasks complete.\n\nVerification Steps:\n1. npm run build succeeds without errors\n2. grep -r \"@docs/\" agents/ skills/ returns no matches\n3. grep -r \"@SPICE\" agents/ skills/ returns no matches\n4. skills/spice/ directory does not exist\n5. grep -r \"CLAUDE_PLUGIN_ROOT\" agents/ | head shows new doc path format\n\nDepends on: reaper-5sa.1, reaper-5sa.2, reaper-5sa.3, reaper-5sa.4, reaper-5sa.5 (must all complete first)\n\nAcceptance: Build succeeds, all verification steps pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:44:11.207069-08:00","created_by":"ryan","updated_at":"2026-01-23T13:02:34.577903-08:00","closed_at":"2026-01-23T13:02:34.577903-08:00","close_reason":"Completed: Spice skill removed, doc paths standardized to CLAUDE_PLUGIN_ROOT","dependencies":[{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa","type":"parent-child","created_at":"2026-01-23T12:44:12.245062-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.1","type":"blocks","created_at":"2026-01-23T12:44:18.092547-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.2","type":"blocks","created_at":"2026-01-23T12:44:18.220009-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.3","type":"blocks","created_at":"2026-01-23T12:44:18.361574-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.4","type":"blocks","created_at":"2026-01-23T12:44:18.527051-08:00","created_by":"ryan"},{"issue_id":"reaper-5sa.6","depends_on_id":"reaper-5sa.5","type":"blocks","created_at":"2026-01-23T12:44:18.657925-08:00","created_by":"ryan"}]}
{"id":"reaper-64m","title":"Distill CLAUDE-IMPORT.md Reaper-specific content into CLAUDE.md","description":"Extract Reaper-specific sections from CLAUDE-IMPORT.md (710 lines) into project CLAUDE.md before docs/spice/ is deleted. \n\n**Work Type:** documentation\n\n**Sections to Preserve:**\n- Agent role detection (lines 9-52)\n- Agent selection matrix (lines 105-179)\n- Orchestrator Task ID-Only mode (lines 321-371)\n- Agent-enhanced workflow (lines 405-468)\n- Worktree essentials (lines 600-630)\n- Quick reference (lines 659-701)\n\n**Sections Mixed (selective):**\n- Safety rules: keep worktree rules, soften general standards to advisory\n- Beads integration: keep (required for Reaper development)\n\n**Sections to Drop:**\n- SOLID enforcement\n- Commit format prescriptions\n- Jira integration\n- General linting mandates\n\n**Voice Shift:** Use advisory language for non-workflow standards (e.g., \"prefer\" instead of \"must\", \"aim for\" instead of \"requires\").\n\n**Acceptance Criteria:**\n- CLAUDE.md contains role detection logic\n- CLAUDE.md contains agent selection matrix\n- CLAUDE.md contains orchestrator Task ID-Only documentation\n- CLAUDE.md contains worktree requirements\n- No SPICE branding remains\n- Advisory language used for non-workflow items\n- Build succeeds after changes\n\n**Files:** \n- CLAUDE.md (major additions/rewrites)\n\n**Related Issues:** reaper-uk2 (coordinate voice shift), reaper-2qy (coordinate agent template changes)\n\nRef: reaper-0u4","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T21:00:17.548262-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.733932-08:00","closed_at":"2026-02-06T21:46:32.733932-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-64m","depends_on_id":"reaper-0x6","type":"blocks","created_at":"2026-02-06T21:00:35.910153-08:00","created_by":"ryan"},{"issue_id":"reaper-64m","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.614294-08:00","created_by":"ryan"}]}
{"id":"reaper-674","title":"Add semantic contract tests for agent structural invariants","description":"Current contract tests verify structural shape (frontmatter, no EJS residue) but never assert that generated agents contain required sections per category. Add data-driven tests keyed off AGENT_TYPES from build.js: coding agents must contain TDD protocol and git prohibitions, review agents must contain quality gate protocol, gate-capable agents must contain JSON output schema, planning agents must contain scope boundaries. Structural invariant presence only ‚Äî no prose content matching.\n\n[Auto-added by verification]\nWork type: test_code\nAssigned files: scripts/contracts.test.js\nFile ownership: exclusive\nEstimated LOC: ~150","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T15:04:49.133951-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.526902-08:00","closed_at":"2026-02-06T15:46:58.526902-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-674","depends_on_id":"reaper-8ex","type":"blocks","created_at":"2026-02-06T15:04:56.08892-08:00","created_by":"ryan"}]}
{"id":"reaper-69f","title":"Add over-length enforcement and blockquote-for-expert rule","description":"## Objective\nAdd symmetric enforcement for expert over-length output (matching existing under-length handling). Add blockquote-only rule for expert voice to Moderator Voice section.\n\n## TDD Approach\n1. RED: Write failing test for over-length and blockquote rules\n2. GREEN: Implement template changes\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Over-length handling instruction added (note + compress + present)\n- [ ] Max 2 retries for over-length, matching under-length pattern\n- [ ] Blockquote-only rule for expert voice in Moderator Voice\n- [ ] Plain markdown rule for facilitator voice documented\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Moderator Voice + facilitator presentation logic\nEstimated Location: Lines 50-150 (voice directives), Lines 350-450 (presentation logic)\n\n## Cross-References\n- Related: reaper-7vb (also modifies subagent prompt section)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:08.737689-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.189963-08:00","closed_at":"2026-02-06T16:42:30.189963-08:00","close_reason":"Closed"}
{"id":"reaper-6bc3","title":"Remove validation-runner agent","description":"Remove the validation-runner agent from the Reaper codebase. It was recently added but is not useful. This involves deleting agent files, updating the build system, quality gate protocol, and all documentation.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-11T20:28:32.821917-08:00","created_by":"ryan","updated_at":"2026-02-11T20:55:13.905522-08:00","closed_at":"2026-02-11T20:55:13.905522-08:00","close_reason":"Closed"}
{"id":"reaper-6bc3.1","title":"Remove agent files and update build registry","description":"## Objective\nDelete the validation-runner source template and generated file. Remove it from the build system's AGENT_TYPES registry and update corresponding test cases.\n\n## Cross-references\n- Related: reaper-6bc3.3 (updates docs/build-system.md to reflect build.js changes made here)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Update tests first ‚Äî remove validation-runner from reviewAgents array and delete the getAgentType test case\n2. GREEN: Remove validation-runner from AGENT_TYPES.review in build.js, delete source and generated files\n3. BLUE: Verify all remaining tests pass\n\n## Acceptance Criteria\n- [ ] src/agents/validation-runner.ejs deleted\n- [ ] agents/validation-runner.md deleted\n- [ ] scripts/build.js AGENT_TYPES.review no longer includes validation-runner\n- [ ] scripts/build.test.js reviewAgents array updated; getAgentType test removed\n- [ ] All tests pass\n\n## Scope\nFiles: src/agents/validation-runner.ejs, agents/validation-runner.md, scripts/build.js, scripts/build.test.js\n\n[Auto-added by verification] Added cross-reference to reaper-6bc3.3.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:28:44.337155-08:00","created_by":"ryan","updated_at":"2026-02-11T20:55:13.88183-08:00","closed_at":"2026-02-11T20:55:13.88183-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6bc3.1","depends_on_id":"reaper-6bc3","type":"parent-child","created_at":"2026-02-11T20:28:44.35539-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.1","depends_on_id":"reaper-6bc3.3","type":"relates-to","created_at":"2026-02-11T20:30:57.068486-08:00","created_by":"ryan"}]}
{"id":"reaper-6bc3.2","title":"Update quality gate protocol and code-reviewer","description":"## Objective\nRemove validation-runner from gate profile tables in the quality-gate-protocol partial. Change affected work types to skip Gate 1. Update code-reviewer to remove validation-runner output reference.\n\n## Cross-references\n- Related: reaper-6bc3.3 (updates docs/quality-gates.md to reflect quality-gate-protocol changes made here)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current template compiles, note validation-runner references\n2. GREEN: Remove validation-runner from gate profiles, max cycles, mixed-changeset prose, and code-reviewer reference\n3. BLUE: Verify templates compile cleanly\n\n## Acceptance Criteria\n- [ ] src/partials/quality-gate-protocol.ejs gate profiles updated ‚Äî infrastructure_config, database_migration, api_specification, ci_cd_pipeline, configuration show -- for Gate 1\n- [ ] validation-runner row removed from max cycles table\n- [ ] Mixed-changeset example prose updated (remove \"validation-runner\" from Gate 1 union example)\n- [ ] src/agents/code-reviewer.ejs no longer references validation-runner\n- [ ] Template syntax valid (EJS compiles without errors)\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs, src/agents/code-reviewer.ejs\n\n[Auto-added by verification] Added cross-reference to reaper-6bc3.3. Added AC for mixed-changeset prose update.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:28:47.756882-08:00","created_by":"ryan","updated_at":"2026-02-11T20:55:13.897492-08:00","closed_at":"2026-02-11T20:55:13.897492-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6bc3.2","depends_on_id":"reaper-6bc3","type":"parent-child","created_at":"2026-02-11T20:28:47.768943-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.2","depends_on_id":"reaper-6bc3.3","type":"relates-to","created_at":"2026-02-11T20:30:57.540131-08:00","created_by":"ryan"}]}
{"id":"reaper-6bc3.3","title":"Update all documentation","description":"## Objective\nRemove validation-runner from all documentation files. Update agent counts, gate profile tables, and agent category listings.\n\n## Cross-references\n- Related: reaper-6bc3.1 (changes scripts/build.js ‚Äî this issue updates docs/build-system.md to match)\n- Related: reaper-6bc3.2 (changes quality-gate-protocol partial ‚Äî this issue updates docs/quality-gates.md to match)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify all documentation references (CLAUDE.md, docs/agents.md, docs/quality-gates.md, docs/build-system.md, docs/commands.md)\n2. GREEN: Remove validation-runner entries, update counts and tables\n3. BLUE: Verify consistency across all docs\n\n## Acceptance Criteria\n- [ ] CLAUDE.md Quality category no longer lists validation-runner\n- [ ] docs/agents.md validation-runner row removed, Quality agent count decremented (5 ‚Üí 4)\n- [ ] docs/agents.md prose reference removed (\"Infrastructure validation routes to validation-runner\")\n- [ ] docs/quality-gates.md gate profiles and max cycles updated; mixed-changeset prose updated\n- [ ] docs/build-system.md AGENT_TYPES review array updated\n- [ ] docs/commands.md gate profile table updated\n\n## Scope\nFiles: CLAUDE.md, docs/agents.md, docs/quality-gates.md, docs/build-system.md, docs/commands.md\n\n[Auto-added by verification] Added cross-references to reaper-6bc3.1 and reaper-6bc3.2. Added missing AC for docs/agents.md prose reference and mixed-changeset prose in docs/quality-gates.md. Specified agent count change (5 ‚Üí 4).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:28:50.682552-08:00","created_by":"ryan","updated_at":"2026-02-11T20:55:13.900664-08:00","closed_at":"2026-02-11T20:55:13.900664-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6bc3.3","depends_on_id":"reaper-6bc3","type":"parent-child","created_at":"2026-02-11T20:28:50.694577-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.3","depends_on_id":"reaper-6bc3.1","type":"relates-to","created_at":"2026-02-11T20:30:57.071678-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.3","depends_on_id":"reaper-6bc3.2","type":"relates-to","created_at":"2026-02-11T20:30:57.545433-08:00","created_by":"ryan"}]}
{"id":"reaper-6bc3.4","title":"Build, regenerate, and verify","description":"## Objective\nRun the build to regenerate all output files from updated templates. Verify no references to validation-runner remain in the codebase. Run the full test suite to confirm nothing is broken.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run grep to confirm validation-runner references still exist in generated files\n2. GREEN: Run npm run build to regenerate, verify references are gone\n3. BLUE: Run full test suite, verify coverage thresholds\n\n## Acceptance Criteria\n- [ ] npm run build succeeds\n- [ ] grep -r \"validation-runner\" returns only CHANGELOG.md (historical) and plan files\n- [ ] Full test suite passes\n- [ ] Coverage thresholds met\n\n## Scope\nFiles: None (verification only)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T20:28:53.456941-08:00","created_by":"ryan","updated_at":"2026-02-11T20:55:13.902947-08:00","closed_at":"2026-02-11T20:55:13.902947-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6bc3.4","depends_on_id":"reaper-6bc3","type":"parent-child","created_at":"2026-02-11T20:28:53.469398-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.4","depends_on_id":"reaper-6bc3.1","type":"blocks","created_at":"2026-02-11T20:28:57.756083-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.4","depends_on_id":"reaper-6bc3.2","type":"blocks","created_at":"2026-02-11T20:28:57.845395-08:00","created_by":"ryan"},{"issue_id":"reaper-6bc3.4","depends_on_id":"reaper-6bc3.3","type":"blocks","created_at":"2026-02-11T20:28:57.929018-08:00","created_by":"ryan"}]}
{"id":"reaper-6gr","title":"Slim down agent JSON output to essential fields","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T15:34:05.072967-08:00","created_by":"ryan","updated_at":"2026-01-12T15:35:25.783103-08:00","closed_at":"2026-01-12T15:35:25.783103-08:00","close_reason":"Completed - slimmed agent JSON output by ~80%"}
{"id":"reaper-6m0","title":"Add panel-selection-keywords.test.js to CI workflow","description":"The CI workflow (.github/workflows/test.yml) explicitly lists 3 test files but misses panel-selection-keywords.test.js. While the glob in npm run test:coverage catches it, an explicit listing ensures it won't silently disappear if renamed. Fix: add to the unit test step in test.yml.\n\n[Auto-added by verification]\nWork type: ci_cd_pipeline\nAssigned files: .github/workflows/test.yml\nFile ownership: exclusive\nEstimated LOC: ~5","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T15:04:46.35449-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.515361-08:00","closed_at":"2026-02-06T15:46:58.515361-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6m0","depends_on_id":"reaper-8ex","type":"blocks","created_at":"2026-02-06T15:04:55.945-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b","title":"Refactor workflow-planner to process-in-skills architecture","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-20T17:36:27.637825-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.98814-08:00","closed_at":"2026-02-20T18:21:50.98814-08:00","close_reason":"Closed"}
{"id":"reaper-6u0b.1","title":"Create workflow-planner-planning skill","description":"## Objective\nExtract the planning mode process from workflow-planner into a standalone skill that prescribes its own executor.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests asserting the skill exists with valid frontmatter (name, description, context: fork, agent: reaper:workflow-planner) and contains required sections (grounding, input validation, strategy selection, decomposition, JSON output schema)\n2. GREEN: Create src/skills/workflow-planner-planning/SKILL.ejs with all planning process content extracted from the current agent\n3. BLUE: Verify build output and that extracted content is coherent and complete\n\n## Content to extract from src/agents/workflow-planner.ejs\n- Grounding instruction (lines 26-35)\n- Pre-work validation + input validation + exit protocol (lines 68-95)\n- Strategy selection framework: scoring rubric, decision table, overrides (single-document, content, dirty-root), escalation protocol (lines 96-214)\n- Strategy workflows 1/2/3 + agent selection table (lines 140-195)\n- Work package size constraints + decomposition rules (lines 217-232)\n- Issue hierarchy + dependency type planning impact + work type classification (lines 234-258)\n- File assignment protocol + parallel safety (lines 259-272)\n- Anti-patterns (lines 274-285)\n- JSON planning report schema (lines 287-308)\n- Cross-domain specialist routing (lines 59-66)\n\n## Frontmatter requirements\n- name: workflow-planner-planning\n- description: Planning process skill for workflow-planner. Handles grounding, input validation, strategy selection, and work package decomposition. Always executes within reaper:workflow-planner.\n- context: fork\n- agent: reaper:workflow-planner\n- allowed-tools: Read, Glob, Grep, WebFetch, WebSearch, Bash(bd show:*), Bash(bd dep tree:*), Bash(bd dep:*), Bash(bd list:*), Bash(bd update:*), Bash(bd create:*), Bash(bd close:*), Bash(acli jira workitem view:*), Bash(acli jira workitem search:*), Bash(acli jira workitem update:*), Bash(gh issue:*), Bash(gh project:*), Bash(gh api:*)\n\n## Acceptance Criteria\n- [ ] src/skills/workflow-planner-planning/SKILL.ejs exists with correct frontmatter\n- [ ] Skill contains all planning process content (all sections listed above)\n- [ ] context: fork and agent: reaper:workflow-planner are set in frontmatter\n- [ ] Contract tests pass for new skill\n- [ ] npm run build succeeds and generates skills/workflow-planner-planning/SKILL.md\n\n## Scope\nFiles: src/skills/workflow-planner-planning/SKILL.ejs, scripts/contracts.test.js\n\nDepends on (1):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n\nBlocks (1):\n  ‚Üê reaper-6u0b.4: Refactor workflow-planner agent to general knowledge only [P2 - open]\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-reference: shares scripts/contracts.test.js with reaper-6u0b.2 (parallel). Coordinate test additions to avoid merge conflicts ‚Äî each issue should add tests in clearly separated describe blocks.\nParallel group: 1 (runs concurrently with reaper-6u0b.2 and reaper-6u0b.3)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:36:44.908125-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.967024-08:00","closed_at":"2026-02-20T18:21:50.967024-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.1","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:36:44.916425-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b.2","title":"Create workflow-planner-verification skill","description":"## Objective\nExtract the verification mode process from workflow-planner into a standalone skill that prescribes its own executor.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests asserting the skill exists with valid frontmatter (name, description, context: fork, agent: reaper:workflow-planner) and contains required sections (verification workflow steps, 4-criterion table, auto-fix protocol, JSON output schema)\n2. GREEN: Create src/skills/workflow-planner-verification/SKILL.ejs with all verification process content extracted from the current agent\n3. BLUE: Verify build output and that extracted content is coherent and complete\n\n## Content to extract from src/agents/workflow-planner.ejs\n- Verification mode section header and MODE: VERIFICATION trigger (lines 349-352)\n- Step 1: Query Issue Hierarchy (lines 355-358)\n- Step 2: Evaluate Each Issue Against 4 Criteria ‚Äî the full criterion table with Pass/Fail/Auto-Fix columns (lines 360-368)\n- Red flags for inappropriate blockers (line 370)\n- Step 3: Auto-Fix protocol (lines 372-374)\n- Step 4: Re-verify + max 2 iterations (line 376)\n- Verification JSON output schema (lines 378-397)\n- Verification vs Planning comparison table (lines 399-406)\n\n## Frontmatter requirements\n- name: workflow-planner-verification\n- description: Verification process skill for workflow-planner. Reviews existing issues against orchestratability criteria and auto-fixes problems. Always executes within reaper:workflow-planner.\n- context: fork\n- agent: reaper:workflow-planner\n- allowed-tools: Read, Glob, Grep, Bash(bd show:*), Bash(bd dep tree:*), Bash(bd dep:*), Bash(bd list:*), Bash(bd update:*), Bash(acli jira workitem view:*), Bash(acli jira workitem search:*), Bash(acli jira workitem update:*), Bash(gh issue:*), Bash(gh project:*), Bash(gh api:*)\n\n## Acceptance Criteria\n- [ ] src/skills/workflow-planner-verification/SKILL.ejs exists with correct frontmatter\n- [ ] Skill contains all verification process content (all sections listed above)\n- [ ] context: fork and agent: reaper:workflow-planner are set in frontmatter\n- [ ] Contract tests pass for new skill\n- [ ] npm run build succeeds and generates skills/workflow-planner-verification/SKILL.md\n\n## Scope\nFiles: src/skills/workflow-planner-verification/SKILL.ejs, scripts/contracts.test.js\n\nDepends on (1):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n\nBlocks (1):\n  ‚Üê reaper-6u0b.4: Refactor workflow-planner agent to general knowledge only [P2 - open]\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-reference: shares scripts/contracts.test.js with reaper-6u0b.1 (parallel). Coordinate test additions to avoid merge conflicts ‚Äî each issue should add tests in clearly separated describe blocks.\nParallel group: 1 (runs concurrently with reaper-6u0b.1 and reaper-6u0b.3)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:36:55.270152-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.971427-08:00","closed_at":"2026-02-20T18:21:50.971427-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.2","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:36:55.278178-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b.3","title":"Write ADR-0015: workflow-planner process extraction and executor-prescribing skills","description":"## Objective\nDocument two related architectural decisions in a single ADR: (1) extending the process-in-skills principle to execution utilities, reversing the ADR-0002 exclusion for workflow-planner; (2) establishing the context: fork + agent frontmatter pattern as the standard mechanism for skills that prescribe their own executor.\n\n## Content to cover\n\n### Decision 1: Extend process-in-skills to workflow-planner\n- Context: ADR-0002 excluded execution utilities (workflow-planner, branch-manager, test-runner, etc.) on the grounds that execution is their function. workflow-planner has since grown to the point where its processes are distinct enough to stand alone and impose unnecessary token overhead on invocations that only need one mode.\n- Decision: workflow-planner is refactored to general knowledge only. Its two modes (planning, verification) are extracted to skills.\n- Why the exclusion is reversed: the agent has two independent, mode-specific processes that are never needed simultaneously. Keeping them inline imposes full context load on every invocation regardless of which mode is actually used.\n- Consequences: workflow-planner becomes lean and stable; process evolution happens in skills independently.\n\n### Decision 2: Executor-prescribing skills via context: fork + agent frontmatter\n- Context: Claude Code's context: fork + agent frontmatter fields allow a skill to specify which agent executes it. This is new capability not available when ADR-0002 was written.\n- Decision: Skills that are designed to run exclusively within a specific agent MUST declare context: fork and agent: \u003cagent-name\u003e in their frontmatter. This is the standard pattern for executor-prescribing skills.\n- Alternatives rejected: documenting in description only (not enforced), writing agent-locking hooks (complex, brittle).\n- Consequences: Skills self-describe their intended execution environment; invoking commands do not need to know which agent to deploy ‚Äî they invoke the skill and the runtime handles agent selection.\n\n## Acceptance Criteria\n- [ ] docs/adr/0015-workflow-planner-process-extraction.md exists\n- [ ] ADR covers both decisions with Context/Decision/Consequences/Alternatives sections\n- [ ] ADR references ADR-0002 as related decision\n- [ ] ADR is appropriately dated and marked Accepted\n\n## Scope\nFiles: docs/adr/0015-workflow-planner-process-extraction.md\n\nDepends on (1):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n\n[Auto-added by verification]\nwork_type: documentation\nParallel group: 1 (runs concurrently with reaper-6u0b.1 and reaper-6u0b.2, no file overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:37:11.832497-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.974188-08:00","closed_at":"2026-02-20T18:21:50.974188-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.3","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:37:11.838973-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b.4","title":"Refactor workflow-planner agent to general knowledge only","description":"## Objective\nStrip all process content from src/agents/workflow-planner.ejs, leaving only general knowledge that applies across both modes. Add skill self-loading instructions so the agent knows to load the appropriate skill based on invocation context.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests asserting the refactored agent does NOT contain process-specific sections (scoring rubric, decision table, override rules, verification criteria table, anti-patterns list, JSON schemas) and DOES contain the general knowledge sections and skill self-loading instructions\n2. GREEN: Edit src/agents/workflow-planner.ejs to remove all process content, retaining only what was identified as general knowledge in the analysis\n3. BLUE: Run full test suite, verify build, confirm agent is substantially smaller\n\n## Content to KEEP in src/agents/workflow-planner.ejs\n- Core principles (Single-Review, Small Work Packages, Conservative Estimates, Architecture-First) ‚Äî lines 20-25\n- Scope boundaries (what this agent owns vs. specialists and other tools) ‚Äî lines 37-57\n- Work type taxonomy (the 9 work_type values) ‚Äî referenced throughout\n- Quality gate protocol partial include ‚Äî line 138\n- Panel selection keywords ‚Äî lines 410-412\n- Completion protocol ‚Äî lines 414-434\n- Agent identity and role statement ‚Äî lines 9-11\n\n## Content to REMOVE (already extracted to skills)\n- Everything identified as process-specific in the earlier analysis (grounding, input validation, strategy selection, decomposition, verification mode)\n- Cross-domain specialist routing (moves to planning skill)\n\n## Content to ADD\n- Skill self-loading instructions: when invoked with MODE: VERIFICATION, self-load the reaper:workflow-planner-verification skill; otherwise self-load the reaper:workflow-planner-planning skill\n- Brief description of each skill's purpose so the agent can route correctly\n\n## Acceptance Criteria\n- [ ] src/agents/workflow-planner.ejs is substantially shorter (target: under 100 lines from current ~437)\n- [ ] Agent retains all general knowledge sections\n- [ ] Agent contains skill self-loading routing instructions\n- [ ] All process-specific sections are absent from the agent\n- [ ] npm run build succeeds\n- [ ] Contract tests pass\n\n## Scope\nFiles: src/agents/workflow-planner.ejs\n\nDepends on (3):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n  ‚Üí reaper-6u0b.1: Create workflow-planner-planning skill [P2]\n  ‚Üí reaper-6u0b.2: Create workflow-planner-verification skill [P2]\n\nBlocks (2):\n  ‚Üê reaper-6u0b.5: Update takeoff.ejs to invoke workflow-planner-planning skill [P2 - open]\n  ‚Üê reaper-6u0b.6: Update flight-plan.ejs to invoke workflow-planner-verification skill [P2 - open]\n\n[Auto-added by verification]\nwork_type: agent_prompt\nParallel group: 2 (sequential ‚Äî blocked by reaper-6u0b.1 and reaper-6u0b.2)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:37:27.894959-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.977403-08:00","closed_at":"2026-02-20T18:21:50.977403-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.4","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:37:27.901272-08:00","created_by":"ryan"},{"issue_id":"reaper-6u0b.4","depends_on_id":"reaper-6u0b.1","type":"blocks","created_at":"2026-02-20T17:37:50.824473-08:00","created_by":"ryan"},{"issue_id":"reaper-6u0b.4","depends_on_id":"reaper-6u0b.2","type":"blocks","created_at":"2026-02-20T17:37:50.902648-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b.5","title":"Update takeoff.ejs to invoke workflow-planner-planning skill","description":"## Objective\nReplace the current Task subagent invocation of reaper:workflow-planner in takeoff.ejs with a Skill invocation of reaper:workflow-planner-planning. The skill's context: fork + agent frontmatter handles agent selection automatically.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Update contract tests to assert that takeoff.ejs references the workflow-planner-planning skill rather than deploying reaper:workflow-planner directly as a Task subagent\n2. GREEN: Edit src/commands/takeoff.ejs ‚Äî replace the three workflow-planner Task invocation patterns with Skill invocations of reaper:workflow-planner-planning, passing all necessary context (task ID, implementation context, plan file research) as skill arguments via $ARGUMENTS\n3. BLUE: Run full test suite and verify contract tests pass\n\n## Current invocations to replace in takeoff.ejs\n1. Primary planning invocation (line ~114): deploys workflow-planner when no plan file exists\n2. Redeploy on oversized packages (line ~126): redeploys workflow-planner to split oversized work units\nBoth should become Skill invocations with context passed as arguments.\n\n## Acceptance Criteria\n- [ ] src/commands/takeoff.ejs contains no Task invocations of reaper:workflow-planner\n- [ ] takeoff.ejs invokes reaper:workflow-planner-planning skill with appropriate context arguments\n- [ ] Contract tests updated and passing\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/takeoff.ejs, scripts/contracts.test.js\n\nDepends on (2):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n  ‚Üí reaper-6u0b.4: Refactor workflow-planner agent to general knowledge only [P2]\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-reference: shares scripts/contracts.test.js with reaper-6u0b.6 (parallel). Coordinate test updates to avoid merge conflicts ‚Äî each issue should modify tests in clearly separated describe blocks.\nParallel group: 3 (runs concurrently with reaper-6u0b.6, blocked by reaper-6u0b.4)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:37:38.828618-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.979526-08:00","closed_at":"2026-02-20T18:21:50.979526-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.5","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:37:38.834732-08:00","created_by":"ryan"},{"issue_id":"reaper-6u0b.5","depends_on_id":"reaper-6u0b.4","type":"blocks","created_at":"2026-02-20T17:37:50.971574-08:00","created_by":"ryan"}]}
{"id":"reaper-6u0b.6","title":"Update flight-plan.ejs to invoke workflow-planner-verification skill","description":"## Objective\nReplace the Phase 6 Task subagent invocation of reaper:workflow-planner in flight-plan.ejs with a Skill invocation of reaper:workflow-planner-verification. The skill's context: fork + agent frontmatter handles agent selection automatically.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Update contract tests to assert that flight-plan.ejs Phase 6 references the workflow-planner-verification skill rather than deploying reaper:workflow-planner directly as a Task subagent\n2. GREEN: Edit src/commands/flight-plan.ejs Phase 6 ‚Äî replace the Task invocation of reaper:workflow-planner with a Skill invocation of reaper:workflow-planner-verification, passing PARENT_ISSUE_ID, TASK_SYSTEM, and CREATED_ISSUES as arguments\n3. BLUE: Run full test suite and verify contract tests pass\n\n## Current invocation to replace in flight-plan.ejs\nPhase 6 (line ~358): Task --subagent_type reaper:workflow-planner with MODE: VERIFICATION prompt\nThis becomes a Skill invocation of reaper:workflow-planner-verification with equivalent context as arguments.\n\n## Note on flight-plan behavioral contract\nflight-plan.ejs task #3 currently reads 'Launch reaper:workflow-planner subagent to verify issues' ‚Äî update this description to 'Run workflow-planner-verification skill to verify issues' to match the new invocation pattern.\n\n## Acceptance Criteria\n- [ ] src/commands/flight-plan.ejs Phase 6 contains no Task invocation of reaper:workflow-planner\n- [ ] flight-plan.ejs invokes reaper:workflow-planner-verification skill with PARENT_ISSUE_ID, TASK_SYSTEM, CREATED_ISSUES as arguments\n- [ ] Contract tests updated and passing\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/flight-plan.ejs, scripts/contracts.test.js\n\nDepends on (2):\n  ‚Üí reaper-6u0b: Refactor workflow-planner to process-in-skills architecture [P2]\n  ‚Üí reaper-6u0b.4: Refactor workflow-planner agent to general knowledge only [P2]\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-reference: shares scripts/contracts.test.js with reaper-6u0b.5 (parallel). Coordinate test updates to avoid merge conflicts ‚Äî each issue should modify tests in clearly separated describe blocks.\nParallel group: 3 (runs concurrently with reaper-6u0b.5, blocked by reaper-6u0b.4)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T17:37:46.818586-08:00","created_by":"ryan","updated_at":"2026-02-20T18:21:50.981588-08:00","closed_at":"2026-02-20T18:21:50.981588-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6u0b.6","depends_on_id":"reaper-6u0b","type":"parent-child","created_at":"2026-02-20T17:37:46.82501-08:00","created_by":"ryan"},{"issue_id":"reaper-6u0b.6","depends_on_id":"reaper-6u0b.4","type":"blocks","created_at":"2026-02-20T17:37:51.046339-08:00","created_by":"ryan"}]}
{"id":"reaper-6wbg","title":"Mission Banner: Reaper visual identity at session start","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T19:41:26.46746-08:00","created_by":"ryan","updated_at":"2026-02-19T20:06:04.392884-08:00","closed_at":"2026-02-19T20:06:04.392884-08:00","close_reason":"Closed"}
{"id":"reaper-6wbg.1","title":"Create mission-header partial","description":"Create src/partials/mission-header.ejs ‚Äî a new EJS partial that renders a branded REAPER header at the very start of a command session.\n\n## Objective\nCreate a reusable partial that commands include to render a branded session header as their first user-visible output, before any information gathering or tool calls.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting the partial file exists and is valid EJS\n2. GREEN: Create the partial with minimal content\n3. BLUE: Refine banner design to match Reaper design language\n\n## Design\nThe banner (no gauge ‚Äî gauge states are reserved for work-lifecycle signals):\n```\n  REAPER // TAKEOFF\n  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n  scanning mission parameters\n```\n\n## Acceptance Criteria\n- [ ] File created at src/partials/mission-header.ejs\n- [ ] Accepts EJS parameters: command (uppercase string), subtitle (short status string)\n- [ ] Includes opt-out instruction: if CLAUDE.md contains 'Reaper: disable ASCII art', skip entirely\n- [ ] Includes 'Render immediately as the first user-visible output' directive\n- [ ] No gauge bar (TAXIING/etc.) ‚Äî pure branding header only\n- [ ] Banner rules: render once, do not re-render during session\n- [ ] npm run build succeeds after creation\n\n## Scope\nFiles: src/partials/mission-header.ejs (new)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:41:39.161876-08:00","created_by":"ryan","updated_at":"2026-02-19T19:48:20.928673-08:00","closed_at":"2026-02-19T19:48:20.928673-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6wbg.1","depends_on_id":"reaper-6wbg","type":"parent-child","created_at":"2026-02-19T19:41:39.162853-08:00","created_by":"ryan"}]}
{"id":"reaper-6wbg.2","title":"Add mission banner to takeoff command","description":"Update src/commands/takeoff.ejs to render the Mission Banner as the very first user-visible output.\n\n## Objective\nInclude the mission-header partial at the top of takeoff.ejs (before user-comms-contract) so the REAPER brand header appears immediately when the command is invoked, before any information gathering.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting commands/takeoff.md contains 'REAPER // TAKEOFF'\n2. GREEN: Add the include at the top of takeoff.ejs and run build\n3. BLUE: Verify placement is correct and generates expected output\n\n## Acceptance Criteria\n- [ ] mission-header include added before user-comms-contract in takeoff.ejs\n- [ ] command='TAKEOFF', subtitle='scanning mission parameters'\n- [ ] Generated commands/takeoff.md contains 'REAPER // TAKEOFF' near the top\n- [ ] npm run build succeeds\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/takeoff.ejs (edit, 2 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:41:46.355105-08:00","created_by":"ryan","updated_at":"2026-02-19T19:55:51.727973-08:00","closed_at":"2026-02-19T19:55:51.727973-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6wbg.2","depends_on_id":"reaper-6wbg","type":"parent-child","created_at":"2026-02-19T19:41:46.406236-08:00","created_by":"ryan"},{"issue_id":"reaper-6wbg.2","depends_on_id":"reaper-6wbg.1","type":"blocks","created_at":"2026-02-19T19:42:02.276136-08:00","created_by":"ryan"}]}
{"id":"reaper-6wbg.3","title":"Add mission banner to flight-plan command","description":"Update src/commands/flight-plan.ejs to render the Mission Banner as the very first user-visible output.\n\n## Objective\nInclude the mission-header partial at the top of flight-plan.ejs (before user-comms-contract) so the REAPER brand header appears immediately when the command is invoked, before any information gathering.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting commands/flight-plan.md contains 'REAPER // FLIGHT PLAN'\n2. GREEN: Add the include at the top of flight-plan.ejs and run build\n3. BLUE: Verify placement and subtitle are appropriate\n\n## Acceptance Criteria\n- [ ] mission-header include added before user-comms-contract in flight-plan.ejs\n- [ ] command='FLIGHT PLAN', subtitle='analyzing mission scope'\n- [ ] Generated commands/flight-plan.md contains 'REAPER // FLIGHT PLAN' near the top\n- [ ] npm run build succeeds\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/flight-plan.ejs (edit, 2 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:41:51.748701-08:00","created_by":"ryan","updated_at":"2026-02-19T19:55:51.732789-08:00","closed_at":"2026-02-19T19:55:51.732789-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6wbg.3","depends_on_id":"reaper-6wbg","type":"parent-child","created_at":"2026-02-19T19:41:51.754388-08:00","created_by":"ryan"},{"issue_id":"reaper-6wbg.3","depends_on_id":"reaper-6wbg.1","type":"blocks","created_at":"2026-02-19T19:42:02.353746-08:00","created_by":"ryan"}]}
{"id":"reaper-6wbg.4","title":"Add contract tests for mission banner","description":"Add contract tests to scripts/contracts.test.js verifying that the mission banner appears in generated command files.\n\n## Objective\nEnsure the mission banner is never accidentally dropped in future builds by adding contract-level assertions.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests asserting 'REAPER // TAKEOFF' and 'REAPER // FLIGHT PLAN' appear in generated files\n2. GREEN: Tests pass after previous issues are implemented\n3. BLUE: Verify test descriptions are clear and assertions are precise\n\n## Acceptance Criteria\n- [ ] Contract test added: takeoff.md contains 'REAPER // TAKEOFF'\n- [ ] Contract test added: flight-plan.md contains 'REAPER // FLIGHT PLAN'\n- [ ] Tests are grouped in a describe block: 'Contract: commands contain mission banner'\n- [ ] All 904+ existing tests still pass\n- [ ] New tests fail when banner is absent (negative verification)\n\n## Scope\nFiles: scripts/contracts.test.js (edit, ~15 LOC)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:41:58.805394-08:00","created_by":"ryan","updated_at":"2026-02-19T20:00:03.645461-08:00","closed_at":"2026-02-19T20:00:03.645461-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-6wbg.4","depends_on_id":"reaper-6wbg","type":"parent-child","created_at":"2026-02-19T19:41:58.810645-08:00","created_by":"ryan"},{"issue_id":"reaper-6wbg.4","depends_on_id":"reaper-6wbg.2","type":"blocks","created_at":"2026-02-19T19:42:02.422342-08:00","created_by":"ryan"},{"issue_id":"reaper-6wbg.4","depends_on_id":"reaper-6wbg.3","type":"blocks","created_at":"2026-02-19T19:42:02.488368-08:00","created_by":"ryan"}]}
{"id":"reaper-710m","title":"File missing ADRs for core architectural decisions","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T16:59:08.021518-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.281399-08:00","closed_at":"2026-02-18T17:20:47.281399-08:00","close_reason":"Closed"}
{"id":"reaper-710m.1","title":"ADR-0005: EJS Template Build System","description":"Write docs/adr/0005-ejs-template-build-system.md documenting the decision to author all agents, commands, skills, and hooks as EJS templates compiled to project root markdown/JSON.\n\n## Objective\nDocument the architectural decision to use EJS templates with a build step, covering: EJS as template engine, src/ as source of truth, partials for shared sections, build-to-root convention, pre-commit hook enforcement.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context covers the problem: static markdown would require duplication for shared content\n- [ ] Decision documents: EJS template engine, src/ as source of truth, partials for DRY, build-to-root, pre-commit enforcement\n- [ ] Alternatives considered: static markdown files, YAML config, handlebars, no build step\n- [ ] Consequences cover: pre-commit overhead, 'never edit generated files' discipline, contract tests\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0005-ejs-template-build-system.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T16:59:17.689053-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.206562-08:00","closed_at":"2026-02-18T17:20:47.206562-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.1","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T16:59:17.723416-08:00","created_by":"ryan"}]}
{"id":"reaper-710m.2","title":"ADR-0006: Output Boundary","description":"Write docs/adr/0006-output-boundary.md documenting the decision to explicitly separate Reaper's internal design values from content generated for target projects.\n\n## Objective\nDocument the three-tier voice model and the constraint that Reaper's Five Keys, themed language, and conventions must not appear in generated agent prompts, commands, or skills operating on target codebases.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context explains the risk: a plugin imposing its philosophy on target codebases creates friction and reduces portability\n- [ ] Decision documents the three tiers: user-facing commands (voice allowed), agent prompts (clinical), target project output (general best practices)\n- [ ] Decision covers contract test enforcement (squadron must not contain 'Five Keys')\n- [ ] Alternatives considered: single voice model, explicit opt-in per command, no constraint\n- [ ] Consequences cover: Five Keys remain internal, generated content follows industry conventions, third-party portability\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0006-output-boundary.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T16:59:27.319654-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.246336-08:00","closed_at":"2026-02-18T17:20:47.246336-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.2","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T16:59:27.345751-08:00","created_by":"ryan"}]}
{"id":"reaper-710m.3","title":"ADR-0007: Quality Gate Pipeline Composition","description":"Write docs/adr/0007-quality-gate-pipeline.md documenting the 2-gate structure, work-type profiles, union semantics for mixed changesets, differential retry limits, and resume-based retry preference.\n\n## Objective\nDocument why quality gates are work-type-aware and structured as a blocking Gate 1 followed by a parallel Gate 2, covering the 9 work-type profiles, union semantics algorithm, and cost-reducing retry mechanisms.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context explains why a single generic gate is insufficient (different artifacts need different validators)\n- [ ] Decision documents: 2-gate structure, 9 work-type profiles, union semantics algorithm, differential retry limits\n- [ ] Decision covers resume-based retry (50-100 tokens vs ~3,000 for fresh deployment)\n- [ ] Alternatives considered: single gate, flat parallel execution, no work-type differentiation\n- [ ] Consequences cover: lower per-invocation cost, SME alignment, retry cost reduction\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0007-quality-gate-pipeline.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T16:59:35.739148-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.26106-08:00","closed_at":"2026-02-18T17:20:47.26106-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.3","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T16:59:35.760183-08:00","created_by":"ryan"}]}
{"id":"reaper-710m.4","title":"ADR-0008: Platform-Agnostic Task Operations","description":"Write docs/adr/0008-platform-agnostic-task-operations.md documenting the decision to abstract issue tracker operations behind a 7-operation API with commit-history-based detection and platform skill routing.\n\n## Objective\nDocument why Reaper uses an abstract operations layer (FETCH_ISSUE, CREATE_ISSUE, etc.) rather than hardcoded tracker commands, covering: detection algorithm, 4 platform skills, hierarchy via parent parameter, and planfile fallback.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context explains the problem: hardcoding bd commands would lock Reaper to Beads only\n- [ ] Decision documents: 7 abstract operations, detection algorithm (git log scan), 4 platform skills, hierarchy via parent parameter\n- [ ] Decision covers the planfile fallback for projects without a task system\n- [ ] Alternatives considered: hardcoded Beads commands, per-platform command branches, environment variable configuration\n- [ ] Consequences cover: portability, detection edge cases (mixed systems), markdown fallback degradation\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0008-platform-agnostic-task-operations.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T16:59:44.201021-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.266212-08:00","closed_at":"2026-02-18T17:20:47.266212-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.4","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T16:59:44.218408-08:00","created_by":"ryan"}]}
{"id":"reaper-710m.5","title":"ADR-0009: JSON Gate Output Contract","description":"Write docs/adr/0009-json-gate-output-contract.md documenting the decision that quality gate agents return structured JSON as their sole authoritative signal, with zero trust for coding agent prose.\n\n## Objective\nDocument why gate agents use structured JSON output and why the orchestrator treats all coding agent claims as unverified until gate JSON confirms ‚Äî covering the universal contract fields, red flags, and what orchestrators extract vs discard.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context explains the zero-trust problem: coding agents have an incentive to self-report success; prose is unverifiable\n- [ ] Decision documents: universal contract fields (all_checks_passed, blocking_issues, pre_work_validation), gate-specific fields, what orchestrators extract vs discard\n- [ ] Decision covers red flags (validation_passed=false, scope violations, 100% coverage on first attempt)\n- [ ] Alternatives considered: prose-based validation, shared test execution, trusted coding agent output\n- [ ] Consequences cover: consistent machine-readable signals, red flag detection, inability to fake structured JSON at scale\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0009-json-gate-output-contract.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T16:59:53.425464-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.270642-08:00","closed_at":"2026-02-18T17:20:47.270642-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.5","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T16:59:53.443875-08:00","created_by":"ryan"}]}
{"id":"reaper-710m.6","title":"ADR-0010: No Commits by Coding Agents","description":"Write docs/adr/0010-no-commits-by-coding-agents.md documenting the decision that coding agents (bug-fixer, feature-developer, refactoring-dev, integration-engineer) never commit ‚Äî commits are exclusively delegated to reaper:branch-manager after quality gates pass.\n\n## Objective\nDocument why coding agents are prohibited from git commit/merge, covering: separation of concerns, quality-first commit strategy, user authority over final merge, and the distinction between TDD test runs (development feedback) and test-runner results (authoritative signal).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Context explains the risk: premature commits before quality validation, loss of user authority over history\n- [ ] Decision documents: coding agents prohibited from git commit/merge, branch-manager as sole commit authority, TDD tests as development feedback only\n- [ ] Decision covers user-only merge authority for develop/main\n- [ ] Alternatives considered: coding agents commit on TDD green, all agents commit freely, commit-on-gate-pass by orchestrator\n- [ ] Consequences cover: clean commit history, quality gate sovereignty, extra round-trips vs correctness tradeoff\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: docs/adr/0010-no-commits-by-coding-agents.md (1 new file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T17:00:03.603366-08:00","created_by":"ryan","updated_at":"2026-02-18T17:20:47.275937-08:00","closed_at":"2026-02-18T17:20:47.275937-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-710m.6","depends_on_id":"reaper-710m","type":"parent-child","created_at":"2026-02-18T17:00:03.625495-08:00","created_by":"ryan"}]}
{"id":"reaper-772","title":"ASCII Art, Instrument Panel Gauge System \u0026 Aviation UX","description":"Implement density-bar gauge system (LANDED/IN FLIGHT/GROUNDED/FAULT), aviation-themed bookend cards, and per-user CLAUDE.md disable convention across 4 Reaper commands (takeoff, ship, status-worktrees, squadron). New visual-vocabulary.ejs partial as shared foundation. See squadron brief at .claude/plans/reaper-squadron-brief-ascii-art-ux.md and flight plan at .claude/plans/reaper-ascii-art-instrument-ux.md.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-06T18:14:49.939107-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.226717-08:00","closed_at":"2026-02-06T19:03:42.226717-08:00","close_reason":"Closed"}
{"id":"reaper-773y","title":"Optimize takeoff: reuse branch-manager session to reduce token overhead","description":"## Objective\n\nOptimize the takeoff orchestrator to reuse a single branch-manager agent session across all work units, instead of launching a fresh branch-manager agent for each commit operation. This reduces per-unit token overhead while maintaining full commit capability throughout the session.\n\n## Approach\n\nIntroduce session ID tracking in takeoff.ejs:\n1. Capture the branch-manager session ID at first deployment (worktree setup)\n2. Resume the same session for per-unit commits (step 7 of Per-Unit Cycle)\n3. Resume the same session for final merge operations\n4. Include fallback behavior if session ID is lost (context compaction)\n\n## Success Criteria\n\n- takeoff.ejs tracks and reuses branch-manager session ID\n- All existing contract tests pass without modification\n- Per-unit commit steps use 'resume the session' instead of fresh deployment\n- Final merge also uses the same session\n- Fallback is documented and implemented\n- Decomposed into child work units with clear acceptance criteria\n\n[Auto-added by verification]","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T20:12:58.168652-08:00","created_by":"ryan","updated_at":"2026-02-19T20:32:24.919821-08:00","closed_at":"2026-02-19T20:32:24.919821-08:00","close_reason":"Closed"}
{"id":"reaper-773y.1","title":"Add branch-manager session persistence to takeoff command","description":"## Objective\nModify src/commands/takeoff.ejs so that the takeoff orchestrator starts a single reaper:branch-manager Task agent at first use and resumes that same session for all subsequent git operations within the session, rather than launching a fresh agent for each work unit commit.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify existing contract tests pass; identify which assertions constrain branch-manager invocation language\n2. GREEN: Update src/commands/takeoff.ejs to introduce BRANCH_MANAGER_SESSION_ID tracking, change per-unit commit step to 'resume the branch-manager session', change final merge step likewise, add fallback for lost session ID\n3. BLUE: Run npm run build; verify git diff agents/ commands/ for side effects; run full test suite\n\n## Acceptance Criteria\n- [ ] takeoff.ejs establishes BRANCH_MANAGER_SESSION_ID at first branch-manager deployment (worktree setup)\n- [ ] Per-unit commit step (step 7) instructs orchestrator to resume the stored session rather than deploy a new agent\n- [ ] Final merge step (user approval) also resumes the stored session\n- [ ] Fallback documented: if session ID is lost (context compaction), start a fresh session and continue\n- [ ] All existing contract tests pass (branch-manager.*to commit, commit-only, gates-before-commit patterns preserved)\n- [ ] npm run build succeeds with no unintended side effects in other generated files\n- [ ] All tests pass\n\n## Work Type\n```\nwork_type: ci_cd_pipeline\nassigned_files:\n  - /Users/ryan/Developer/reaper/src/commands/takeoff.ejs\n  - /Users/ryan/Developer/reaper/commands/takeoff.md (generated)\n```\n\n## Scope\nFiles: src/commands/takeoff.ejs (primary), commands/takeoff.md (generated)\n\nDepends on (1):\n  ‚Üí reaper-773y: Optimize takeoff: reuse branch-manager session to reduce token overhead [P2]\n\n[Auto-added by verification: work_type classification]","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:13:09.896055-08:00","created_by":"ryan","updated_at":"2026-02-19T20:32:24.916794-08:00","closed_at":"2026-02-19T20:32:24.916794-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-773y.1","depends_on_id":"reaper-773y","type":"parent-child","created_at":"2026-02-19T20:13:09.897281-08:00","created_by":"ryan"}]}
{"id":"reaper-789","title":"test-runner: background task pattern with timeout polling for full suite runs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:44:34.798629-08:00","created_by":"ryan","updated_at":"2026-02-07T16:44:38.285582-08:00","closed_at":"2026-02-07T16:44:38.285582-08:00","close_reason":"Implemented background Bash + TaskOutput polling pattern to avoid double test runs, with 10-min hard timeout backstop"}
{"id":"reaper-7bm","title":"War Room Expert Panel Expansion","description":"Create 6 new planning-only agents and update war room auto-selection table. Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md. Plan: .claude/plans/reaper-expert-panel-agents.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-03T11:43:57.029683-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.663317-08:00","closed_at":"2026-02-04T12:42:07.663317-08:00","close_reason":"Closed"}
{"id":"reaper-7bm.1","title":"Create event-architect agent template","description":"## Objective\nCreate src/agents/event-architect.ejs ‚Äî Event-Driven Architecture planning agent.\n\n## Scope\nEvent contracts/schemas, message broker selection (Kafka/RabbitMQ/SQS), saga vs choreography patterns, CQRS design, event sourcing, eventual consistency strategies, dead letter queue design, event versioning, idempotency patterns.\n\n## Boundaries\n- vs api-designer: API designer owns synchronous request-response contracts. Event architect owns asynchronous event contracts and choreography.\n- vs integration-engineer: Integration engineer handles external service connections. Event architect handles internal event topology and patterns.\n- vs database-architect: Database architect owns persistence layer (event stores, projection tables). Event architect owns event modeling and flow design.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: event-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A (Role ‚Üí Responsibilities ‚Üí Capabilities ‚Üí Workflows ‚Üí Integration ‚Üí Quick Reference)\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks, no git operations\n- [ ] War room trigger keywords: event, message queue, kafka, rabbitmq, sqs, cqrs, saga, event sourcing, pub/sub, eventual consistency, async, streaming, notification, real-time\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:08.487842-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.625231-08:00","closed_at":"2026-02-04T12:42:07.625231-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.1","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:08.511277-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.10","title":"Build, verify, and commit all new agents","description":"## Objective\nRun npm run build, verify all 6 new agent .md files are generated, verify war room command updated, commit all changes.\n\n## Acceptance Criteria\n- [ ] npm run build succeeds without errors\n- [ ] 6 new files in agents/: event-architect.md, observability-architect.md, frontend-architect.md, data-engineer.md, test-strategist.md, compliance-architect.md\n- [ ] Updated commands/war-room.md contains 9 new auto-selection rows\n- [ ] 24 total agents in agents/ directory\n- [ ] All source and generated files committed\n\n## Blocked By\nAll other units in this epic must complete first.\n\n## Estimated Files\nAll generated files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:45:03.036133-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.659131-08:00","closed_at":"2026-02-04T12:42:07.659131-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:45:03.056175-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.1","type":"blocks","created_at":"2026-02-03T11:45:07.722787-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.2","type":"blocks","created_at":"2026-02-03T11:45:07.807474-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.3","type":"blocks","created_at":"2026-02-03T11:45:07.898003-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.4","type":"blocks","created_at":"2026-02-03T11:45:07.988549-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.5","type":"blocks","created_at":"2026-02-03T11:45:08.071836-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.6","type":"blocks","created_at":"2026-02-03T11:45:08.18516-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.7","type":"blocks","created_at":"2026-02-03T11:45:08.268135-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.8","type":"blocks","created_at":"2026-02-03T11:45:08.365733-08:00","created_by":"ryan"},{"issue_id":"reaper-7bm.10","depends_on_id":"reaper-7bm.9","type":"blocks","created_at":"2026-02-03T11:45:08.470095-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.2","title":"Create observability-architect agent template","description":"## Objective\nCreate src/agents/observability-architect.ejs ‚Äî Observability/SRE planning agent.\n\n## Scope\nMetrics/logs/traces architecture (three pillars), SLO/SLI/SLA definition, alerting strategy (symptom-based vs cause-based), observability platform selection (Datadog/Grafana/New Relic/OpenTelemetry), distributed tracing design, log aggregation, dashboard design, on-call strategy, runbook design, chaos engineering patterns.\n\n## Boundaries\n- vs performance-engineer: Performance engineer optimizes what exists (profiling, load testing). Observability architect ensures we can see and respond to what happens (instrumentation, monitoring, alerting).\n- vs incident-responder: Observability architect designs proactive instrumentation. Incident responder handles reactive diagnosis and remediation.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: observability-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: observability, monitoring, alerting, slo, sli, sla, metrics, logging, tracing, datadog, grafana, prometheus, opentelemetry, dashboards, on-call, runbook, chaos engineering, reliability\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:15.01882-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.637249-08:00","closed_at":"2026-02-04T12:42:07.637249-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.2","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:15.035036-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.3","title":"Create frontend-architect agent template","description":"## Objective\nCreate src/agents/frontend-architect.ejs ‚Äî Frontend/UI Architecture planning agent.\n\n## Scope\nComponent architecture, state management strategy (Redux/Zustand/TanStack Query/server components), rendering strategy (SSR/CSR/ISR/RSC), design system architecture, bundle optimization, micro-frontend patterns, framework selection (Next.js/Remix/Nuxt/SvelteKit), build tooling (Vite/Webpack/Turbopack), accessibility architecture (WCAG, ARIA, keyboard navigation, semantic HTML), Core Web Vitals, responsive design, PWA patterns.\n\n## Boundaries\n- vs api-designer: API designer owns canonical resource APIs. Frontend architect owns BFF aggregation layers and client-side data-fetching patterns.\n- vs performance-engineer: Performance engineer owns server-side optimization. Frontend architect owns client-side performance (bundle size, rendering, Core Web Vitals).\n- Includes accessibility (WCAG compliance as architectural constraint, not standalone agent).\n- Includes mobile-web/PWA. Native mobile (iOS/Android/Flutter) is out of scope.\n\n## Special Requirements\n- Include ecosystem-lag disclaimer directive in agent prompt to acknowledge uncertainty about very recent ecosystem changes.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: frontend-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] Accessibility folded in as architectural constraint section\n- [ ] Ecosystem-lag disclaimer included\n- [ ] No execution hooks\n- [ ] War room trigger keywords: frontend, ui, react, vue, angular, svelte, nextjs, remix, component, state management, ssr, csr, spa, design system, responsive, bundle, accessibility, a11y, wcag, core web vitals, pwa\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:24.358907-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.639795-08:00","closed_at":"2026-02-04T12:42:07.639795-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.3","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:24.385542-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.4","title":"Create data-engineer agent template","description":"## Objective\nCreate src/agents/data-engineer.ejs ‚Äî Data Engineering planning agent.\n\n## Scope\nETL/ELT pipeline design, data warehouse modeling (star/snowflake schemas, slowly changing dimensions), streaming vs batch architecture, pipeline orchestration (Airflow/Dagster/Prefect), data quality and validation frameworks, transformation tooling (dbt/Spark), data lake architecture, CDC patterns, analytics infrastructure, data lineage.\n\n## Boundaries\n- vs database-architect: Database architect owns OLTP schema design, indexing, replication, operational data stores. Data engineer owns OLAP schemas, pipeline orchestration, data lake organization, analytical transformations. Shared boundary at CDC/extraction layer ‚Äî both participate.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: data-engineer, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: etl, elt, pipeline, data warehouse, analytics, reporting, streaming, batch, airflow, dagster, dbt, spark, data lake, cdc, snowflake schema, star schema, olap, data quality, data lineage\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:30.664676-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.641847-08:00","closed_at":"2026-02-04T12:42:07.641847-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.4","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:30.681163-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.5","title":"Create test-strategist agent template","description":"## Objective\nCreate src/agents/test-strategist.ejs ‚Äî Testing Strategy/QA Architecture planning agent.\n\n## Scope\nTest pyramid design, contract testing (Pact), integration test boundaries, E2E strategy, chaos engineering, test data management, service virtualization, mutation testing, visual regression testing, performance test integration in CI/CD, flaky test triage strategy.\n\n## Boundaries\n- vs test-runner: Test-runner executes tests and validates coverage post-implementation. Test-strategist advises on what kinds of tests to write and how to structure test architecture during design.\n- vs code-reviewer: Code-reviewer assesses individual test quality (flaky patterns, over-mocking). Test-strategist designs the overall testing architecture and strategy.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: test-strategist, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] No execution hooks\n- [ ] War room trigger keywords: testing strategy, test pyramid, contract testing, integration testing, e2e, chaos engineering, test data, service virtualization, mutation testing, test architecture, qa architecture\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:36.315338-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.644274-08:00","closed_at":"2026-02-04T12:42:07.644274-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.5","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:36.334586-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.6","title":"Create compliance-architect agent template","description":"## Objective\nCreate src/agents/compliance-architect.ejs ‚Äî Compliance/Regulatory planning agent.\n\n## Scope\nGDPR, HIPAA, SOC2, PCI-DSS, FedRAMP architectural compliance, data residency constraints, consent management architecture, retention/deletion policies, audit trail design, right-to-erasure implementation patterns, cross-border data transfer rules, compliance evidence generation.\n\n## Boundaries\n- vs security-auditor: Security auditor identifies how to protect data (threat modeling, OWASP, vulnerability scanning). Compliance architect identifies which data must be protected, for whom, and under what legal framework.\n\n## Special Requirements\n- CRITICAL: Include PROMINENT DISCLAIMERS ‚Äî this agent provides architectural compliance awareness, NOT legal advice or compliance certification. Recommend human review for all compliance-critical decisions.\n\n## Acceptance Criteria\n- [ ] EJS template with YAML frontmatter (name: compliance-architect, description with examples, color: blue)\n- [ ] 400-500 lines following planning agent Pattern A\n- [ ] Explicit Scope and Not In Scope sections\n- [ ] Prominent legal disclaimers in multiple locations\n- [ ] No execution hooks\n- [ ] War room trigger keywords: gdpr, hipaa, pci, soc2, fedramp, compliance, regulatory, data residency, retention, consent, audit trail, data classification, right to erasure, cross-border\n\n## Reference\n- Pattern: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs\n- Design brief: .claude/plans/reaper-war-room-expert-panel-expansion.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:43.291999-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.646801-08:00","closed_at":"2026-02-04T12:42:07.646801-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.6","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:43.324633-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.7","title":"Update build system with new agent classifications","description":"## Objective\nAdd 6 new agents to AGENT_TYPES.planning array in scripts/build.js.\n\n## Changes\nAdd to the planning array (lines 37-54): event-architect, observability-architect, frontend-architect, data-engineer, test-strategist, compliance-architect.\n\n## Acceptance Criteria\n- [ ] All 6 agents added to AGENT_TYPES.planning\n- [ ] No other changes to build.js\n- [ ] Build still compiles successfully\n\n## Estimated Files\nscripts/build.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:46.410017-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.648787-08:00","closed_at":"2026-02-04T12:42:07.648787-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.7","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:46.423771-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.8","title":"Update war room auto-selection table","description":"## Objective\nAdd 9 new rows to Phase 3 auto-selection table in src/commands/war-room.ejs: 6 new agents + 3 existing conditional agents (deployment-engineer, integration-engineer, incident-responder).\n\n## New Rows\n| Domain | Agent | Keywords | Value Proposition |\n|--------|-------|----------|-------------------|\n| Event-Driven | reaper:event-architect | event, message queue, kafka, rabbitmq, sqs, cqrs, saga, event sourcing, pub/sub, eventual consistency, async, streaming, notification, real-time | Event contracts, saga patterns, CQRS, message broker selection |\n| Observability | reaper:observability-architect | observability, monitoring, alerting, slo, sli, metrics, logging, tracing, datadog, grafana, prometheus, opentelemetry, dashboards, reliability | SLO/SLI design, instrumentation, alerting strategy, distributed tracing |\n| Frontend | reaper:frontend-architect | frontend, ui, react, vue, angular, svelte, nextjs, remix, component, state management, ssr, csr, spa, design system, responsive, bundle, a11y, wcag, pwa | Component architecture, rendering strategy, state management, a11y |\n| Data Engineering | reaper:data-engineer | etl, elt, pipeline, data warehouse, analytics, reporting, streaming, batch, airflow, dagster, dbt, spark, data lake, cdc, olap | Pipeline design, warehouse modeling, streaming vs batch, data quality |\n| Testing Strategy | reaper:test-strategist | testing strategy, test pyramid, contract testing, integration testing, e2e, chaos engineering, test data, qa architecture | Test architecture design, contract testing, chaos engineering |\n| Compliance | reaper:compliance-architect | gdpr, hipaa, pci, soc2, fedramp, compliance, regulatory, data residency, retention, consent, audit trail | Compliance architecture, data residency, retention policies |\n| Deployment | reaper:deployment-engineer | deploy, ci/cd, pipeline, release, blue-green, canary, rollback, zero downtime, environment, staging | CI/CD strategy, deployment patterns, release management |\n| Integration | reaper:integration-engineer | integration, third-party, webhook, oauth, stripe, external api, service connector | Third-party integration architecture, webhook design |\n| Resilience | reaper:incident-responder | resilience, failure mode, blast radius, circuit breaker, fallback, graceful degradation, disaster recovery, availability | Operational resilience, failure mode analysis, recovery planning |\n\n## Acceptance Criteria\n- [ ] 9 new rows added to Phase 3 table\n- [ ] Maintains existing table format\n- [ ] Keywords match war room brief specifications\n\n## Estimated Files\nsrc/commands/war-room.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:56.724087-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.650923-08:00","closed_at":"2026-02-04T12:42:07.650923-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.8","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:56.747152-08:00","created_by":"ryan"}]}
{"id":"reaper-7bm.9","title":"Update CLAUDE.md agent categories","description":"## Objective\nAdd 6 new agents to the agent categories table in CLAUDE.md (lines 147-155).\n\n## Changes\nUpdate the Planning row to include: reaper:event-architect, reaper:observability-architect, reaper:frontend-architect, reaper:data-engineer, reaper:test-strategist, reaper:compliance-architect\n\n## Acceptance Criteria\n- [ ] All 6 new agents listed in appropriate category\n- [ ] Table format maintained\n- [ ] Agent names use reaper: prefix\n\n## Estimated Files\nCLAUDE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T11:44:59.328217-08:00","created_by":"ryan","updated_at":"2026-02-04T12:42:07.655797-08:00","closed_at":"2026-02-04T12:42:07.655797-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7bm.9","depends_on_id":"reaper-7bm","type":"parent-child","created_at":"2026-02-03T11:44:59.350414-08:00","created_by":"ryan"}]}
{"id":"reaper-7fw","title":"Restructure execution loop with explicit loop anchors","description":"Make the execution loop the structurally dominant element in takeoff so the model cannot fall through to completion after the first unit. Add a LOOP CHECKPOINT section after the quality-gate-protocol partial. Restructure the Per-Unit Cycle to emphasize iteration with explicit REPEAT framing. Remove premature All N completed parenthetical from progress announcement. Add post-gate loop reinforcement to agent-deployment-template.ejs. Strengthen Quick Reference to visually emphasize the loop. TDD: Write tests first. Files: src/commands/takeoff.ejs, src/partials/agent-deployment-template.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-key and reaper-c4r. Each issue targets different sections -- this issue owns the Per-Unit Cycle, Quick Reference, and progress announcement sections. Must not modify Continuation Rule or Completion sections (owned by reaper-key) or Pre-Planned Detection section (owned by reaper-c4r). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Per-Unit Cycle section uses explicit REPEAT/LOOP framing that structurally emphasizes iteration\n- [ ] A LOOP CHECKPOINT section exists after the quality-gate-protocol partial include\n- [ ] Progress announcement no longer contains premature completion language\n- [ ] agent-deployment-template.ejs includes post-gate loop reinforcement text\n- [ ] Quick Reference visually emphasizes the execution loop (e.g., bold, arrows, or box)\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:22.164886-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:42.41022-08:00","closed_at":"2026-02-06T12:22:42.41022-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7fw","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.411022-08:00","created_by":"ryan"}]}
{"id":"reaper-7gt","title":"Integrate gauge vocabulary into squadron scorecard","description":"## Objective\nModify src/commands/squadron.ejs to reference the visual-vocabulary partial for gauge definitions, ensuring consistency with the shared system. Lightest-touch modification ‚Äî squadron is already the visual flagship.\n\n## TDD Approach\n1. RED: Write test verifying squadron output references shared gauge vocabulary\n2. GREEN: Add partial include and update Five Keys scorecard to use shared labels\n3. BLUE: Verify existing visual vocabulary remains intact\n\n## Deliverables\n- Five Keys scorecard updated to use shared gauge labels where applicable\n- Visual Vocabulary section references shared partial for consistency\n- All existing visual vocabulary (mission cards, tension diagrams, consensus markers) unchanged\n- Squadron remains the reference implementation for the visual system\n\n## Acceptance Criteria\n- [ ] Five Keys scorecard uses shared gauge vocabulary where applicable\n- [ ] Existing visual vocabulary unchanged (mission cards, tension diagrams, consensus markers)\n- [ ] Visual Vocabulary section references shared partial\n- [ ] npm run build succeeds\n- [ ] reaper:ai-prompt-engineer review passes\n\n## Scope\nFiles: src/commands/squadron.ejs\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: agent_prompt\n- agent: reaper:feature-developer\n- parallel_group: group-parallel-commands (runs concurrently with reaper-7rn, reaper-zjc, reaper-csn)\n- cross_references: Parallel siblings modify different command templates but share the same visual-vocabulary partial (reaper-7sb). No file overlap. Squadron is lightest-touch ‚Äî integration of shared gauge labels into existing visual system. All must complete before reaper-e2p (test updates).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:27.797068-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.221656-08:00","closed_at":"2026-02-06T19:03:42.221656-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7gt","depends_on_id":"reaper-7sb","type":"blocks","created_at":"2026-02-06T18:15:42.988386-08:00","created_by":"ryan"},{"issue_id":"reaper-7gt","depends_on_id":"reaper-7rn","type":"relates-to","created_at":"2026-02-06T18:17:15.494342-08:00","created_by":"ryan"},{"issue_id":"reaper-7gt","depends_on_id":"reaper-zjc","type":"relates-to","created_at":"2026-02-06T18:17:17.294257-08:00","created_by":"ryan"},{"issue_id":"reaper-7gt","depends_on_id":"reaper-csn","type":"relates-to","created_at":"2026-02-06T18:17:17.48238-08:00","created_by":"ryan"},{"issue_id":"reaper-7gt","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.44642-08:00","created_by":"ryan"}]}
{"id":"reaper-7rn","title":"Add preflight card and gate panel to takeoff","description":"## Objective\nModify src/commands/takeoff.ejs to include visual-vocabulary partial with context: takeoff. Add aviation-themed preflight card, live gate status panel, and touchdown card.\n\n## TDD Approach\n1. RED: Write test verifying takeoff output contains preflight card structure\n2. GREEN: Add partial include and card templates to takeoff.ejs\n3. BLUE: Refactor card placement for optimal reading flow\n\n## Deliverables\n- Opening preflight card with ‚úà, flight number (RPR-NNN), route (branch ‚Üí target), gates list, Runway clear status\n- Gate status panel with gauge bars (LANDED/IN FLIGHT/GROUNDED/FAULT) and inline metrics per gate\n- Touchdown card at completion with final gate results\n- Visual elements excluded from ALL agent deployment prompts\n\n## Card Mockups (from squadron brief)\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ  ‚úà  PREFLIGHT                               ‚îÇ\n  ‚îÇ  Flight: RPR-042                            ‚îÇ\n  ‚îÇ  Route:  feature/oauth-refresh ‚Üí develop    ‚îÇ\n  ‚îÇ  Gates:  test-runner, code-reviewer         ‚îÇ\n  ‚îÇ  Status: Runway clear                       ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n  GATE STATUS\n  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n  test-runner      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED     114 pass  0 fail  87% cov\n  code-reviewer    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  IN FLIGHT  reviewing src/auth.ts\n  security-auditor ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  GROUNDED   awaiting gate 1\n\n## Acceptance Criteria\n- [ ] Preflight card renders with flight number, route, and gate list\n- [ ] Gate status panel shows gauge states during execution\n- [ ] Touchdown card renders at completion\n- [ ] Visual elements excluded from agent deployment prompts\n- [ ] npm run build succeeds\n- [ ] reaper:ai-prompt-engineer review passes\n\n## Scope\nFiles: src/commands/takeoff.ejs\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: agent_prompt\n- agent: reaper:feature-developer\n- parallel_group: group-parallel-commands (runs concurrently with reaper-zjc, reaper-csn, reaper-7gt)\n- cross_references: Parallel siblings modify different command templates but share the same visual-vocabulary partial (reaper-7sb). No file overlap. All must complete before reaper-e2p (test updates).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:12.117609-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.212312-08:00","closed_at":"2026-02-06T19:03:42.212312-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7rn","depends_on_id":"reaper-7sb","type":"blocks","created_at":"2026-02-06T18:15:42.758609-08:00","created_by":"ryan"},{"issue_id":"reaper-7rn","depends_on_id":"reaper-zjc","type":"relates-to","created_at":"2026-02-06T18:17:14.28609-08:00","created_by":"ryan"},{"issue_id":"reaper-7rn","depends_on_id":"reaper-csn","type":"relates-to","created_at":"2026-02-06T18:17:14.887376-08:00","created_by":"ryan"},{"issue_id":"reaper-7rn","depends_on_id":"reaper-7gt","type":"relates-to","created_at":"2026-02-06T18:17:15.492998-08:00","created_by":"ryan"},{"issue_id":"reaper-7rn","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.504764-08:00","created_by":"ryan"}]}
{"id":"reaper-7sb","title":"Create visual-vocabulary.ejs partial","description":"## Objective\nCreate src/partials/visual-vocabulary.ejs as the shared foundation for all visual UX. The partial is parameterized by context (takeoff, ship, status-worktrees, squadron, functional).\n\n## TDD Approach\n1. RED: Write build test ensuring partial compiles with each context parameter\n2. GREEN: Implement partial with gauge vocabulary and per-command card templates\n3. BLUE: Refactor for DRY parameterization\n\n## Deliverables\n- Four-state gauge vocabulary (LANDED/IN FLIGHT/GROUNDED/FAULT) with fixed-width 10-block bars\n- Per-command card templates (preflight card, landing card, fleet dashboard)\n- CLAUDE.md disable preamble: check for 'Reaper: disable ASCII art' and emit plain text\n- functional context as first-class mode (status labels without box-drawing)\n- ASCII art constraint documented: one line, one direction, no column alignment\n\n## Gauge System\n  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED       complete, healthy\n  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  IN FLIGHT    work in progress\n  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  GROUNDED     waiting, not started\n  ‚ñë‚ñë‚ñë‚ñë!!‚ñë‚ñë‚ñë‚ñë  FAULT        failed, needs attention\n\n## Acceptance Criteria\n- [ ] Partial compiles without errors via npm run build\n- [ ] Parameterized by context with documented options\n- [ ] Defines all four gauge states with examples\n- [ ] Includes CLAUDE.md disable check preamble\n- [ ] functional mode documented and functional\n- [ ] ASCII art constraint documented\n\n## Scope\nFiles: src/partials/visual-vocabulary.ejs\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: agent_prompt\n- agent: reaper:feature-developer\n- parallel_group: none (foundation unit, must complete first)\n- cross_references: All parallel units (reaper-7rn, reaper-zjc, reaper-csn, reaper-7gt) depend on this partial. Ensure gauge vocabulary, disable preamble, and context parameter API are stable before marking complete.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:03.855482-08:00","created_by":"ryan","updated_at":"2026-02-06T18:37:33.199922-08:00","closed_at":"2026-02-06T18:37:33.199922-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7sb","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.384779-08:00","created_by":"ryan"}]}
{"id":"reaper-7u1h","title":"Update flight-plan.ejs Phase 4 and 5 references","description":"Phase 4: Remove Assumptions and Feedback Log rows from the Update Rules Reference table. Phase 5 markdown-only mode: remove the Manual Execution Guide template reference line.\n\nFile: src/commands/flight-plan.ejs\n\nAcceptance Criteria:\n- Phase 4 Update Rules Reference table has no Assumptions or Feedback Log rows\n- Phase 5 markdown-only mode has no Manual Execution Guide template reference\n- No other phases affected\n\n[Auto-added by verification] Added explicit acceptance criteria.\n\nRef: reaper-u148","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:00:43.530406-08:00","created_by":"ryan","updated_at":"2026-02-19T13:06:27.571165-08:00","closed_at":"2026-02-19T13:06:27.571165-08:00","close_reason":"Extracted to a separate refactor issue. The flight-plan changes were in scope for schema simplification but the underlying problem (platform-specific detail in the command) is a broader refactor that deserves its own tracking."}
{"id":"reaper-7vb","title":"Restructure subagent prompt format (5‚Üí3 sections + word cap positioning)","description":"## Objective\nReduce SQUADRON_FORUM format from 5 sections to 3 (My Take, Tensions, Risks). Move '300 WORDS MAX' to first line of subagent prompt. Apply to SQUADRON_LATE_JOIN. Keep SQUADRON_SCOUT and SQUADRON_CLASH unchanged.\n\n## TDD Approach\n1. RED: Write failing test verifying 3-section format and word cap positioning\n2. GREEN: Implement template changes\n3. BLUE: Refactor for clarity\n\n## Acceptance Criteria\n- [ ] SQUADRON_FORUM has '300 WORDS MAX' as first instruction\n- [ ] Format has exactly 3 sections: My Take, Tensions, Risks\n- [ ] SQUADRON_LATE_JOIN updated with same format\n- [ ] SQUADRON_SCOUT and SQUADRON_CLASH unchanged\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Subagent prompt blocks (SQUADRON_FORUM, SQUADRON_LATE_JOIN)\nEstimated Location: Lines 200-350 (subagent prompt definitions)\n\n## Cross-References\n- Related: reaper-69f (also modifies subagent prompt handling)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:05.065613-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.186052-08:00","closed_at":"2026-02-06T16:42:30.186052-08:00","close_reason":"Closed"}
{"id":"reaper-7x1","title":"Test after fix","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T16:03:34.492022-08:00","created_by":"ryan","updated_at":"2026-01-02T16:03:49.799023-08:00","closed_at":"2026-01-02T16:03:49.799023-08:00","close_reason":"Cleanup: test issues and wrong prefix"}
{"id":"reaper-7xg","title":"Reframe README workflow entrypoints","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-07T15:52:58.742413-08:00","created_by":"ryan","updated_at":"2026-02-07T15:53:15.337686-08:00","closed_at":"2026-02-07T15:53:15.337686-08:00","close_reason":"Closed"}
{"id":"reaper-7ze","title":"Unit test buildTemplateVars flag derivations","description":"## Objective\nTest all boolean flag derivations and template variable generation for all source types (agents, skills, hooks, commands).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for each flag and source type\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Every boolean flag tested: HAS_TDD, IS_CODING_AGENT, IS_GATE_AGENT, gateCapable, etc.\n- [ ] All agent types produce correct AGENT_TYPE classification\n- [ ] Non-agent source types (skills, commands, hooks) produce correct variables\n- [ ] Nested skill paths test PARENT_SKILL logic\n- [ ] BUILD_TIMESTAMP is ISO format string\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:36.24082-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.254798-08:00","closed_at":"2026-02-06T00:57:57.254798-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-7ze","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.166177-08:00","created_by":"ryan"}]}
{"id":"reaper-82js","title":"Add TAKING OFF gauge state to visual vocabulary","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T15:50:53.355311-08:00","created_by":"ryan","updated_at":"2026-02-08T16:46:15.418742-08:00","closed_at":"2026-02-08T16:46:15.418742-08:00","close_reason":"All 3 child issues completed. TAKING OFF gauge state merged to develop as 51b556d"}
{"id":"reaper-82js.1","title":"Add TAKING OFF gauge state definition","description":"## Objective\nAdd a 6th gauge state TAKING OFF to src/partials/visual-vocabulary.ejs. This state represents the moment immediately before work begins ‚Äî engines hot, rolling ‚Äî giving the dev an emotional sense that execution is starting NOW.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests in visual-vocabulary.test.js and contracts.test.js for the 6th gauge state\n2. GREEN: Implement TAKING OFF in visual-vocabulary.ejs across all contexts\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] TAKING OFF gauge state defined with bar (‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë, 3/10 filled), label, and gloss in visual-vocabulary.ejs\n- [ ] Present in both functional (plain text) and visual (gauge bar) renderings\n- [ ] Gauge definition order: LANDED, ON APPROACH, IN FLIGHT, TAKING OFF, TAXIING, FAULT (most-complete to least-complete)\n- [ ] Fleet dashboard sort order updated: FAULT, IN FLIGHT, TAKING OFF, ON APPROACH, TAXIING, LANDED\n- [ ] \"Five semantic states\" text updated to \"Six semantic states\"\n- [ ] Tests updated in visual-vocabulary.test.js for 6th gauge state across all contexts\n- [ ] Tests updated in contracts.test.js GAUGE_STATES array\n- [ ] All tests pass\n- [ ] Code coverage meets threshold\n\n## Scope\nFiles: src/partials/visual-vocabulary.ejs, scripts/visual-vocabulary.test.js, scripts/contracts.test.js\nwork_type: agent_prompt\n\n## Cross-References\n[Auto-added by verification] This issue blocks reaper-82js.2 (takeoff command) and reaper-82js.3 (status-worktrees). Once .1 completes, .2 and .3 can execute in parallel ‚Äî no file overlap between takeoff.ejs and status-worktrees.ejs. The contracts.test.js GAUGE_STATES array update enables automatic validation of both downstream issues.\n\n## Orchestration Guidance\n[Auto-added by verification] Execution order: Complete .1 first (defines gauge state and updates GAUGE_STATES validation), then dispatch .2 and .3 in parallel. Critical path: .1 ‚Üí {.2 || .3}.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T15:51:03.29045-08:00","created_by":"ryan","updated_at":"2026-02-08T16:09:36.331192-08:00","closed_at":"2026-02-08T16:09:36.331192-08:00","close_reason":"TAKING OFF gauge state added with tests, committed as 3365951","dependencies":[{"issue_id":"reaper-82js.1","depends_on_id":"reaper-82js","type":"parent-child","created_at":"2026-02-08T15:51:03.302572-08:00","created_by":"ryan"}]}
{"id":"reaper-82js.2","title":"Update takeoff command to use TAKING OFF before agent deployment","description":"## Objective\nModify src/commands/takeoff.ejs so that immediately before deploying each work unit's coding agent (Per-Unit Cycle step 2), the orchestrator renders a TAKING OFF announcement with the gauge. The Preflight Card keeps TAXIING (work is queued). The new moment gives the dev the emotional hit that work is NOW starting.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify TAKING OFF appears in takeoff context before agent deployment\n2. GREEN: Add TAKING OFF announcement to the per-unit cycle in takeoff.ejs\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Takeoff command renders TAKING OFF gauge immediately before each agent deployment\n- [ ] Preflight Card retains TAXIING gauge (work queued, not yet started)\n- [ ] Per-unit cycle instructions clearly distinguish TAXIING (queued) from TAKING OFF (about to execute)\n- [ ] Build succeeds (npm run build)\n- [ ] Generated commands/takeoff.md contains TAKING OFF (validated automatically by contracts.test.js GAUGE_STATES, updated in reaper-82js.1)\n- [ ] All tests pass\n\n## Scope\nFiles: src/commands/takeoff.ejs\nwork_type: agent_prompt\n\n## Cross-References\n[Auto-added by verification] Depends on reaper-82js.1 which defines the TAKING OFF gauge state in visual-vocabulary.ejs and updates GAUGE_STATES in contracts.test.js. Can execute in parallel with reaper-82js.3 (status-worktrees) ‚Äî no file overlap. The contracts.test.js GAUGE_STATES array (updated by reaper-82js.1) will validate that the generated takeoff.md includes TAKING OFF.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T15:51:12.365426-08:00","created_by":"ryan","updated_at":"2026-02-08T16:16:47.422023-08:00","closed_at":"2026-02-08T16:16:47.422023-08:00","close_reason":"TAKING OFF integrated into takeoff and status-worktrees, committed as 7b37646","dependencies":[{"issue_id":"reaper-82js.2","depends_on_id":"reaper-82js","type":"parent-child","created_at":"2026-02-08T15:51:12.390373-08:00","created_by":"ryan"},{"issue_id":"reaper-82js.2","depends_on_id":"reaper-82js.1","type":"blocks","created_at":"2026-02-08T15:51:34.668611-08:00","created_by":"ryan"}]}
{"id":"reaper-82js.3","title":"Update status-worktrees to recognize TAKING OFF state","description":"## Objective\nUpdate src/commands/status-worktrees.ejs to recognize the TAKING OFF state in the fleet dashboard. This state applies when a worktree has a TASK.md (indicating assignment) but no commits yet ‚Äî the work is assigned and about to begin, distinct from TAXIING (worktree exists but no assignment).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for TAKING OFF state detection and sort order\n2. GREEN: Add TAKING OFF to status-worktrees shell script (state detection, gauge rendering, sort bucket)\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] TAKING OFF state added to status-worktrees shell script (state detection, gauge rendering, sort bucket)\n- [ ] Sort order: FAULT, IN FLIGHT, TAKING OFF, ON APPROACH, TAXIING, LANDED\n- [ ] State detection logic: TASK.md exists but no commits beyond branch point and no uncommitted changes\n- [ ] Build succeeds (npm run build)\n- [ ] All tests pass\n\n## Scope\nFiles: src/commands/status-worktrees.ejs\nwork_type: agent_prompt\n\n## Cross-References\nDepends on reaper-82js.1 which defines the TAKING OFF gauge state in visual-vocabulary.ejs. Can execute in parallel with reaper-82js.2 (takeoff command) ‚Äî no file overlap.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T15:51:17.952484-08:00","created_by":"ryan","updated_at":"2026-02-08T16:16:47.441553-08:00","closed_at":"2026-02-08T16:16:47.441553-08:00","close_reason":"TAKING OFF integrated into takeoff and status-worktrees, committed as 7b37646","dependencies":[{"issue_id":"reaper-82js.3","depends_on_id":"reaper-82js","type":"parent-child","created_at":"2026-02-08T15:51:17.958783-08:00","created_by":"ryan"},{"issue_id":"reaper-82js.3","depends_on_id":"reaper-82js.1","type":"blocks","created_at":"2026-02-08T15:51:35.203079-08:00","created_by":"ryan"}]}
{"id":"reaper-85w","title":"Add scope boundary to CLAUDE.md for all Reaper-specific guidance","description":"## Objective\nAdd explicit boundary language to CLAUDE.md making clear that ALL content in Reaper's CLAUDE.md files is guidance for developing Reaper itself. Commands, skills, agents, and other generated prompts that Reaper produces should focus on general software development best practices ‚Äî not impose Reaper's internal design philosophy on target projects.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- CLAUDE.md has a clear top-level statement: this file is guidance for developing Reaper itself\n- CLAUDE.md states that commands, skills, agents, and prompts must focus on general development when operating on target projects\n- Five Keys section explicitly scoped as Reaper's internal design values\n- Five Keys must NOT be imposed on target projects (explicit prohibition)\n- Existing Five Keys definitions unchanged (they are correct for Reaper's own design)\n- Where Voice Applies section enhanced to cover the output boundary\n\n## Scope\nFiles: CLAUDE.md\n\n[Auto-added by verification] Work type: documentation\n[Auto-added by verification] Related: reaper-ezz (Five Keys scope containment ‚Äî parallel-safe, zero file overlap)\n[Auto-added by verification] Parallel execution: This issue can run in parallel with reaper-ezz. No shared files.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T21:54:14.005635-08:00","created_by":"ryan","updated_at":"2026-02-07T22:49:09.558492-08:00","closed_at":"2026-02-07T22:49:09.558492-08:00","close_reason":"Scope boundary added to CLAUDE.md ‚Äî merged to develop in caeb08b"}
{"id":"reaper-8az","title":"Create docs/quality-gates.md ‚Äî gate pipeline and iteration","description":"## Objective\nCreate user-facing quality gates documentation. Extract from current README lines 239-266 and expand with pipeline details, iteration behavior, and self-learning loop.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria (pipeline layers, coverage threshold, iteration behavior)\n2. GREEN: Write the doc meeting all criteria\n3. BLUE: Refactor for clarity\n\n## Acceptance Criteria\n- [ ] Opens with \"Claude gets picky so you don't have to be.\" tagline\n- [ ] Three-layer pipeline: test-runner ‚Üí (code-reviewer + security-auditor in parallel)\n- [ ] Coverage requirement: 70%+ for application code (per project CLAUDE.md ‚Äî note: SPICE standard says 80%, project overrides to 70%)\n- [ ] Iteration behavior: auto-fix loop, max iterations before escalating\n- [ ] Self-learning loop: recurring failures surface CLAUDE.md update candidates\n- [ ] Link back to README for context\n\n## Cross-References\n[Auto-added by verification]\n- README (reaper-xio) will link to this file as docs/quality-gates.md with teaser \"Claude gets picky so you don't have to be.\"\n- This doc links back to README ‚Äî use relative path ../README.md\n- Parallel work: reaper-c7e, reaper-c45, reaper-cm8, reaper-b6n are written concurrently on non-overlapping files\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: docs/quality-gates.md\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:17.32959-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.241131-08:00","closed_at":"2026-02-06T13:53:53.241131-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-8az","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:21.783638-08:00","created_by":"ryan"}]}
{"id":"reaper-8ex","title":"Squadron alignment review ‚Äî fixes \u0026 enhancements","description":"Epic for squadron alignment fixes and enhancements identified during the 2026-02-06 alignment session. Includes CI workflow updates, CLAUDE.md documentation corrections, semantic contract tests, voice policy codification, and context hygiene guidance.\n\n[Auto-added by verification]\nExecution strategy: All 5 children are parallelizable (100% parallel work)\nNo blocking dependencies between children\nFile overlap: reaper-qlz and reaper-xlw both modify CLAUDE.md but in different sections (safe for parallel execution with cross-reference awareness)\nCritical path: None (all work is independent)\nEstimated total effort: ~2-3 hours across all work units","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T15:04:41.924454-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.533068-08:00","closed_at":"2026-02-06T15:46:58.533068-08:00","close_reason":"Closed"}
{"id":"reaper-8px","title":"docs/CLAUDE.md is an orphaned file","description":"docs/CLAUDE.md duplicates the global ~/.claude/CLAUDE.md content with no Reaper-specific purpose. Not referenced from README, CLAUDE.md, or any other doc. Either remove it or give it a purpose.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-02-06T22:32:40.165873-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.81297-08:00","closed_at":"2026-02-06T23:35:24.81297-08:00","close_reason":"Closed"}
{"id":"reaper-8q4","title":"Update README and project docs","description":"Remove SPICE references from project documentation.\n\n**Work Type:** documentation\n\n**Changes Required:**\n1. README.md line 207: Remove SPICE link\n2. docs/CLAUDE.md section \"Additional Reference Documentation\": Remove SPICE doc links or redirect to CLAUDE.md\n3. CHANGELOG.md: Add entry documenting SPICE extraction as notable change\n4. Verify no broken documentation links remain\n\n**Acceptance Criteria:**\n- No SPICE references in README.md\n- CHANGELOG.md has entry for SPICE extraction\n- docs/CLAUDE.md updated (no SPICE links)\n- No broken links in any documentation\n- Build succeeds\n\n**Files:** \n- README.md (line 207)\n- CHANGELOG.md (new entry)\n- docs/CLAUDE.md (section update)\n\n**Related Issues:** reaper-0x6 (coordinate deletion timing), reaper-64m (coordinate CLAUDE.md content)\n\nRef: reaper-0u4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T21:00:27.041997-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.738391-08:00","closed_at":"2026-02-06T21:46:32.738391-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-8q4","depends_on_id":"reaper-0x6","type":"blocks","created_at":"2026-02-06T21:00:36.098427-08:00","created_by":"ryan"},{"issue_id":"reaper-8q4","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.806238-08:00","created_by":"ryan"}]}
{"id":"reaper-8vi5","title":"Update visual-vocabulary test rationale for scope boundary","description":"Update test at scripts/visual-vocabulary.test.js:283 that asserts partial doesn't include Five Keys Scorecard. Change assertion to match new scorecard name (Design Quality). Update comment to reference scope boundary rule, not just duplication avoidance.\n\nWORK_TYPE: test_code\n\nCROSS-REFERENCES:\n- reaper-9kp: Template change that this test validates\n- reaper-ocn6: Additional contract test for same issue\n- reaper-gcf: Parent epic\n\nFILE ASSIGNMENTS:\n- scripts/visual-vocabulary.test.js (exclusive ownership)\n\nSIZE ESTIMATE: 1 file, ~5 LOC changes\n\nACCEPTANCE CRITERIA:\n- Line 283: Change assertion from \"Five Keys Scorecard\" to \"Design Quality\" or remove if no longer needed\n- Update comment to reference CLAUDE.md scope boundary rule (Five Keys must not be imposed on target projects)\n- Test must pass after reaper-9kp completes\n\nRef: reaper-8vi5","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T13:48:36.382535-08:00","created_by":"ryan","updated_at":"2026-02-08T14:10:44.153253-08:00","closed_at":"2026-02-08T14:10:44.153253-08:00","close_reason":"Closed"}
{"id":"reaper-8xq","title":"Expand ship safety scan patterns and add transparency disclaimer","description":"In src/commands/ship.ejs section 4 (lines 142-161), expand the pre-stage safety scan: (1) Add patterns: *.p12, *.pfx, *.jks, id_rsa*, *.credentials, *.secret, *.token. (2) Update SENSITIVE_PATTERNS variable and grep -E regex to match new patterns. (3) Add disclaimer to warning output: 'This is a common-pattern check, not a comprehensive security scan ‚Äî review staged files manually.' Run npm run build to regenerate commands/ship.md.\n\n[Auto-added by verification]\nwork_type: application_code\nagent: reaper:bug-fixer\nassigned_files: src/commands/ship.ejs, commands/ship.md (generated)\nfile_ownership: exclusive\nacceptance_criteria:\n- SENSITIVE_PATTERNS includes *.p12, *.pfx, *.jks, id_rsa*, *.credentials, *.secret, *.token\n- grep -E regex updated to match all new patterns\n- Warning output includes transparency disclaimer text\n- npm run build regenerates commands/ship.md successfully\n- Existing patterns (.env*, *.pem, *.key, node_modules/, *.sqlite, *.db) remain intact\nsibling_issues: reaper-06y (command contracts), reaper-an2 (coverage flags) ‚Äî no file overlap, all independent under epic reaper-lfc","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-07T12:33:08.892926-08:00","created_by":"ryan","updated_at":"2026-02-07T13:57:14.49737-08:00","closed_at":"2026-02-07T13:57:14.49737-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-8xq","depends_on_id":"reaper-lfc","type":"blocks","created_at":"2026-02-07T12:33:15.148512-08:00","created_by":"ryan"}]}
{"id":"reaper-8xx","title":"Build and verify generated output","description":"Compile templates and verify the generated output is correct and complete. Run npm run build. Verify commands/takeoff.md has all changes from units 1-3. Check no other generated files were broken. Verify generated output reads coherently end-to-end. Files: commands/takeoff.md (generated)\n\n[Auto-added by verification]\nwork_type: configuration\nCross-references: This is the final verification step. Depends on reaper-7fw, reaper-key, and reaper-c4r all completing first. Reads generated commands/takeoff.md which is produced from src/commands/takeoff.ejs (modified by the other three issues).\n\nAcceptance Criteria:\n- [ ] npm run build completes without errors\n- [ ] commands/takeoff.md contains LOOP CHECKPOINT section (from reaper-7fw)\n- [ ] commands/takeoff.md contains STOP-Verify banner before Completion heading (from reaper-key)\n- [ ] commands/takeoff.md contains Re-Read Protocol and Dependency Chain subsections (from reaper-key)\n- [ ] commands/takeoff.md contains updated Pre-Planned Detection with depth flattening (from reaper-c4r)\n- [ ] commands/takeoff.md reads coherently end-to-end (no broken EJS, no missing sections)\n- [ ] No other generated files were broken by the build (spot-check 2-3 other generated files)\n- [ ] All contract tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:37.734601-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:42.418626-08:00","closed_at":"2026-02-06T12:22:42.418626-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-8xx","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.59289-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-7fw","type":"blocks","created_at":"2026-02-06T11:46:00.294254-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-key","type":"blocks","created_at":"2026-02-06T11:46:00.357206-08:00","created_by":"ryan"},{"issue_id":"reaper-8xx","depends_on_id":"reaper-c4r","type":"blocks","created_at":"2026-02-06T11:46:00.416376-08:00","created_by":"ryan"}]}
{"id":"reaper-93s","title":"Squadron Medium-Priority Findings","description":"Address all medium-priority findings from the pre-merge squadron cross-check: (1) PostToolUse hook hardening with formatter allowlist and execution logging, (2) Error handling and tests for build.js excluded paths, (3) Explore-first architecture documentation updates. Plan: .claude/plans/reaper-squadron-medium-findings.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T14:39:45.247957-08:00","created_by":"ryan","updated_at":"2026-02-07T15:43:05.492608-08:00","closed_at":"2026-02-07T15:43:05.492608-08:00","close_reason":"All work completed, merged to develop in cf4ef71"}
{"id":"reaper-93s.1","title":"Add formatter allowlist and execution logging to PostToolUse hook","description":"## Objective\nHarden the PostToolUse hook by adding an optional formatter allowlist mechanism and execution logging. The hook currently executes whatever binary answers to formatter names on PATH with no integrity verification.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing contract tests for allowlist config detection and hook structure\n2. GREEN: Implement allowlist mechanism in hook shell script\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Hook checks for allowlist configuration before executing formatters\n- [ ] When allowlist is configured, only allowed formatters execute\n- [ ] When no allowlist is configured, current behavior is preserved (backwards compatible)\n- [ ] Formatter execution is optionally logged (which binary ran, on which file)\n- [ ] Configuration mechanism follows existing patterns (e.g., CLAUDE.md opt-in)\n- [ ] Contract tests updated for new hook structure\n- [ ] docs/auto-formatting.md updated with allowlist documentation\n\n## Scope\nFiles: src/hooks/hooks.json (source ‚Äî may be converted to hooks.ejs if templating is needed for allowlist logic), hooks/hooks.json (generated), scripts/contracts.test.js, docs/auto-formatting.md\n\n[Auto-added by verification] work_type: configuration\n[Auto-added by verification] Note: The source file is currently src/hooks/hooks.json (plain JSON, not EJS). If the allowlist mechanism requires conditional logic, converting to .ejs is in scope but should be a deliberate decision ‚Äî not assumed. The build system already handles non-template files in src/ by copying them directly.\n[Auto-added by verification] Cross-references: This issue is fully parallel with reaper-93s.2 (build.js error handling) and reaper-93s.3 (docs updates). No file overlap.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T14:39:56.409715-08:00","created_by":"ryan","updated_at":"2026-02-07T15:43:05.473917-08:00","closed_at":"2026-02-07T15:43:05.473917-08:00","close_reason":"All work completed, merged to develop in cf4ef71","dependencies":[{"issue_id":"reaper-93s.1","depends_on_id":"reaper-93s","type":"parent-child","created_at":"2026-02-07T14:39:56.417453-08:00","created_by":"ryan"}]}
{"id":"reaper-93s.2","title":"Add error handling and tests for build.js excluded paths","description":"## Objective\nAudit coverage-excluded code paths in build.js and add targeted error handling and tests. Focus on findFiles() where readdirSync (line 425) can throw on permission errors with no try/catch, and copyFile() catch block (lines 406-411) which is untested.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for findFiles() error scenarios (readdirSync throw), copyFile() catch block (forced filesystem error), main() error handling\n2. GREEN: Add try/catch to findFiles() readdirSync call, make tests pass\n3. BLUE: Refactor, review coverage exclusion markers ‚Äî remove any that are now testable\n\n## Acceptance Criteria\n- [ ] findFiles() has try/catch around readdirSync for permission/filesystem errors\n- [ ] copyFile() catch block is tested (forced filesystem error)\n- [ ] main() has top-level error handling to prevent uncaught exceptions\n- [ ] New tests cover the previously-excluded error paths\n- [ ] Coverage exclusion markers reviewed ‚Äî remove any that are now testable\n- [ ] Existing 568 tests still pass\n\n## Scope\nFiles: scripts/build.js, scripts/build.test.js\n\n[Auto-added by verification] work_type: application_code\n[Auto-added by verification] Note: findFiles() already has an existsSync guard (line 421) but readdirSync (line 425) has no try/catch for runtime errors like permission denied. The main() function (line 581) also lacks top-level error handling. The buildType() and build() functions are currently fully coverage-excluded (lines 444-474 and 479-520).\n[Auto-added by verification] Cross-references: This issue is fully parallel with reaper-93s.1 (PostToolUse hook) and reaper-93s.3 (docs updates). No file overlap.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T14:40:02.079334-08:00","created_by":"ryan","updated_at":"2026-02-07T15:43:05.488675-08:00","closed_at":"2026-02-07T15:43:05.488675-08:00","close_reason":"All work completed, merged to develop in cf4ef71","dependencies":[{"issue_id":"reaper-93s.2","depends_on_id":"reaper-93s","type":"parent-child","created_at":"2026-02-07T14:40:02.086441-08:00","created_by":"ryan"}]}
{"id":"reaper-93s.3","title":"Update docs for explore-first architecture","description":"## Objective\nUpdate stale documentation that still references \"scout-then-swarm\" and add explore-first architecture documentation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify docs/commands.md:158 contains stale \"Scout-then-swarm\" reference\n2. GREEN: Update docs/commands.md and docs/workflow.md with explore-first content\n3. BLUE: Verify no remaining \"scout-then-swarm\" references anywhere in the repo\n\n## Acceptance Criteria\n- [ ] docs/commands.md line 158 updated from \"Scout-then-swarm decision\" to explore-first terminology\n- [ ] docs/workflow.md updated to explain explore-first principle\n- [ ] Squadron section in docs/workflow.md describes Explore-agent-first pattern\n- [ ] No remaining references to \"scout-then-swarm\" in docs/ or anywhere else in repo\n\n## Scope\nFiles: docs/commands.md, docs/workflow.md\n\n[Auto-added by verification] work_type: documentation\n[Auto-added by verification] Note: The stale reference is only in hand-maintained docs. The source template src/commands/squadron.ejs already uses \"Explore-First Architecture\" (line 202). No source template changes are needed ‚Äî only docs/ files need updating.\n[Auto-added by verification] Cross-references: This issue is fully parallel with reaper-93s.1 (PostToolUse hook) and reaper-93s.2 (build.js error handling). No file overlap.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T14:40:04.756938-08:00","created_by":"ryan","updated_at":"2026-02-07T15:43:05.490725-08:00","closed_at":"2026-02-07T15:43:05.490725-08:00","close_reason":"All work completed, merged to develop in cf4ef71","dependencies":[{"issue_id":"reaper-93s.3","depends_on_id":"reaper-93s","type":"parent-child","created_at":"2026-02-07T14:40:04.763735-08:00","created_by":"ryan"}]}
{"id":"reaper-992j","title":"Refactor workflow-planner invocation to Task subagent with resume pattern","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-20T20:06:50.330757-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.124451-08:00","closed_at":"2026-02-20T21:07:07.124451-08:00","close_reason":"Closed"}
{"id":"reaper-992j.1","title":"Add Skill tool to workflow-planner agent tools list","description":"## Objective\nAdd the Skill tool to workflow-planner's tools: frontmatter so the agent can load reaper:workflow-planner-planning and reaper:workflow-planner-verification internally when dispatched as a Task subagent.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify current tools list does not include Skill (confirm the missing capability)\n2. GREEN: Add Skill to the tools: line in src/agents/workflow-planner.ejs frontmatter, run npm run build\n3. BLUE: Review build diff; confirm no unintended side effects from build output\n\n## Acceptance Criteria\n- [ ] Skill appears in tools: frontmatter of agents/workflow-planner.md (generated)\n- [ ] npm run build succeeds with no errors\n- [ ] git diff agents/ shows only the expected tools line change\n\n## Scope\nFiles: src/agents/workflow-planner.ejs, agents/workflow-planner.md (generated)","notes":"[Auto-added by verification] work_type: agent_prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T20:06:52.728475-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.108588-08:00","closed_at":"2026-02-20T21:07:07.108588-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-992j.1","depends_on_id":"reaper-992j","type":"parent-child","created_at":"2026-02-20T20:06:52.742465-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.1","depends_on_id":"reaper-992j.2","type":"relates-to","created_at":"2026-02-20T20:08:58.073572-08:00","created_by":"ryan"}]}
{"id":"reaper-992j.2","title":"Remove unsupported context:fork and agent: frontmatter from workflow-planner skills","description":"## Objective\nRemove the context: fork and agent: frontmatter fields from both workflow-planner skills. These fields are not recognized by Claude Code and were silently ignored, creating misleading documentation. With the new Task dispatch pattern, they are not needed.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Confirm both SKILL.ejs files contain context: fork and agent: fields\n2. GREEN: Remove those lines from src/skills/workflow-planner-planning/SKILL.ejs and src/skills/workflow-planner-verification/SKILL.ejs, run npm run build\n3. BLUE: Review build diff; confirm generated SKILL.md files are clean\n\n## Acceptance Criteria\n- [ ] context: fork removed from both skill frontmatters\n- [ ] agent: removed from both skill frontmatters\n- [ ] npm run build succeeds\n- [ ] No other frontmatter fields affected\n\n## Scope\nFiles: src/skills/workflow-planner-planning/SKILL.ejs, src/skills/workflow-planner-verification/SKILL.ejs","notes":"[Auto-added by verification] work_type: agent_prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T20:06:53.800103-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.111923-08:00","closed_at":"2026-02-20T21:07:07.111923-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-992j.2","depends_on_id":"reaper-992j","type":"parent-child","created_at":"2026-02-20T20:06:53.804074-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.2","depends_on_id":"reaper-992j.1","type":"relates-to","created_at":"2026-02-20T20:08:58.076678-08:00","created_by":"ryan"}]}
{"id":"reaper-992j.3","title":"Write ADR-0016: workflow-planner dispatched as Task subagent not via Skill tool","description":"## Objective\nCreate ADR-0016 documenting the architectural decision to dispatch workflow-planner as a Task subagent rather than invoking its skills inline via the Skill tool.\n\n## TDD Approach\nDocumentation task ‚Äî no TDD required.\n\n## Acceptance Criteria\n- [ ] docs/adr/0016-workflow-planner-task-dispatch.md created\n- [ ] ADR covers: context (Skill tool injects inline, context:fork not supported), decision (use Task dispatch), alternatives rejected (inline Skill, context:fork frontmatter), consequences\n- [ ] File committed\n\n## Scope\nFiles: docs/adr/0016-workflow-planner-task-dispatch.md","notes":"[Auto-added by verification] work_type: documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T20:06:54.924891-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.114103-08:00","closed_at":"2026-02-20T21:07:07.114103-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-992j.3","depends_on_id":"reaper-992j","type":"parent-child","created_at":"2026-02-20T20:06:54.962113-08:00","created_by":"ryan"}]}
{"id":"reaper-992j.4","title":"Refactor flight-plan Phase 6 to dispatch workflow-planner as Task subagent","description":"## Objective\nRefactor flight-plan Phase 6 to dispatch reaper:workflow-planner as a Task subagent for verification instead of calling Skill: reaper:workflow-planner-verification directly in the main command context.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run contract tests to establish baseline; confirm Phase 6 section pattern exists in current output\n2. GREEN: Update src/commands/flight-plan.ejs Phase 6 ‚Äî replace Skill invocation with Task dispatch instructions (reaper:workflow-planner with MODE: VERIFICATION in prompt); remove misleading 'fork context' language; run npm run build\n3. BLUE: Run full contract tests (npm run test:coverage); review generated commands/flight-plan.md diff\n\n## Acceptance Criteria\n- [ ] Phase 6 instructs dispatching Task(reaper:workflow-planner) instead of Skill\n- [ ] No 'fork context' or 'inherits the agent's fork context' language remains\n- [ ] Task result JSON is parsed the same as before (all_checks_passed, auto_fixed, requires_user_input)\n- [ ] Contract tests pass\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/flight-plan.ejs, commands/flight-plan.md (generated)","notes":"[Auto-added by verification] work_type: agent_prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T20:06:57.311569-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.118847-08:00","closed_at":"2026-02-20T21:07:07.118847-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-992j.4","depends_on_id":"reaper-992j","type":"parent-child","created_at":"2026-02-20T20:06:57.33669-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.4","depends_on_id":"reaper-992j.1","type":"blocks","created_at":"2026-02-20T20:07:32.61897-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.4","depends_on_id":"reaper-992j.5","type":"relates-to","created_at":"2026-02-20T20:08:58.667179-08:00","created_by":"ryan"}]}
{"id":"reaper-992j.5","title":"Refactor takeoff Planning section to dispatch workflow-planner as Task subagent with resume","description":"## Objective\nRefactor takeoff's Planning section to dispatch reaper:workflow-planner as a Task subagent instead of calling Skill: reaper:workflow-planner-planning (via the Skill tool) inline. Capture the returned agentId as WORKFLOW_PLANNER_SESSION_ID. Use Task --resume for re-invocation when packages need splitting.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run contract tests to establish baseline; confirm Planning section pattern in current output\n2. GREEN: Update src/commands/takeoff.ejs Planning section ‚Äî replace Skill invocation language with Task dispatch; add capture of WORKFLOW_PLANNER_SESSION_ID; update re-invocation references to use resume pattern; run npm run build\n3. BLUE: Run full contract tests (npm run test:coverage); review generated commands/takeoff.md diff\n\n## Acceptance Criteria\n- [ ] Planning section instructs dispatching Task(reaper:workflow-planner) instead of Skill\n- [ ] WORKFLOW_PLANNER_SESSION_ID captured from Task result\n- [ ] Re-invocation for oversized packages uses Task --resume WORKFLOW_PLANNER_SESSION_ID\n- [ ] No 'via the Skill tool' or 'fork-and-agent frontmatter handles agent selection' language remains\n- [ ] Contract tests pass\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/commands/takeoff.ejs, commands/takeoff.md (generated)","notes":"[Auto-added by verification] work_type: agent_prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T20:06:58.201652-08:00","created_by":"ryan","updated_at":"2026-02-20T21:07:07.121732-08:00","closed_at":"2026-02-20T21:07:07.121732-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-992j.5","depends_on_id":"reaper-992j","type":"parent-child","created_at":"2026-02-20T20:06:58.205917-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.5","depends_on_id":"reaper-992j.1","type":"blocks","created_at":"2026-02-20T20:07:32.70575-08:00","created_by":"ryan"},{"issue_id":"reaper-992j.5","depends_on_id":"reaper-992j.4","type":"relates-to","created_at":"2026-02-20T20:08:58.668659-08:00","created_by":"ryan"}]}
{"id":"reaper-9kp","title":"Replace Five Keys scorecard in squadron source template","description":"Remove all three Five Keys references in src/commands/squadron.ejs and replace with universally applicable Design Quality assessment using Correctness, Observability, Maintainability, Security, Performance. Line 82: visual vocab table. Lines 153-163: rendered example. Lines 530-543: section 5 instructions. Preserve bar chart format and selective-prose pattern.\n\nWORK_TYPE: application_code\n\nCROSS-REFERENCES:\n- reaper-8vi5: Updates test that validates scorecard name\n- reaper-ocn6: Adds contract test that depends on this change\n- reaper-gcf: Parent epic\n\nFILE ASSIGNMENTS:\n- src/commands/squadron.ejs (exclusive ownership)\n\nSIZE ESTIMATE: 1 file, ~25 LOC changes\n\nACCEPTANCE CRITERIA:\n- Line 82: Replace \"Five Keys scorecard\" reference with \"Design Quality scorecard\"\n- Lines 153-163: Replace example with new dimensions (Correctness, Observability, Maintainability, Security, Performance)\n- Lines 530-543: Replace section 5 heading and instructions with Design Quality\n- Preserve bar chart format (‚ñà‚ñà‚ñë‚ñë) and selective-prose pattern\n- Run npm run build to regenerate commands/squadron.md\n\nRef: reaper-9kp","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-08T13:48:34.239275-08:00","created_by":"ryan","updated_at":"2026-02-08T14:10:44.140116-08:00","closed_at":"2026-02-08T14:10:44.140116-08:00","close_reason":"Closed"}
{"id":"reaper-9mi","title":"no-self-reporting partial not used consistently across coding agents","description":"integration-engineer, deployment-engineer, and incident-responder duplicate the no-self-reporting text inline instead of using the partial include. Functionally identical but inconsistent with bug-fixer, feature-developer, refactoring-dev, and performance-engineer which use the partial.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-02-06T22:32:50.016056-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.801056-08:00","closed_at":"2026-02-06T23:35:24.801056-08:00","close_reason":"Closed"}
{"id":"reaper-9px","title":"Add Stop hooks to agents for orchestration","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T15:00:16.251589-08:00","created_by":"ryan","updated_at":"2026-01-12T15:11:55.738391-08:00","closed_at":"2026-01-12T15:11:55.738391-08:00","close_reason":"Closed"}
{"id":"reaper-a4r","title":"Build and verify all agents compile correctly","description":"Run npm run build and verify all generated agents are correct. Check: build completes without errors, all 17 agents generate valid markdown, spot-check key agents for correct content, verify no broken partial includes.\n\nFiles (read-only verification):\n- agents/*.md (generated - verify content)\n- src/agents/*.ejs (source - verify syntax)\n\nVerification Steps:\n1. npm run build\n2. Verify all 17 agents generate without errors\n3. Spot-check: feature-developer.md, refactoring-dev.md, test-runner.md\n4. Verify partial content appears in generated files\n5. No broken EJS includes\n\nAcceptance Criteria:\n- Build exits with code 0\n- 17 agent markdown files generated\n- No \"undefined\" or broken partial references in output\n- Key agents contain expected partial content","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:57.243098-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.485609-08:00","closed_at":"2026-01-23T12:51:59.485609-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-a4r","depends_on_id":"reaper-dgi","type":"blocks","created_at":"2026-01-23T12:22:03.6531-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-nsn","type":"blocks","created_at":"2026-01-23T12:22:03.784352-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-qwi","type":"blocks","created_at":"2026-01-23T12:22:03.890842-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-eg9","type":"blocks","created_at":"2026-01-23T12:22:04.010204-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-bf3","type":"blocks","created_at":"2026-01-23T12:22:04.133021-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-4lm","type":"blocks","created_at":"2026-01-23T12:22:04.223671-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-0l6","type":"blocks","created_at":"2026-01-23T12:22:04.338009-08:00","created_by":"ryan"},{"issue_id":"reaper-a4r","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:56.27896-08:00","created_by":"ryan"}]}
{"id":"reaper-a51","title":"Rename war-room command to huddle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T12:54:23.550701-08:00","created_by":"ryan","updated_at":"2026-02-04T12:54:39.019116-08:00","closed_at":"2026-02-04T12:54:39.019116-08:00","close_reason":"Renamed war-room to huddle across source templates, generated outputs, and agent references"}
{"id":"reaper-a9f","title":"Make flight-plan approval prompt more visually prominent","description":"Replace plain-text approval prompts in flight-plan with AskUserQuestion tool calls. This gives the PO structured Go/Cancel options while still allowing freeform feedback via the built-in \"Other\" escape hatch.\n\n## Locations to Change\n\n### 1. Phase 3 (line ~222) ‚Äî Initial approval after plan summary\n\n**Current:** Plain text asking user to reply \"go\" or provide feedback.\n\n**Replace with:** After presenting the plan summary (file path, epic title, work unit count, parallelization %, critical path), call AskUserQuestion:\n\n```json\n{\n  \"questions\": [{\n    \"question\": \"Plan has N work units (M% parallelizable). Create issues in [Beads|Jira]?\",\n    \"header\": \"Plan Review\",\n    \"options\": [\n      {\"label\": \"Go\", \"description\": \"Create issues as shown in the plan\"},\n      {\"label\": \"Cancel\", \"description\": \"Abort planning ‚Äî no issues created\"}\n    ],\n    \"multiSelect\": false\n  }]\n}\n```\n\nDynamic values: N = work unit count, M = parallelization %, [Beads|Jira] = detected task system.\n\n### 2. Phase 4 (line ~241) ‚Äî Re-prompt after applying feedback\n\n**Current:** \"Confirm to user with summary of changes and re-prompt for approval.\"\n\n**Replace with:** After applying feedback and summarizing changes, call AskUserQuestion with the same structure as above (updated counts if units changed).\n\n### Response Mapping\n\nAskUserQuestion responses map to existing Phase 4 parsing:\n\n| AskUserQuestion Response | Maps To | Action |\n|--------------------------|---------|--------|\n| \"Go\" | Approve | Proceed to Phase 5 |\n| \"Cancel\" | Cancel | Acknowledge and stop |\n| \"Other\" (freeform text) | Feedback | Update plan file, re-prompt |\n\n### Markdown-Only Mode Variant\n\nWhen TASK_SYSTEM is markdown_only, adjust the prompt:\n\n```json\n{\n  \"questions\": [{\n    \"question\": \"Plan has N work units (M% parallelizable). Finalize plan file?\",\n    \"header\": \"Plan Review\",\n    \"options\": [\n      {\"label\": \"Go\", \"description\": \"Finalize plan file as deliverable\"},\n      {\"label\": \"Cancel\", \"description\": \"Abort planning\"}\n    ],\n    \"multiSelect\": false\n  }]\n}\n```\n\n## Acceptance Criteria\n\n- [ ] Phase 3 uses AskUserQuestion instead of plain text for approval\n- [ ] Phase 4 refinement loop uses AskUserQuestion for re-prompting\n- [ ] Dynamic values (unit count, parallelization %, task system) appear in the question text\n- [ ] Markdown-only mode uses \"Finalize plan file\" wording instead of \"Create issues\"\n- [ ] Phase 4 response parsing updated to handle AskUserQuestion answer format\n- [ ] \"Other\" freeform input feeds back into the refinement loop\n\n## Files\n\n- `src/commands/flight-plan.ejs` ‚Äî Phase 3 (~line 222) and Phase 4 (~line 241)","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-05T20:27:41.778693-08:00","created_by":"ryan","updated_at":"2026-02-05T20:42:17.031975-08:00","closed_at":"2026-02-05T20:42:17.031975-08:00","close_reason":"Replaced plain-text approval with AskUserQuestion in Phase 3/4 of flight-plan template"}
{"id":"reaper-aj4n","title":"fix(flight-plan): replace TAXIING with AWAITING CLEARANCE on Briefing Card","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-20T21:09:20.328687-08:00","created_by":"ryan","updated_at":"2026-02-20T21:09:43.671854-08:00","closed_at":"2026-02-20T21:09:43.671854-08:00","close_reason":"Closed"}
{"id":"reaper-an2","title":"Add coverage threshold flags to local test:coverage script","description":"In package.json, add --test-coverage-lines=70 --test-coverage-branches=70 --test-coverage-functions=70 to the test:coverage npm script. This achieves CI parity ‚Äî currently only .github/workflows/test.yml enforces thresholds. The npm test script (without coverage) remains unchanged.\n\n[Auto-added by verification]\nwork_type: configuration\nagent: reaper:bug-fixer\nassigned_files: package.json\nfile_ownership: exclusive\nacceptance_criteria:\n- test:coverage script includes --test-coverage-lines=70\n- test:coverage script includes --test-coverage-branches=70\n- test:coverage script includes --test-coverage-functions=70\n- npm run test:coverage executes successfully with thresholds enforced\n- npm test (without coverage) remains unchanged\n- Threshold values match .github/workflows/test.yml (70 for all three)\nsibling_issues: reaper-06y (command contracts), reaper-8xq (ship scan) ‚Äî no file overlap, all independent under epic reaper-lfc","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-07T12:33:10.628425-08:00","created_by":"ryan","updated_at":"2026-02-07T13:57:14.506499-08:00","closed_at":"2026-02-07T13:57:14.506499-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-an2","depends_on_id":"reaper-lfc","type":"blocks","created_at":"2026-02-07T12:33:15.214211-08:00","created_by":"ryan"}]}
{"id":"reaper-aqt","title":"Wire up test infrastructure","description":"## Objective\nConfigure package.json test script, verify node:test runs, establish module state reset pattern for config and stats singletons in build.js. Create test helper for process.exit stubbing.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] npm test runs node --test 'scripts/**/*.test.js' successfully\n- [ ] npm run test:coverage runs with --experimental-test-coverage\n- [ ] Test helper exists for resetting module state between tests\n- [ ] Test helper exists for stubbing process.exit\n- [ ] Existing 14 tests still pass\n\n## Scope\nFiles: package.json, scripts/build.test.js, scripts/test-helpers.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: exclusive (no overlap with other issues)\n**Parallel Group**: Must complete before group 2 can start","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:34.83211-08:00","created_by":"ryan","updated_at":"2026-02-06T00:36:39.594683-08:00","closed_at":"2026-02-06T00:36:39.594683-08:00","close_reason":"Test infrastructure wired up: npm test/test:coverage scripts, state reset helpers, coverage exclusions for untestable functions"}
{"id":"reaper-asw","title":"Add kawaii banner and reorganize README hero section","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-02-06T16:25:30.413053-08:00","created_by":"ryan","updated_at":"2026-02-06T16:25:40.451606-08:00","closed_at":"2026-02-06T16:25:40.451606-08:00","close_reason":"Closed"}
{"id":"reaper-aujy","title":"Replace epic language with parent/child in flight-plan and issue-tracker skills","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T19:29:30.847557-08:00","created_by":"ryan","updated_at":"2026-02-19T20:02:08.007207-08:00","closed_at":"2026-02-19T20:02:08.007207-08:00","close_reason":"Closed"}
{"id":"reaper-aujy.1","title":"Update flight-plan.ejs: replace epic language with parent/child throughout","description":"{\n  \"error\": \"resolving ID description: operation failed: failed to resolve ID: no issue found matching \\\"description\\\"\"\n}\n\n**Related to:** reaper-aujy.2 (coordinated terminology update)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:29:40.1755-08:00","created_by":"ryan","updated_at":"2026-02-19T20:02:07.998799-08:00","closed_at":"2026-02-19T20:02:07.998799-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-aujy.1","depends_on_id":"reaper-aujy","type":"parent-child","created_at":"2026-02-19T19:29:40.182449-08:00","created_by":"ryan"}]}
{"id":"reaper-aujy.2","title":"Update issue-tracker skills: add parent issue guidance per platform","description":"{\n  \"error\": \"resolving ID description: operation failed: failed to resolve ID: no issue found matching \\\"description\\\"\"\n}\n\n**Related to:** reaper-aujy.1 (coordinated terminology update)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:29:48.284353-08:00","created_by":"ryan","updated_at":"2026-02-19T20:02:08.003126-08:00","closed_at":"2026-02-19T20:02:08.003126-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-aujy.2","depends_on_id":"reaper-aujy","type":"parent-child","created_at":"2026-02-19T19:29:48.301138-08:00","created_by":"ryan"}]}
{"id":"reaper-aujy.3","title":"Build templates and run tests","description":"## Objective\nRun npm build and full test suite to verify all template changes compile correctly and no regressions were introduced.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] npm run build completes without errors\n- [ ] All tests pass (npm test)\n- [ ] Generated files in agents/, commands/, skills/ reflect the source changes\n- [ ] Code coverage meets 70%+ threshold\n\n## Scope\nFiles: package.json (build scripts), generated output files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:29:53.03205-08:00","created_by":"ryan","updated_at":"2026-02-19T20:02:08.005228-08:00","closed_at":"2026-02-19T20:02:08.005228-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-aujy.3","depends_on_id":"reaper-aujy","type":"parent-child","created_at":"2026-02-19T19:29:53.038255-08:00","created_by":"ryan"},{"issue_id":"reaper-aujy.3","depends_on_id":"reaper-aujy.1","type":"blocks","created_at":"2026-02-19T19:29:56.221515-08:00","created_by":"ryan"},{"issue_id":"reaper-aujy.3","depends_on_id":"reaper-aujy.2","type":"blocks","created_at":"2026-02-19T19:29:56.289297-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz","title":"Pre-deploy polish for Reaper v1.7.0","description":"Seven fixes identified by huddle audit before merging develop to main. See .claude/plans/reaper-huddle-deploy-readiness-audit.md for full audit and .claude/plans/reaper-v170-deploy-polish.md for implementation plan.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-04T18:36:47.06677-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.685238-08:00","closed_at":"2026-02-04T19:09:12.685238-08:00","close_reason":"Closed"}
{"id":"reaper-ayz.1","title":"Fix security-auditor validation contract","description":"## Objective\nCreate a security-specific pre-work validation partial that does NOT require TEST_RUNNER_RESULTS. The current pre-work-validation-review.ejs requires TEST_RUNNER_RESULTS but takeoff explicitly says not to send it to security-auditor (line 751). This contract mismatch causes security-auditor to silently exit.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] New partial src/partials/pre-work-validation-security.ejs exists with 3 validation requirements (TASK, WORKING_DIR, PLAN_CONTEXT)\n- [ ] TEST_RUNNER_RESULTS is not mentioned in the new partial\n- [ ] security-auditor.ejs line 15 includes the new partial instead of pre-work-validation-review\n- [ ] Tone of new partial follows natural language (no ALL-CAPS emphasis stacking)\n- [ ] pre-work-validation-review.ejs remains unchanged (still used by code-reviewer)\n\n## Scope\nFiles: src/partials/pre-work-validation-security.ejs (new), src/agents/security-auditor.ejs (edit line 15)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T18:36:59.976619-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.662831-08:00","closed_at":"2026-02-04T19:09:12.662831-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.1","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:36:59.992853-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.2","title":"Fix branch-manager and ops agent Stop hooks","description":"## Objective\nBranch-manager, performance-engineer, deployment-engineer, and incident-responder all use orchestrate-coding-agent.sh as their Stop hook. This script tells the orchestrator to re-enter quality gates, which is incorrect for branch-manager (terminal in pipeline) and ops agents.\n\nCreate role-appropriate hook scripts:\n- orchestrate-branch-manager.sh: Post-merge guidance (worktree cleanup, ticket closure, user notification)\n- orchestrate-ops-agent.sh: Ops-appropriate completion instructions (no quality gate re-entry)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] scripts/orchestrate-branch-manager.sh exists with post-merge instructions\n- [ ] scripts/orchestrate-ops-agent.sh exists with ops-appropriate completion instructions\n- [ ] branch-manager.ejs hook references orchestrate-branch-manager.sh\n- [ ] performance-engineer.ejs, deployment-engineer.ejs, incident-responder.ejs hooks reference orchestrate-ops-agent.sh\n- [ ] Neither new script instructs the orchestrator to re-enter quality gates\n\n## Scope\nFiles: scripts/orchestrate-branch-manager.sh (new), scripts/orchestrate-ops-agent.sh (new), src/agents/branch-manager.ejs, src/agents/performance-engineer.ejs, src/agents/deployment-engineer.ejs, src/agents/incident-responder.ejs","notes":"Cross-reference: reaper-ayz.3 also modifies performance-engineer.ejs (no-self-reporting extraction, ~line 204). This issue modifies only the Stop hook reference (line 9). Edits are in different sections and will not conflict.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T18:37:04.720558-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.672438-08:00","closed_at":"2026-02-04T19:09:12.672438-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.2","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:04.730187-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.3","title":"Clean up shared partial emphasis and extract no-self-reporting partial","description":"## Objective\nTwo related changes:\n\n(A) Tone down emphasis in shared partials. Replace ALL-CAPS + bold + CRITICAL with natural language for procedural requirements. Reserve strong emphasis ONLY for git-prohibitions.ejs (genuine safety constraint). Affected partials: pre-work-validation-coding.ejs, artifact-cleanup-coding.ejs, artifact-cleanup-review.ejs, no-commits-policy.ejs.\n\n(B) Extract the duplicated no-self-report-metrics instruction from 4 coding agents into src/partials/no-self-reporting.ejs. The text varies slightly across agents; unify to one canonical version.\n\nReference: docs/PROMPT_ENGINEERING.md flags aggressive emphasis as an Opus 4.5 anti-pattern.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] pre-work-validation-coding.ejs uses natural language (no CRITICAL, reduced bold)\n- [ ] artifact-cleanup-coding.ejs uses natural language\n- [ ] artifact-cleanup-review.ejs uses natural language\n- [ ] no-commits-policy.ejs uses natural language (except git safety stays emphatic)\n- [ ] git-prohibitions.ejs retains strong emphasis (safety constraint - do not change)\n- [ ] src/partials/no-self-reporting.ejs exists with canonical instruction\n- [ ] bug-fixer.ejs, feature-developer.ejs, refactoring-dev.ejs, performance-engineer.ejs include new partial instead of inline text\n\n## Scope\nFiles: src/partials/pre-work-validation-coding.ejs, src/partials/artifact-cleanup-coding.ejs, src/partials/artifact-cleanup-review.ejs, src/partials/no-commits-policy.ejs, src/partials/no-self-reporting.ejs (new), src/agents/bug-fixer.ejs, src/agents/feature-developer.ejs, src/agents/refactoring-dev.ejs, src/agents/performance-engineer.ejs","notes":"Cross-reference: reaper-ayz.2 also modifies performance-engineer.ejs (Stop hook reference, line 9). This issue modifies the no-self-reporting text (~line 204) and partial includes. Edits are in different sections and will not conflict.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:10.68546-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.676163-08:00","closed_at":"2026-02-04T19:09:12.676163-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.3","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:10.701949-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.4","title":"Simplify technical-writer JSON schema","description":"## Objective\nReplace the 96-line deeply nested JSON schema in technical-writer.ejs (lines 162-257) with a focused structure matching other agents. The current schema with word_count, total_pages, truthfulness_assessment, quality_metrics, and other nested metric objects encourages the agent to fabricate metrics to fill every field.\n\nNew schema should include: gate_status, task_id, working_dir, summary, blocking_issues, generated_documentation (list of files written), files_modified. Under 30 lines.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] JSON schema is under 30 lines\n- [ ] Contains gate_status, task_id, working_dir, summary, blocking_issues, generated_documentation, files_modified\n- [ ] No word_count, total_pages, or deeply nested metric objects\n- [ ] Field definitions are clear and concise\n\n## Scope\nFiles: src/agents/technical-writer.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:14.252252-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.67829-08:00","closed_at":"2026-02-04T19:09:12.67829-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.4","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:14.269816-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.5","title":"Add claude-sync reference and plan file discovery to takeoff","description":"## Objective\nTwo changes to src/commands/takeoff.ejs:\n\n(A) Self-learning consumer: In the Touchdown output section (~line 968), replace the current 'Apply these? I can add them to your project CLAUDE.md now.' with a reference to /reaper:claude-sync as the recommended follow-up when suggested_claude_md_entries are surfaced.\n\n(B) Plan file discovery: Add a step between Phase 3 (~line 119) and Phase 4 (~line 129) that searches .claude/plans/ for a matching plan file when a task ID is provided. If found, append its Research section to IMPLEMENTATION_PLAN to preserve flight-plan codebase research that would otherwise be lost after /clear. Graceful fallback if no plan file found.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Touchdown section references /reaper:claude-sync for suggested CLAUDE.md entries\n- [ ] Plan file discovery searches .claude/plans/ for files matching the task ID\n- [ ] If plan file found, its research context is appended to IMPLEMENTATION_PLAN\n- [ ] If no plan file found, behavior is unchanged (graceful fallback)\n\n## Scope\nFiles: src/commands/takeoff.ejs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-04T18:37:18.469191-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.680308-08:00","closed_at":"2026-02-04T19:09:12.680308-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.5","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:18.485968-08:00","created_by":"ryan"}]}
{"id":"reaper-ayz.6","title":"Build and verify rendered output","description":"## Objective\nRun npm run build to compile all EJS templates after all fixes are applied. Verify generated files at project root reflect all changes correctly.\n\nSpot-check key files:\n- agents/security-auditor.md (no TEST_RUNNER_RESULTS requirement)\n- agents/branch-manager.md (new hook reference)\n- Coding agent rendered output (no aggressive emphasis from partials)\n- agents/technical-writer.md (simplified schema)\n- commands/takeoff.md (claude-sync reference, plan file discovery)\n\n## Acceptance Criteria\n- [ ] npm run build succeeds without errors\n- [ ] Generated files match source template changes\n- [ ] Both source and generated files committed together\n\n## Scope\nFiles: All generated files in agents/, commands/, hooks/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-04T18:37:21.529405-08:00","created_by":"ryan","updated_at":"2026-02-04T19:09:12.682465-08:00","closed_at":"2026-02-04T19:09:12.682465-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz","type":"parent-child","created_at":"2026-02-04T18:37:21.541548-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.1","type":"blocks","created_at":"2026-02-04T18:37:25.886188-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.2","type":"blocks","created_at":"2026-02-04T18:37:25.960297-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.3","type":"blocks","created_at":"2026-02-04T18:37:26.044028-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.4","type":"blocks","created_at":"2026-02-04T18:37:26.125531-08:00","created_by":"ryan"},{"issue_id":"reaper-ayz.6","depends_on_id":"reaper-ayz.5","type":"blocks","created_at":"2026-02-04T18:37:26.19373-08:00","created_by":"ryan"}]}
{"id":"reaper-b2f","title":"Improve CLAUDE.md prompt quality per ai-prompt-engineer audit","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T21:05:00.511731-08:00","created_by":"ryan","updated_at":"2026-02-05T21:05:09.794629-08:00","closed_at":"2026-02-05T21:05:09.794629-08:00","close_reason":"Applied all ai-prompt-engineer audit recommendations to CLAUDE.md"}
{"id":"reaper-b3t3","title":"Fix scope blindness and silent failure in TDD coding agents","description":"Two confirmed failure modes observed in production feature-developer runs:\n\n1. Scope blindness: agents completed explicit acceptance criteria but missed contextually related changes in the same file (dangling references, broken imports).\n2. Silent failure: agent reported success and described correct changes in JSON output but made zero actual file modifications.\n\nFix: new pre-output-verification partial (shared by feature-developer + bug-fixer), inline blast-radius instruction in feature-developer, structural contract tests.\n\nSee plan: .claude/plans/reaper-feature-dev-failure-fix.md","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-19T14:12:26.362576-08:00","created_by":"ryan","updated_at":"2026-02-19T15:43:58.72178-08:00","closed_at":"2026-02-19T15:43:58.72178-08:00","close_reason":"Closed"}
{"id":"reaper-b6n","title":"Create docs/commands.md ‚Äî all 6 commands with full examples","description":"## Objective\nCreate user-facing command reference. Move all 6 command sections from README lines 165-234 and expand with full examples and usage patterns.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria (all 6 commands, syntax, examples)\n2. GREEN: Write the doc meeting all criteria\n3. BLUE: Refactor for discoverability\n\n## Acceptance Criteria\n- [ ] All 6 commands documented: takeoff, flight-plan, squadron, ship, status-worktrees, claude-sync\n- [ ] Each command: purpose, syntax, examples, what happens under the hood\n- [ ] Primary commands (takeoff, flight-plan, squadron) get fuller treatment\n- [ ] Utility commands (ship, status-worktrees, claude-sync) documented as secondary\n- [ ] All invoked via /reaper:command-name syntax noted\n- [ ] Link back to README for context\n\n## Cross-References\n[Auto-added by verification]\n- README (reaper-xio) features takeoff, flight-plan, squadron prominently in \"Start Small, Go Big\" section ‚Äî this doc expands on all 6 with full detail\n- README (reaper-xio) will link to this file as docs/commands.md\n- This doc links back to README ‚Äî use relative path ../README.md\n- Parallel work: reaper-c7e, reaper-8az, reaper-c45, reaper-cm8 are written concurrently on non-overlapping files\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: docs/commands.md\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:24.872133-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.235234-08:00","closed_at":"2026-02-06T13:53:53.235234-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-b6n","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:22.140769-08:00","created_by":"ryan"}]}
{"id":"reaper-b7j","title":"ship command: Azure DevOps detected but no PR creation logic","description":"ship.ejs Step 3b detects Azure DevOps but Step 6 has no Azure PR creation implementation ‚Äî falls through to Unknown/Unsupported host. Either add az repos pr create support or remove the Azure detection to avoid confusion.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:45.07606-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.804932-08:00","closed_at":"2026-02-06T23:35:24.804932-08:00","close_reason":"Closed"}
{"id":"reaper-bbx","title":"takeoff very_small_direct conflicts with worktree safety rule","description":"takeoff.ejs very_small_direct strategy says 'No worktree isolation needed' but CLAUDE.md safety rules say 'Always work in ./trees/ worktrees'. Either the strategy should still create a worktree or it needs to be documented as an explicit exception.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:11.988505-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.14939-08:00","closed_at":"2026-02-06T23:24:40.14939-08:00","close_reason":"Closed"}
{"id":"reaper-bf3","title":"Refactor security-auditor to use review partials","description":"Security-auditor uses output-requirements but has inline pre-work validation and cleanup. Add: pre-work-validation-review (or security variant), artifact-cleanup-review. Preserve security-specific content (Trivy, Semgrep, TruffleHog scanning).\n\nFiles:\n- src/agents/security-auditor.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review\n- artifact-cleanup-review\n- output-requirements (already present, verify isReviewAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-eg9 (test-runner - same review partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/security-auditor.md contains partial content\n- Security-specific sections preserved (Trivy, Semgrep, TruffleHog)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:50.277945-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.467977-08:00","closed_at":"2026-01-23T12:51:59.467977-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-bf3","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.988784-08:00","created_by":"ryan"}]}
{"id":"reaper-bhf9","title":"Move issue-tracker-github scripts to src/skills/","description":"## Objective\nMove 2 shell scripts from skills/issue-tracker-github/scripts/ to src/skills/issue-tracker-github/scripts/. Run npm run build to verify they are copied back. Confirm SKILL.md references remain valid.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Build tests from reaper-v2w1 will fail until scripts are in src/\n2. GREEN: Move scripts and run build ‚Äî tests should now pass\n3. BLUE: Verify script paths in SKILL.md remain valid\n\n## Acceptance Criteria\n- [ ] 2 scripts exist in src/skills/issue-tracker-github/scripts/: gh-list-sub-issues.sh, gh-link-sub-issues.sh\n- [ ] npm run build copies both scripts to skills/issue-tracker-github/scripts/\n- [ ] Build tests from reaper-v2w1 pass\n- [ ] issue-tracker-github/scripts/ files are no longer manually committed ‚Äî only via build output\n\n## Scope\nFiles: src/skills/issue-tracker-github/scripts/ (2 new files), skills/issue-tracker-github/scripts/ (2 moved files)\n\nRef: reaper-cz55","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T13:12:16.290818-08:00","created_by":"ryan","updated_at":"2026-02-18T17:24:50.149988-08:00","closed_at":"2026-02-18T17:24:50.149988-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bhf9","depends_on_id":"reaper-v2w1","type":"blocks","created_at":"2026-02-18T13:12:25.37685-08:00","created_by":"ryan"}]}
{"id":"reaper-bou","title":"Enhance takeoff \u0026 flight-plan commands","description":"Improve flight-plan and takeoff commands to:\n1. Present initial scope with minimal clarifying questions, refine iteratively\n2. Explore codebase in parallel before planning\n3. Invoke workflow-planner as forked subagent with full session context\n4. Skip redundant workflow-planner calls when issues are pre-planned\n\nSuccess Criteria:\n- flight-plan asks only critical clarifying questions upfront\n- flight-plan uses AskUserQuestion iteratively during refinement\n- flight-plan spawns parallel Explore agents for codebase research\n- flight-plan invokes workflow-planner as forked subagent\n- takeoff detects pre-planned issues and skips workflow-planner\n- All changes build correctly","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T15:33:34.568401-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.6301-08:00","closed_at":"2026-01-17T15:59:06.6301-08:00","close_reason":"Implemented and merged to develop"}
{"id":"reaper-bou.1","title":"Add iterative scope refinement with AskUserQuestion","description":"Modify flight-plan planning flow to:\n1. Minimize upfront questions - Only ask critical clarifying questions if input is truly ambiguous\n2. Present initial scope quickly - Generate first-pass scope without excessive questioning\n3. Refine iteratively - Use AskUserQuestion during subsequent refinement cycles as feedback comes in\n4. Avoid question overload - Never present more than 2-3 questions at once\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.2 (also modifies src/commands/flight-plan.ejs - coordinate changes)\n\nScope Boundary: This issue handles ONLY the question/refinement flow sections. Do NOT modify Explore agent spawning (handled by reaper-bou.2) or workflow-planner invocation (handled by reaper-bou.3).\n\nAcceptance Criteria:\n- Initial scope presented with minimal (0-2) upfront questions\n- AskUserQuestion used during refinement, not as blocking interview phase\n- User can provide feedback naturally without answering a survey\n- Flow feels conversational, not interrogative\n\nParallel Group: A (runs parallel with reaper-bou.2)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:46.937109-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.60992-08:00","closed_at":"2026-01-17T15:59:06.60992-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.1","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:46.947152-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.2","title":"Add parallel Explore agents for codebase research","description":"After gathering initial requirements, spawn parallel Explore subagents to research the codebase:\n- Search for relevant files/patterns based on user requirements\n- Understand existing architecture in affected areas\n- Identify potential dependencies and integration points\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.1 (also modifies src/commands/flight-plan.ejs - coordinate changes)\n\nScope Boundary: This issue handles ONLY the Explore agent spawning and result aggregation. Do NOT modify the question/refinement flow (handled by reaper-bou.1) or workflow-planner invocation (handled by reaper-bou.3).\n\nAcceptance Criteria:\n- Multiple Explore agents spawn in parallel using Task tool\n- Results are aggregated and used to inform planning\n- Research happens BEFORE workflow decomposition\n\nParallel Group: A (runs parallel with reaper-bou.1)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.213808-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.618175-08:00","closed_at":"2026-01-17T15:59:06.618175-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.2","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.214671-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.3","title":"Invoke workflow-planner as forked subagent","description":"Invoke reaper:workflow-planner as a FORKED subagent that receives full parent session context. This ensures the planner has access to:\n- All prior conversation context (user requirements, clarifications)\n- Explore agent results\n- Any files already read in the session\n\nThe fork pattern allows workflow-planner to leverage everything the parent has learned.\n\nFiles: src/commands/flight-plan.ejs\n\nRelated: reaper-bou.1, reaper-bou.2 (both also modify src/commands/flight-plan.ejs - this issue integrates their outputs)\n\nScope Boundary: This issue handles ONLY the workflow-planner invocation and result parsing. Assumes question/refinement (reaper-bou.1) and Explore agents (reaper-bou.2) are already implemented.\n\nAcceptance Criteria:\n- workflow-planner invoked with mechanism to pass full session context (fork)\n- Planner can reference prior conversation without re-explaining\n- Planning output is parsed and used to create issues\n- Verification phase (Phase 6) continues to work as before\n\nExecution Order: Runs AFTER reaper-bou.1 and reaper-bou.2 complete (sequential dependency)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.431131-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.620981-08:00","closed_at":"2026-01-17T15:59:06.620981-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.432025-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou.1","type":"blocks","created_at":"2026-01-17T15:33:54.119081-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.3","depends_on_id":"reaper-bou.2","type":"blocks","created_at":"2026-01-17T15:33:54.184589-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.4","title":"Skip workflow-planner for pre-planned issues","description":"Modify takeoff to detect when an epic/issue already has complete planning metadata and skip the redundant workflow-planner call.\n\nDetection criteria for pre-planned issues:\n- Issue has child tasks (parent-child relationship)\n- Child tasks have acceptance criteria\n- Dependencies are already mapped\n\nFiles: src/commands/takeoff.ejs\n\nScope Boundary: This issue modifies ONLY takeoff.ejs. Changes are independent from flight-plan modifications (reaper-bou.1, .2, .3).\n\nAcceptance Criteria:\n- takeoff queries issue hierarchy before calling workflow-planner\n- If pre-planned, skip to strategy execution directly\n- If not pre-planned, call workflow-planner as before\n- Clear logging indicates which path was taken\n\nParallel Group: B (runs parallel with Group A - no file overlap)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.650021-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.623365-08:00","closed_at":"2026-01-17T15:59:06.623365-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.4","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.650912-08:00","created_by":"ryan"}]}
{"id":"reaper-bou.5","title":"Build and validate templates","description":"Run npm run build to compile EJS templates and verify output.\n\nFiles: Generated files (commands/takeoff.md, commands/flight-plan.md)\n\nScope Boundary: This is the final validation step. Do NOT modify source templates - only build and verify.\n\nAcceptance Criteria:\n- Build completes without errors\n- Generated files match expected structure\n- Both source and generated files ready for commit\n\nExecution Order: Runs LAST after all other units complete (sequential dependency on all)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T15:33:47.866571-08:00","created_by":"ryan","updated_at":"2026-01-17T15:59:06.626456-08:00","closed_at":"2026-01-17T15:59:06.626456-08:00","close_reason":"Implemented and merged to develop","dependencies":[{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou","type":"parent-child","created_at":"2026-01-17T15:33:47.867233-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.1","type":"blocks","created_at":"2026-01-17T15:33:54.385054-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.2","type":"blocks","created_at":"2026-01-17T15:33:54.448838-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.3","type":"blocks","created_at":"2026-01-17T15:33:54.511085-08:00","created_by":"ryan"},{"issue_id":"reaper-bou.5","depends_on_id":"reaper-bou.4","type":"blocks","created_at":"2026-01-17T15:33:54.574689-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc","title":"/reaper:start command ‚Äî educational entry-point for new users","description":"Dual-mode command that teaches new users which Reaper workflow fits their situation. Bare invocation shows Runway Card with three entrypoint boxes (squadron, flight-plan, takeoff) connected by workflow arrows. With-input mode shows Input Analysis Card breaking down detected key elements and routing factors, then presents AskUserQuestion with recommended workflow. Not a permanent primary entry point ‚Äî graduates users to direct commands. Plan: .claude/plans/reaper-start-command.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:25:32.42416-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.267019-08:00","closed_at":"2026-02-07T17:10:40.267019-08:00","close_reason":"Closed"}
{"id":"reaper-bsc.1","title":"Add 'start' context to visual-vocabulary partial (Runway + Analysis cards)","description":"Add new context === 'start' branch to src/partials/visual-vocabulary.ejs with two card templates:\n\nCard 1 ‚Äî Runway Card (bare invocation): Branded REAPER header + three entrypoint boxes (SQUADRON, FLIGHT-PLAN, TAKEOFF) connected by '‚Üì feeds into' arrows showing workflow progression. Each box has tagline, description, and command syntax.\n\nCard 2 ‚Äî Input Analysis Card (with-input): Branded REAPER header + single large box containing quoted user input, KEY ELEMENTS section with ‚òÖ bullets and sub-detail, ROUTING FACTORS as key-value pairs. Sections separated by '* * *'.\n\nNo gauge states (start has no work status). Opt-out mechanism must still work (Reaper: disable ASCII art).\n\nTDD: Write failing test for 'start' context compilation first, then implement.\nFiles: src/partials/visual-vocabulary.ejs","notes":"[Auto-added by verification] Cross-reference: The card templates defined here (Runway Card, Input Analysis Card) are consumed by the start command template (reaper-bsc.2) via EJS include. No file overlap ‚Äî both can be authored in parallel.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:00.222594-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.23041-08:00","closed_at":"2026-02-07T17:10:40.23041-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.1","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:00.230358-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc.2","title":"Create src/commands/start.ejs command template","description":"Core command template with two modes branching on [ARGUMENTS]:\n\nMode 1 (bare invocation): Render Runway Card from visual-vocabulary. Present AskUserQuestion with 3 options: 'I have a design question' (squadron), 'I have a feature to plan' (flight-plan), 'I have a task to build' (takeoff). On selection: Skill() invocation.\n\nMode 2 (with input): Classify input using deterministic heuristic: (1) Task ID pattern (PROJ-123, repo-a3f, #456) ‚Üí recommend takeoff, (2) Design keywords (architecture, design, decision, migrate, strategy, trade-off, 'should we', compare) AND no task ID ‚Üí recommend squadron, (3) Everything else ‚Üí recommend flight-plan. Render Input Analysis Card. ALWAYS present AskUserQuestion with recommended option first marked '(Recommended)'. Descriptions explain WHY each workflow fits. On selection: Skill('reaper:command-name', args='[original-user-input]').\n\nScope boundary: classify and delegate only. Never execute downstream logic.\nFrontmatter: description field only.\nFiles: src/commands/start.ejs","notes":"[Auto-added by verification] Cross-reference: This command template includes visual-vocabulary with context 'start' (created by reaper-bsc.1). Files don't overlap so both can be authored in parallel, but the build must run after both complete. The Runway Card and Input Analysis Card layouts are defined in reaper-bsc.1.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:09.105647-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.249822-08:00","closed_at":"2026-02-07T17:10:40.249822-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.2","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:09.116001-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc.3","title":"Add visual-vocabulary test coverage for 'start' context","description":"Add 'start' to VALID_CONTEXTS array in scripts/visual-vocabulary.test.js. Write test suite:\n\n- Compilation: 'start' context compiles without errors\n- Runway Card content: includes SQUADRON, FLIGHT-PLAN, TAKEOFF entrypoint labels\n- Input Analysis Card content: includes KEY ELEMENTS header and ROUTING FACTORS header\n- Branded header: includes REAPER header with heavy rule\n- No gauge states: start does NOT render gauge bars (no LANDED/IN FLIGHT/TAXIING/FAULT bars)\n- Context isolation: does NOT include preflight card, departure card, fleet dashboard\n\nTDD: Tests written first, then verify they pass against Unit 1 implementation.\nFiles: scripts/visual-vocabulary.test.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:14.563093-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.253182-08:00","closed_at":"2026-02-07T17:10:40.253182-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.3","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:14.570727-08:00","created_by":"ryan"},{"issue_id":"reaper-bsc.3","depends_on_id":"reaper-bsc.1","type":"blocks","created_at":"2026-02-07T16:26:40.629965-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc.5","title":"Update README.md with /start helper mention","description":"Add a helper mention for /start near the 'Three Commands' section in README.md. NOT a new major section ‚Äî a brief blockquote callout for new users.\n\nProposed placement (before '## Three Commands' on ~line 49):\n\u003e **New to Reaper?** Run '/reaper:start' ‚Äî it'll ask what you're trying to do and point you to the right command.\n\nThree Commands section content stays unchanged. Tone matches existing README voice.\nFiles: README.md","notes":"[Auto-added by verification] Cross-reference: reaper-bsc.6 (docs/commands.md) is also a docs update blocked by reaper-bsc.2. Both are parallelizable once reaper-bsc.2 completes. No file overlap.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:33.847848-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.257028-08:00","closed_at":"2026-02-07T17:10:40.257028-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.5","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:33.857764-08:00","created_by":"ryan"},{"issue_id":"reaper-bsc.5","depends_on_id":"reaper-bsc.2","type":"blocks","created_at":"2026-02-07T16:26:40.693507-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc.6","title":"Update docs/commands.md with /start reference","description":"Add /reaper:start documentation to docs/commands.md. Place FIRST in the document (before takeoff) since it is the entry point for new users.\n\nFollow the established command documentation pattern:\n- Bold title with one-line description\n- Usage section with code examples (both bare and with-input)\n- Input section documenting both modes\n- What happens section documenting classification heuristic and AskUserQuestion flow\n\nInclude separator line between sections.\nFiles: docs/commands.md","notes":"[Auto-added by verification] Cross-reference: reaper-bsc.5 (README.md) is also a docs update blocked by reaper-bsc.2. Both are parallelizable once reaper-bsc.2 completes. No file overlap.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:35.365143-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.259727-08:00","closed_at":"2026-02-07T17:10:40.259727-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.6","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:35.429362-08:00","created_by":"ryan"},{"issue_id":"reaper-bsc.6","depends_on_id":"reaper-bsc.2","type":"blocks","created_at":"2026-02-07T16:26:40.756779-08:00","created_by":"ryan"}]}
{"id":"reaper-bsc.7","title":"Update CLAUDE.md with /start in command lists","description":"Add /reaper:start to two locations in CLAUDE.md:\n\n1. User-invocable commands reference (~line 38 area) ‚Äî add to the prose list\n2. Key Commands code block (lines 83-102) ‚Äî add as first entry with comment '# Not sure where to start?'\n\nExisting command entries unchanged.\nFiles: CLAUDE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:26:36.529351-08:00","created_by":"ryan","updated_at":"2026-02-07T17:10:40.263052-08:00","closed_at":"2026-02-07T17:10:40.263052-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-bsc.7","depends_on_id":"reaper-bsc","type":"parent-child","created_at":"2026-02-07T16:26:36.566868-08:00","created_by":"ryan"}]}
{"id":"reaper-buw9","title":"Update takeoff completion to suggest /reaper:ship for PR creation","description":"## Objective\nUpdate src/commands/takeoff.ejs completion section to surface /reaper:ship as an explicit next-step option alongside the existing merge-to-develop path.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior (contracts.test.js: verify completion section contains ship reference)\n2. GREEN: Edit takeoff.ejs completion prompt and Response Handling table to add /reaper:ship option\n3. BLUE: Run npm run build; verify generated file; check no unintended side effects via git diff\n\n## Acceptance Criteria\n- [ ] The control tower prompt in the Completion section mentions /reaper:ship as an option for opening a PR\n- [ ] The Response Handling table includes a row mapping PR-intent language ('open a PR', 'create PR') to /reaper:ship \u003cworktree-path\u003e\n- [ ] The existing merge-to-develop row is preserved and unchanged\n- [ ] npm run build succeeds and only commands/takeoff.md changes (no other generated files affected)\n- [ ] Contract tests pass\n\n## Scope\nFiles: src/commands/takeoff.ejs, commands/takeoff.md (generated)","notes":"[Auto-added by verification] Scope clarification: scripts/contracts.test.js is also in scope for the RED phase (add a contract pattern verifying the completion section references /reaper:ship). The work_type for this unit is agent_prompt. Assigned files: src/commands/takeoff.ejs, commands/takeoff.md (generated), scripts/contracts.test.js.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T20:55:58.908268-08:00","created_by":"ryan","updated_at":"2026-02-19T21:12:12.682698-08:00","closed_at":"2026-02-19T21:12:12.682698-08:00","close_reason":"Merged feature/reaper-buw9-ship-option into develop. Takeoff completion now surfaces /reaper:ship as a PR alternative via orchestrator-invoked command."}
{"id":"reaper-c15v","title":"Prevent TDD phase splitting across work units in workflow-planner","description":"workflow-planner sometimes plans 'write failing tests' as one work unit and 'implement to pass' as a later unit. This breaks quality gates since a unit with only failing tests cannot pass. Fix: add explicit anti-pattern rule and reinforce that TDD Red-Green-Blue is an internal workflow within each work unit, not a decomposition strategy. Every work unit must leave all tests green upon completion.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-19T20:02:42.955888-08:00","created_by":"ryan","updated_at":"2026-02-19T20:03:39.80916-08:00","closed_at":"2026-02-19T20:03:39.80916-08:00","close_reason":"Fixed in fab5acc"}
{"id":"reaper-c33","title":"Update command descriptions with aviation theming","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T18:59:12.378956-08:00","created_by":"ryan","updated_at":"2026-01-02T19:02:01.694632-08:00","closed_at":"2026-01-02T19:02:01.694632-08:00","close_reason":"Closed"}
{"id":"reaper-c45","title":"Create docs/auto-formatting.md ‚Äî formatter support matrix","description":"## Objective\nCreate user-facing auto-formatting documentation. Extract from current README lines 271-292 with full formatter/detection table.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria (all formatters listed, detection logic explained)\n2. GREEN: Write the doc meeting all criteria\n3. BLUE: Refactor for scannability\n\n## Acceptance Criteria\n- [ ] Explains PostToolUse hook concept (formats on every write/edit)\n- [ ] Full language/formatter/detection table (9 language families, 13+ formatters)\n- [ ] Detection priority order per language\n- [ ] Note: formatters not installed are silently skipped\n- [ ] Link back to README for context\n\n## Cross-References\n[Auto-added by verification]\n- README (reaper-xio) will link to this file as docs/auto-formatting.md with 1-line teaser\n- This doc links back to README ‚Äî use relative path ../README.md\n- Parallel work: reaper-c7e, reaper-8az, reaper-cm8, reaper-b6n are written concurrently on non-overlapping files\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: docs/auto-formatting.md\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:19.639211-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.239377-08:00","closed_at":"2026-02-06T13:53:53.239377-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-c45","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:21.900482-08:00","created_by":"ryan"}]}
{"id":"reaper-c4r","title":"Fix pre-planned depth handling for nested hierarchies","description":"Ensure takeoff correctly processes task trees deeper than one level (epic to phases to tasks). Expand Pre-Planned Detection to check if children have children via LIST_CHILDREN on each. If tree is deeper than one level, flatten to leaf-level work units. Intermediate nodes become grouping labels not work units. Strategy selection uses leaf-level non-closed task count. Add Full Tree Scope documentation clarifying takeoff always executes the entire tree. TDD: Write tests first. Files: src/commands/takeoff.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-7fw and reaper-key. This issue owns the Pre-Planned Detection section only. Must not modify Per-Unit Cycle, Quick Reference, progress announcement (owned by reaper-7fw) or Continuation Rule, Completion section (owned by reaper-key). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Pre-Planned Detection section instructs LIST_CHILDREN on each child to detect deeper nesting\n- [ ] When tree depth \u003e 1, instructions flatten to leaf-level work units\n- [ ] Intermediate nodes are explicitly described as grouping labels, not work units\n- [ ] Strategy selection criteria reference leaf-level non-closed task count\n- [ ] A Full Tree Scope subsection or paragraph clarifies that takeoff always executes the entire tree\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:32.094718-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:42.416327-08:00","closed_at":"2026-02-06T12:22:42.416327-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-c4r","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.533034-08:00","created_by":"ryan"}]}
{"id":"reaper-c6f","title":"Update global ~/.claude/CLAUDE.md (user action)","description":"USER ACTION REQUIRED. Update global ~/.claude/CLAUDE.md to remove SPICE references.\n\n**Work Type:** documentation\n\n**Context:** \nThe global ~/.claude/CLAUDE.md references docs/spice/CLAUDE-IMPORT.md as mandatory reading (line 3) and links to 4 SPICE docs (lines 16-19). This file is outside the repo and cannot be migrated automatically.\n\n**Required Changes:**\n1. Line 3: Remove mandatory reading of CLAUDE-IMPORT.md\n2. Lines 16-19: Remove or update SPICE doc links\n3. Update references to point at updated project CLAUDE.md instead\n\n**Acceptance Criteria:**\n- ~/.claude/CLAUDE.md no longer references docs/spice/\n- Mandatory reading statement updated or removed\n- Reference documentation links updated\n- User confirms completion\n\n**Files:** \n- ~/.claude/CLAUDE.md (outside repo, user must edit manually)\n\n**Note:** This is a user action item. No agent can complete this automatically.\n\nRef: reaper-0u4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T21:00:29.740626-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.745008-08:00","closed_at":"2026-02-06T21:46:32.745008-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-c6f","depends_on_id":"reaper-64m","type":"blocks","created_at":"2026-02-06T21:00:36.162547-08:00","created_by":"ryan"},{"issue_id":"reaper-c6f","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.869622-08:00","created_by":"ryan"}]}
{"id":"reaper-c6o","title":"Redesign huddle skill: autonomous facilitator with TMZ pit energy","description":"Rewrite src/commands/huddle.ejs implementing all 14 design decisions from the huddle session. Replace the current 7-phase structure with the new 4-phase INTAKE/OPEN/CLASH/CONVERGE flow.\n\nKey changes:\n- INTAKE: Facilitator addresses the room, auto-selects experts, no PO confirmation gates\n- Scout-then-swarm: narrow concepts get a scout first, broad concepts deploy full panel\n- 3-agent-per-topic minimum enforced by facilitator\n- Question heuristic: ask PO only for info unknowable from codebase + domain expertise\n- OPEN: Forum-mode 300-word cap, capitalized job title nameplates (SECURITY AUDITOR)\n- CLASH: Adversarial framing, agents respond to each other by name, up to 2 cycles\n- Fresh-vs-resume lifecycle: resume for refinement/codebase work, fresh for opinion challenges\n- CONVERGE: First PO interaction with genuine decision points\n- No mandatory session document (conversation-first, file on request)\n- Default ending: offer flight-plan launch, not file dump\n- TMZ pit energy throughout, light humanizing touches on agents\n- Preserve: auto-selection keyword table, non-Reaper agent discovery, tool prohibitions, error handling\n\nFull specification in conversation history and .claude/plans/reaper-huddle-redesign.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-05T20:27:42.809121-08:00","created_by":"ryan","updated_at":"2026-02-05T21:06:03.26168-08:00","closed_at":"2026-02-05T21:06:03.26168-08:00","close_reason":"Huddle skill redesigned with 4-phase INTAKE/OPEN/CLASH/CONVERGE flow, prompt audit fixes applied, merged to develop"}
{"id":"reaper-c7e","title":"Create docs/agents.md ‚Äî full agent roster","description":"## Objective\nCreate user-facing agent catalog organized by category. Extract from current README lines 119-162 and expand with full 25-agent roster.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria (all 25 agents present, organized by category, reaper: prefix)\n2. GREEN: Write the doc meeting all criteria\n3. BLUE: Refactor for readability and consistency\n\n## Acceptance Criteria\n- [ ] Title and brief intro explaining agent concept\n- [ ] Organized by category matching CLAUDE.md roster: Planning (10), Development (4), Quality (4), Ops (3), Meta (3), plus validation-runner\n- [ ] Each agent: name with reaper: prefix, one-line purpose\n- [ ] Total count: 25 agents documented (verify against agents/ directory)\n- [ ] Note that agents are dispatched automatically ‚Äî developers don't invoke them directly\n- [ ] Link back to README for context\n\n## Cross-References\n[Auto-added by verification]\n- README (reaper-xio) will link to this file as docs/agents.md ‚Äî coordinate link target\n- This doc links back to README ‚Äî use relative path ../README.md\n- Parallel work: reaper-8az, reaper-c45, reaper-cm8, reaper-b6n are written concurrently on non-overlapping files\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: docs/agents.md\nSource data: agents/ directory (25 .md files), CLAUDE.md agent categories\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:15.092384-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.242932-08:00","closed_at":"2026-02-06T13:53:53.242932-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-c7e","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:21.662242-08:00","created_by":"ryan"}]}
{"id":"reaper-c7k","title":"Rename GROUNDED gauge state to TAXIING","description":"The GROUNDED gauge state carries a punitive connotation (grounded = in trouble). Rename to TAXIING across all source templates, tests, and contracts. TAXIING is on-theme (aviation), implies forward motion toward the runway, and feels positive rather than negative.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T20:26:07.01805-08:00","created_by":"ryan","updated_at":"2026-02-06T20:28:25.705776-08:00","closed_at":"2026-02-06T20:28:25.705776-08:00","close_reason":"Shipped in PR #5"}
{"id":"reaper-car","title":"Add automated semantic versioning with commit-and-tag-version","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T11:16:16.258945-08:00","created_by":"ryan","updated_at":"2026-01-12T11:43:47.445007-08:00","closed_at":"2026-01-12T11:43:47.445007-08:00","close_reason":"Closed"}
{"id":"reaper-chy","title":"Regenerate start.md with ON APPROACH gauge state","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-07T19:01:55.683749-08:00","created_by":"ryan","updated_at":"2026-02-07T19:02:07.685087-08:00","closed_at":"2026-02-07T19:02:07.685087-08:00","close_reason":"Fixed in 6dc2229"}
{"id":"reaper-cm8","title":"Create docs/workflow.md ‚Äî strategies, diagram, worktree lifecycle","description":"## Objective\nCreate user-facing workflow documentation. Move ASCII workflow diagram and complexity strategies from README lines 63-116. Expand with worktree lifecycle details.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria (workflow stages, strategy thresholds, lifecycle phases)\n2. GREEN: Write the doc meeting all criteria\n3. BLUE: Refactor for flow and readability\n\n## Acceptance Criteria\n- [ ] Full orchestration workflow (plan ‚Üí implement ‚Üí validate ‚Üí review ‚Üí present)\n- [ ] ASCII workflow diagram (preserved or improved from current README)\n- [ ] Three complexity strategies with thresholds (very_small_direct: score ‚â§10, medium_single_branch: score ‚â§30, large_multi_worktree: score \u003e30)\n- [ ] Strategy selection criteria (file impact, dependencies, testing burden, integration risk)\n- [ ] Worktree lifecycle: creation pattern, usage during execution, cleanup\n- [ ] Link back to README for context\n\n## Cross-References\n[Auto-added by verification]\n- README (reaper-xio) will reference complexity strategies inline (compressed 3-line table) and link to this file as docs/workflow.md for full details\n- This doc links back to README ‚Äî use relative path ../README.md\n- Parallel work: reaper-c7e, reaper-8az, reaper-c45, reaper-b6n are written concurrently on non-overlapping files\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: docs/workflow.md\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:22.250941-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.237455-08:00","closed_at":"2026-02-06T13:53:53.237455-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-cm8","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:22.021465-08:00","created_by":"ryan"}]}
{"id":"reaper-cs9","title":"workflow-planner missing bd create and bd close in tools list","description":"workflow-planner.ejs tools whitelist includes Bash(bd update:*) but not Bash(bd create:*) or Bash(bd close:*). The agent's responsibilities include creating issues and it includes the task-system-operations partial which defines CREATE_ISSUE and CLOSE_ISSUE operations. Fix: add Bash(bd create:*) and Bash(bd close:*) to line 6.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:32.0271-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.799163-08:00","closed_at":"2026-02-06T23:35:24.799163-08:00","close_reason":"Closed"}
{"id":"reaper-csn","title":"Convert status-worktrees to fleet dashboard","description":"## Objective\nModify src/commands/status-worktrees.ejs to include visual-vocabulary partial with context: status-worktrees. Transform worktree summary into an instrument-panel fleet dashboard.\n\n## TDD Approach\n1. RED: Write test verifying status-worktrees output contains fleet dashboard structure\n2. GREEN: Add partial include and dashboard layout to status-worktrees.ejs\n3. BLUE: Refactor for scannable instrument-panel aesthetics\n\n## Deliverables\n- WORKTREE FLEET header with ‚îÅ‚îÅ‚îÅ heavy rule\n- Each worktree as a row: gauge bar + status label + gate progress (e.g. 2/3 gates)\n- Fleet summary footer: count of landed, in flight, grounded, fault\n- Existing worktree detail information preserved (branch, task ID, changes)\n\n## Dashboard Mockup (from squadron brief)\n  WORKTREE FLEET\n  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n  reaper-41-billing    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED     3/3 gates\n  reaper-42-auth       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  IN FLIGHT  1/3 gates\n  reaper-43-migration  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  GROUNDED   not started\n  reaper-44-cache      ‚ñë‚ñë‚ñë‚ñë!!‚ñë‚ñë‚ñë‚ñë  FAULT      test-runner failed\n\n  Fleet: 4 worktrees   2 landed  1 in flight  1 fault\n\n## Acceptance Criteria\n- [ ] Fleet dashboard header with ‚îÅ‚îÅ‚îÅ section rule\n- [ ] Each worktree shows gauge bar + status label + gate info\n- [ ] Fleet summary footer shows aggregate counts\n- [ ] Existing worktree detail info preserved\n- [ ] npm run build succeeds\n- [ ] reaper:ai-prompt-engineer review passes\n\n## Scope\nFiles: src/commands/status-worktrees.ejs\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: agent_prompt\n- agent: reaper:feature-developer\n- parallel_group: group-parallel-commands (runs concurrently with reaper-7rn, reaper-zjc, reaper-7gt)\n- cross_references: Parallel siblings modify different command templates but share the same visual-vocabulary partial (reaper-7sb). No file overlap. All must complete before reaper-e2p (test updates).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:23.902826-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.219094-08:00","closed_at":"2026-02-06T19:03:42.219094-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-csn","depends_on_id":"reaper-7sb","type":"blocks","created_at":"2026-02-06T18:15:42.92471-08:00","created_by":"ryan"},{"issue_id":"reaper-csn","depends_on_id":"reaper-7rn","type":"relates-to","created_at":"2026-02-06T18:17:14.888573-08:00","created_by":"ryan"},{"issue_id":"reaper-csn","depends_on_id":"reaper-zjc","type":"relates-to","created_at":"2026-02-06T18:17:16.109169-08:00","created_by":"ryan"},{"issue_id":"reaper-csn","depends_on_id":"reaper-7gt","type":"relates-to","created_at":"2026-02-06T18:17:17.481288-08:00","created_by":"ryan"},{"issue_id":"reaper-csn","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.566968-08:00","created_by":"ryan"}]}
{"id":"reaper-cso","title":"Pre-commit test gate and GitHub Actions CI workflow","description":"## Objective\nWire tests into the pre-commit hook and create GitHub Actions workflow for CI.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define expected CI behavior (test gates, coverage, failure modes)\n2. GREEN: Implement pre-commit hook changes and CI workflow\n3. BLUE: Optimize for speed (both suites under 3 seconds in pre-commit)\n\n## Acceptance Criteria\n- [ ] Pre-commit hook runs unit tests before build step\n- [ ] Pre-commit hook runs contract tests after build step\n- [ ] GitHub Actions workflow triggers on push and PR to develop and beads-sync\n- [ ] CI runs both test suites with coverage\n- [ ] CI fails PR if tests fail\n- [ ] Both suites complete under 3 seconds in pre-commit\n- [ ] All tests pass\n\n## Scope\nFiles: .husky/pre-commit, .github/workflows/test.yml (new)\n\n[Auto-added by verification]\n**Work Type**: ci_cd_pipeline\n**File Ownership**: exclusive (.husky/pre-commit, .github/workflows/test.yml)\n**Parallel Group**: Group 3 - must complete after all Group 2 issues\n**Cross-references**: Integrates all tests from reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s, reaper-eug","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:39.635994-08:00","created_by":"ryan","updated_at":"2026-02-06T01:03:51.028399-08:00","closed_at":"2026-02-06T01:03:51.028399-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-cso","depends_on_id":"reaper-2v8","type":"blocks","created_at":"2026-02-05T21:31:45.207691-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-7ze","type":"blocks","created_at":"2026-02-05T21:31:45.270584-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-x84","type":"blocks","created_at":"2026-02-05T21:31:45.334637-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-3o7","type":"blocks","created_at":"2026-02-05T21:31:45.398687-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-i5s","type":"blocks","created_at":"2026-02-05T21:31:45.45982-08:00","created_by":"ryan"},{"issue_id":"reaper-cso","depends_on_id":"reaper-eug","type":"blocks","created_at":"2026-02-05T21:31:45.520573-08:00","created_by":"ryan"}]}
{"id":"reaper-cz55","title":"Separate skill scripts from build output","description":"Move all .sh scripts from skills/*/scripts/ to src/skills/*/scripts/ so the skills/ directory is fully generated by the build system. The build system already has copyFile() logic that handles non-.ejs files ‚Äî this is a source reorganization task with zero build logic changes required.\n\n## Goal\nEstablish a clean separation between source (src/skills/) and generated output (skills/), consistent with how .ejs templates generate .md files.\n\n## Scope\n- 7 worktree-manager scripts\n- 2 issue-tracker-github scripts\n- Build test coverage for static asset copying\n- CLAUDE.md doc updates","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T13:11:53.183729-08:00","created_by":"ryan","updated_at":"2026-02-18T13:45:39.769132-08:00","closed_at":"2026-02-18T13:45:39.769132-08:00","close_reason":"All 9 scripts moved to src/skills/*/scripts/, build test added, CLAUDE.md updated. Merged to develop at 0c34444."}
{"id":"reaper-d5b","title":"Separate gauge states and quality gate vocabulary","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:59:41.15837-08:00","created_by":"ryan","updated_at":"2026-02-07T18:08:53.058692-08:00","closed_at":"2026-02-07T18:08:53.058692-08:00","close_reason":"Merged to develop. ON APPROACH gauge state, quality gate status vocabulary, command updates, and test coverage all complete."}
{"id":"reaper-d5b.1","title":"Add ON APPROACH gauge state to visual-vocabulary partial","description":"Add the 5th gauge state ON APPROACH (‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë) to visual-vocabulary.ejs. Update all context branches (functional, standard, status-worktrees, takeoff). Gauge bar: 8 filled, 2 empty. Gloss: coding done, quality gates running. TDD: write failing tests first, then implement.\n\n[Auto-added by verification]\nFILE: src/partials/visual-vocabulary.ejs\n\nACCEPTANCE CRITERIA:\n- ON APPROACH appears in all 5 context outputs (takeoff, ship, status-worktrees, squadron, functional)\n- Gauge bar is ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë (8 filled, 2 empty)\n- Gloss is \"coding done, quality gates running\"\n- Sort order in fleet dashboard: FAULT, IN FLIGHT, ON APPROACH, TAXIING, LANDED\n- Functional context includes plain-text label\n\nPARALLEL WORK: reaper-d5b.2 (gate vocabulary) works on different sections of visual-vocabulary.ejs and quality-gate-protocol.ejs. Can run concurrently.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:59:45.446438-08:00","created_by":"ryan","updated_at":"2026-02-07T18:08:53.04198-08:00","closed_at":"2026-02-07T18:08:53.04198-08:00","close_reason":"Merged to develop. ON APPROACH gauge state, quality gate status vocabulary, command updates, and test coverage all complete.","dependencies":[{"issue_id":"reaper-d5b.1","depends_on_id":"reaper-d5b","type":"parent-child","created_at":"2026-02-07T16:59:45.482189-08:00","created_by":"ryan"}]}
{"id":"reaper-d5b.2","title":"Add quality gate status vocabulary to visual-vocabulary and quality-gate-protocol","description":"Add Quality Gate Statuses section to visual-vocabulary partial defining PASS, FAIL, RUNNING, PENDING, SKIP. Update quality-gate-protocol to reference this vocabulary. Gate statuses are verdicts (no gauge bars). Agent gate_status JSON stays PASS|FAIL. TDD: write failing tests first, then implement.\n\n[Auto-added by verification]\nFILES:\n- src/partials/visual-vocabulary.ejs\n- src/partials/quality-gate-protocol.ejs\n\nACCEPTANCE CRITERIA:\n- New \"Quality Gate Statuses\" section in visual-vocabulary partial (all non-functional contexts)\n- Five statuses defined: PASS, FAIL, RUNNING, PENDING, SKIP with meanings\n- quality-gate-protocol references the new vocabulary\n- Functional context gets plain-text gate status labels\n- Clear separation: gauge states = work unit/worktree lifecycle, gate statuses = inspection verdicts\n\nPARALLEL WORK: reaper-d5b.1 (ON APPROACH gauge) works on different sections of visual-vocabulary.ejs. Can run concurrently.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:59:47.224363-08:00","created_by":"ryan","updated_at":"2026-02-07T18:08:53.049873-08:00","closed_at":"2026-02-07T18:08:53.049873-08:00","close_reason":"Merged to develop. ON APPROACH gauge state, quality gate status vocabulary, command updates, and test coverage all complete.","dependencies":[{"issue_id":"reaper-d5b.2","depends_on_id":"reaper-d5b","type":"parent-child","created_at":"2026-02-07T16:59:47.230287-08:00","created_by":"ryan"}]}
{"id":"reaper-d5b.3","title":"Update commands to use new gauge and gate vocabularies","description":"Update takeoff Gate Panel to use PENDING/PASS/FAIL instead of TAXIING/LANDED/FAULT. Add ON APPROACH state rendering in takeoff. Update status-worktrees: state detection, sort arrays, gauge rendering, fix grounded bug in example. Minimal ship updates. TDD: write failing tests first, then implement.\n\n[Auto-added by verification]\nFILES (ordered by change size):\n- src/commands/takeoff.ejs (Gate Panel rendering, ON APPROACH cards)\n- src/commands/status-worktrees.ejs (state detection, sorting, example fix)\n- src/commands/ship.ejs (minimal changes, verify no gate state misuse)\n\nACCEPTANCE CRITERIA:\n- Takeoff Gate Panel uses PENDING/PASS/FAIL (not TAXIING/LANDED/FAULT)\n- Takeoff renders ON APPROACH gauge when coding is done and gates are running\n- Status-worktrees detects ON APPROACH (coding agent done but gates not all passed, no fault)\n- Status-worktrees sorts ON APPROACH between IN FLIGHT and TAXIING\n- \"grounded\" replaced with correct state name in example output\n- Ship command verified for correct vocabulary usage\n\nSCOPE NOTE: Ship changes are minimal verification only (no gate panel in ship).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T16:59:48.902201-08:00","created_by":"ryan","updated_at":"2026-02-07T18:08:53.052802-08:00","closed_at":"2026-02-07T18:08:53.052802-08:00","close_reason":"Merged to develop. ON APPROACH gauge state, quality gate status vocabulary, command updates, and test coverage all complete.","dependencies":[{"issue_id":"reaper-d5b.3","depends_on_id":"reaper-d5b","type":"parent-child","created_at":"2026-02-07T16:59:48.907519-08:00","created_by":"ryan"},{"issue_id":"reaper-d5b.3","depends_on_id":"reaper-d5b.1","type":"blocks","created_at":"2026-02-07T16:59:54.554808-08:00","created_by":"ryan"},{"issue_id":"reaper-d5b.3","depends_on_id":"reaper-d5b.2","type":"blocks","created_at":"2026-02-07T16:59:54.631663-08:00","created_by":"ryan"}]}
{"id":"reaper-d5b.4","title":"Update tests for new gauge states and gate vocabulary","description":"Update visual-vocabulary.test.js to assert 5 gauge states (add ON APPROACH) in all contexts. Add tests for quality gate status vocabulary. Update contracts.test.js GAUGE_STATES constant. Verify all existing tests still pass with no regressions.\n\n[Auto-added by verification]\nFILES:\n- scripts/visual-vocabulary.test.js (add ON APPROACH assertions, gate vocabulary tests)\n- scripts/contracts.test.js (GAUGE_STATES constant at line 769)\n\nACCEPTANCE CRITERIA:\n- visual-vocabulary.test.js asserts 5 gauge states (adding ON APPROACH) in all contexts\n- visual-vocabulary.test.js has new tests for quality gate status vocabulary section\n- contracts.test.js GAUGE_STATES includes ON APPROACH\n- All existing tests still pass (npm test runs clean)\n- No test regressions\n\nPREREQUISITE: This issue tests the command behavior from reaper-d5b.3, so wait for d5b.3 completion to ensure tests validate correct implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T16:59:50.522074-08:00","created_by":"ryan","updated_at":"2026-02-07T18:08:53.055852-08:00","closed_at":"2026-02-07T18:08:53.055852-08:00","close_reason":"Merged to develop. ON APPROACH gauge state, quality gate status vocabulary, command updates, and test coverage all complete.","dependencies":[{"issue_id":"reaper-d5b.4","depends_on_id":"reaper-d5b","type":"parent-child","created_at":"2026-02-07T16:59:50.532303-08:00","created_by":"ryan"},{"issue_id":"reaper-d5b.4","depends_on_id":"reaper-d5b.1","type":"blocks","created_at":"2026-02-07T16:59:54.719513-08:00","created_by":"ryan"},{"issue_id":"reaper-d5b.4","depends_on_id":"reaper-d5b.2","type":"blocks","created_at":"2026-02-07T16:59:54.789231-08:00","created_by":"ryan"},{"issue_id":"reaper-d5b.4","depends_on_id":"reaper-d5b.3","type":"blocks","created_at":"2026-02-07T17:01:13.390079-08:00","created_by":"ryan"}]}
{"id":"reaper-dc0n","title":"Fix context exhaustion in takeoff via subagent I/O optimization","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T10:19:18.254076-08:00","created_by":"ryan","updated_at":"2026-02-09T10:52:27.36315-08:00","closed_at":"2026-02-09T10:52:27.36315-08:00","close_reason":"Closed"}
{"id":"reaper-dc0n.1","title":"Compress agent-deployment-template to 5-field key-value format","description":"## Objective\nRemove static fields (QUALITY, GATE_EXPECTATIONS) from the deployment template partial. Rename DESCRIPTION to BRIEF with one-sentence cap. Switch SCOPE/RESTRICTION examples to glob patterns. Target: 150-300 tokens per deployment, down from 2,000-5,500.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] QUALITY field removed from template and example\n- [ ] GATE_EXPECTATIONS field removed from template and example\n- [ ] DESCRIPTION renamed to BRIEF with one-sentence guidance\n- [ ] SCOPE/RESTRICTION examples use glob format (e.g., src/commands/**)\n- [ ] Requirements checklist updated to remove quality/gate references\n- [ ] Build passes, contracts pass\n\n## Scope\nFiles: src/partials/agent-deployment-template.ejs\n\n[Auto-added by verification]\nWork type: agent_prompt\n\nCross-references:\n- Related: reaper-dc0n.2 (compresses planner output)\n- Related: reaper-dc0n.3 (compresses retry prompts)\n- Related: reaper-dc0n.4 (compresses return extraction)\nAll four issues are part of a coordinated subagent I/O optimization effort targeting different compression layers. Execute in parallel (Group 1).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T10:19:25.186812-08:00","created_by":"ryan","updated_at":"2026-02-09T10:52:27.334899-08:00","closed_at":"2026-02-09T10:52:27.334899-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dc0n.1","depends_on_id":"reaper-dc0n","type":"parent-child","created_at":"2026-02-09T10:19:25.195034-08:00","created_by":"ryan"}]}
{"id":"reaper-dc0n.2","title":"Compress workflow-planner output to flat deployment-ready structs","description":"## Objective\nReplace the 5-section nested JSON output schema in workflow-planner with a flat struct containing only execution-critical fields. Keep: strategy (name only), units array (id, title, work_type, group, prerequisites, assigned_files, brief, acceptance_criteria), risks (string array). Remove: strategy_selection prose, parallel_work_analysis, implementation_guidance, risk_assessment details. Target: 500-800 tokens, down from 2,000-5,000.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Output schema replaced with flat struct (~500-800 tokens)\n- [ ] strategy field is strategy name only (no rationale, score, breakdown)\n- [ ] units array contains only execution-critical fields\n- [ ] risks is a flat string array (no severity metadata)\n- [ ] Removed sections: parallel_work_analysis, implementation_guidance, risk_assessment\n- [ ] Planner still writes full analysis to plan file via todowrite-plan-protocol\n- [ ] Build passes, contracts pass\n\n## Scope\nFiles: src/agents/workflow-planner.ejs\n\n[Auto-added by verification]\nWork type: agent_prompt\n\nCross-references:\n- Related: reaper-dc0n.1 (compresses deployment template)\n- Related: reaper-dc0n.3 (compresses retry prompts)\n- Related: reaper-dc0n.4 (compresses return extraction)\nAll four issues are part of a coordinated subagent I/O optimization effort targeting different compression layers. Execute in parallel (Group 1).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T10:19:28.415134-08:00","created_by":"ryan","updated_at":"2026-02-09T10:52:27.35529-08:00","closed_at":"2026-02-09T10:52:27.35529-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dc0n.2","depends_on_id":"reaper-dc0n","type":"parent-child","created_at":"2026-02-09T10:19:28.424184-08:00","created_by":"ryan"}]}
{"id":"reaper-dc0n.3","title":"Add resume-based retry pattern to quality-gate-protocol","description":"## Objective\nUpdate the iteration rules in quality-gate-protocol to use Task --resume instead of fresh re-deployment for gate failure retries. Add agent ID capture instruction, resume prompt template, and resume-vs-fresh decision table. Target: 50-100 tokens per retry, down from ~3,000.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Agent ID capture instruction added to iteration rules\n- [ ] Resume-based retry prompt template defined (~50-100 tokens)\n- [ ] Resume-vs-fresh decision table with clear criteria\n- [ ] Fallback to full deployment if agent ID is stale\n- [ ] Differential retry limits preserved (test-runner=3, code-reviewer=2, etc.)\n- [ ] Build passes, contracts pass\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs\n\n[Auto-added by verification]\nWork type: agent_prompt\n\nCross-references:\n- Related: reaper-dc0n.1 (compresses deployment template)\n- Related: reaper-dc0n.2 (compresses planner output)\n- Related: reaper-dc0n.4 (compresses return extraction)\nAll four issues are part of a coordinated subagent I/O optimization effort targeting different compression layers. Execute in parallel (Group 1).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T10:19:31.107213-08:00","created_by":"ryan","updated_at":"2026-02-09T10:52:27.357913-08:00","closed_at":"2026-02-09T10:52:27.357913-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dc0n.3","depends_on_id":"reaper-dc0n","type":"parent-child","created_at":"2026-02-09T10:19:31.118041-08:00","created_by":"ryan"}]}
{"id":"reaper-dc0n.4","title":"Tighten return extraction rules in output-requirements","description":"## Objective\nAdd explicit extraction instructions to output-requirements telling the orchestrator exactly which fields to extract from each agent category return and to discard the rest immediately. Coding agents: extract files_modified + work_completed. Gate agents: extract gate_status + blocking_issues. Planner: use compressed response directly.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Extraction rules defined per agent category (coding, gate, planner)\n- [ ] Explicit \"discard everything else immediately\" instruction\n- [ ] Parallel gate handling: extract both statuses, retain only failed gate blocking_issues\n- [ ] Build passes, contracts pass\n\n## Scope\nFiles: src/partials/output-requirements.ejs\n\n[Auto-added by verification]\nWork type: agent_prompt\n\nCross-references:\n- Related: reaper-dc0n.1 (compresses deployment template)\n- Related: reaper-dc0n.2 (compresses planner output)\n- Related: reaper-dc0n.3 (compresses retry prompts)\nAll four issues are part of a coordinated subagent I/O optimization effort targeting different compression layers. Execute in parallel (Group 1).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T10:19:33.436634-08:00","created_by":"ryan","updated_at":"2026-02-09T10:52:27.360269-08:00","closed_at":"2026-02-09T10:52:27.360269-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dc0n.4","depends_on_id":"reaper-dc0n","type":"parent-child","created_at":"2026-02-09T10:19:33.468532-08:00","created_by":"ryan"}]}
{"id":"reaper-dcm","title":"Rewrite CLASH formatting (speech bubbles, tension diagrams, consensus markers)","description":"## Objective\nUpdate CLASH to use speech bubbles (blockquote + italic + ‚Üí nameplates). Add tension diagram instruction (box-drawing primary, inline tree secondary). Add consensus markers with editorial voice.\n\n## TDD Approach\n1. RED: Write test for speech bubble format, diagrams, markers\n2. GREEN: Implement CLASH changes\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Speech bubble format: **EXPERT** ‚Üí OTHER: with blockquote + italic\n- [ ] Tension diagram examples (box-drawing and inline tree)\n- [ ] Facilitator renders primary tension as diagram before debate\n- [ ] Consensus markers with editorial voice asides\n- [ ] Clash cycles logic preserved (up to 2)\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: CLASH phase (debate formatting and tension routing)\nEstimated Location: Lines 400-480\n\n## Cross-References\n- Depends on: reaper-fvk (visual vocabulary defines speech bubbles, tension diagrams, consensus markers)\n- Uses: reaper-586 (editorial voice for consensus marker asides)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:29.627381-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.202488-08:00","closed_at":"2026-02-06T16:42:30.202488-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dcm","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:09.974817-08:00","created_by":"ryan"}]}
{"id":"reaper-dgi","title":"Refactor feature-developer to use partials","description":"Replace inline PRE-WORK VALIDATION, GIT PROHIBITIONS, and NO-COMMITS sections with partial includes. Use bug-fixer as the template. Preserve feature-specific content (TDD examples, JSON output structure).\n\nFiles:\n- src/agents/feature-developer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- git-prohibitions\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-nsn (refactoring-dev - same partials)\n- reaper-qwi (integration-engineer - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/feature-developer.md contains partial content\n- Feature-specific sections preserved","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:48.506067-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.432662-08:00","closed_at":"2026-01-23T12:51:59.432662-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-dgi","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:53.611305-08:00","created_by":"ryan"}]}
{"id":"reaper-dhxg","title":"fix(security): override fast-xml-parser to patch CVE-2026-25128 DoS","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T21:39:18.423453-08:00","created_by":"ryan","updated_at":"2026-02-20T21:39:25.501576-08:00","closed_at":"2026-02-20T21:39:25.501576-08:00","close_reason":"Applied npm overrides to pin fast-xml-parser \u003e=5.3.4, resolving Dependabot alert #2 (CVE-2026-25128, GHSA-37qj-frw5-hhjh). Committed in d89edb0."}
{"id":"reaper-dmz","title":"Run prompt quality gate (ai-prompt-engineer) on squadron command","description":"Run reaper:ai-prompt-engineer against the modified squadron command template as required by CLAUDE.md after modifying any command template. Review audit findings and apply recommended improvements.\n\n## Objective\nEnsure the rewritten squadron command passes prompt quality standards.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\nNote: This is a prompt audit task. No code tests ‚Äî the ai-prompt-engineer agent validates prompt quality.\n\n## Acceptance Criteria\n- [ ] ai-prompt-engineer audit completes without critical findings\n- [ ] Any recommended improvements applied\n- [ ] Final build passes\n\n## Scope\nFiles: src/commands/squadron.ejs (same file, refinements only)\nWork type: agent_prompt\n\n## Cross-References\n[Auto-added by verification] This issue shares src/commands/squadron.ejs with reaper-q1u (Explore-First architecture rewrite). This issue is blocked by reaper-q1u and must execute after it. Scope boundary: reaper-q1u handles the architectural rewrite; this issue handles prompt polish and quality validation only. Do not re-architect ‚Äî only refine based on ai-prompt-engineer findings.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T20:21:30.651559-08:00","created_by":"ryan","updated_at":"2026-02-06T20:49:00.674925-08:00","closed_at":"2026-02-06T20:49:00.674925-08:00","close_reason":"Prompt quality audit completed and merged to develop","dependencies":[{"issue_id":"reaper-dmz","depends_on_id":"reaper-q1u","type":"blocks","created_at":"2026-02-06T20:21:34.256136-08:00","created_by":"ryan"}]}
{"id":"reaper-dnpt","title":"Add parallel development guide to README and workflow docs","description":"## Objective\nAdd a new 'Parallel Development' section to README.md and a matching subsection to docs/workflow.md explaining that Reaper's worktree isolation is a workflow primitive, not just a safety measure ‚Äî and how to take advantage of it with multiple Claude Code sessions.\n\n## TDD Approach\nDocs-only task. Treat the proposed section content from the conversation as the spec.\n\n## Acceptance Criteria\n- [ ] README.md contains a new 'Parallel Development' (or equivalent title) section inserted after 'Under the Hood'\n- [ ] Section explains: every task gets its own ./trees/ worktree; each worktree can host an independent Claude Code session; VS Code is the recommended client (open worktrees as separate windows); Cursor and Windsurf work the same way\n- [ ] Section includes a short code block showing: /reaper:takeoff to start a task, 'code trees/\u003cworktree\u003e' to open it, /reaper:status-worktrees for radar view\n- [ ] docs/workflow.md gains a 'Running Tasks in Parallel' subsection with complementary detail (not a duplicate ‚Äî workflow.md goes deeper on the mechanics)\n- [ ] Tone matches the rest of the README (direct, personality, no corporate-speak)\n\n## Scope\nFiles: README.md, docs/workflow.md\n\nDepends on (1):\n  ‚Üí reaper-ma28: Update README existing sections [P3]\n\n[Auto-added by verification]\n- work_type: documentation\n- File overlap: This issue and reaper-ma28 both modify README.md. The depends-on relationship ensures reaper-ma28 completes first, giving this issue a stable baseline. When implementing, pull/rebase to pick up reaper-ma28 changes before starting.\n- Cross-reference: reaper-ma28 updates the Skills, Commands, and Contributing sections. This issue adds a new section after 'Under the Hood' and should not modify those sections.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-20T21:24:12.862711-08:00","created_by":"ryan","updated_at":"2026-02-20T21:25:19.74862-08:00","dependencies":[{"issue_id":"reaper-dnpt","depends_on_id":"reaper-ma28","type":"blocks","created_at":"2026-02-20T21:24:25.198447-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj","title":"Remove session tracking from flight-plan output","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:12:09.53449-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.229955-08:00","closed_at":"2026-01-23T12:31:04.229955-08:00","close_reason":"Closed"}
{"id":"reaper-dqj.1","title":"Remove User Feedback section from schema","description":"Delete the ## User Feedback section definition from Phase 0 schema (lines 45-52) and from the Phase 3 Write template (line 388-389). Acceptance: No User Feedback section in schema or Phase 3 template.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.270186-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.196806-08:00","closed_at":"2026-01-23T12:31:04.196806-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.1","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.287267-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.2","title":"Remove Status section from schema","description":"Delete the ## Status section definition from Phase 0 schema (lines 53-57) and from the Phase 3 Write template (lines 391-395). Acceptance: No Status section, no phase/iteration/ready tracking.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.615728-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.200739-08:00","closed_at":"2026-01-23T12:31:04.200739-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.2","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.617827-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.3","title":"Remove feedback/status from Update Rules table","description":"Delete User Feedback APPEND and Status REPLACE rows from Update Rules table (lines 68-69) and Phase 4 duplicate table (lines 469-479). Acceptance: Table only contains Input, Research, Work Units, Dependencies, Assumptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:23.941586-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.204441-08:00","closed_at":"2026-01-23T12:31:04.204441-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.3","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:23.943416-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.4","title":"Strip feedback logging from Phase 4","description":"Remove instructions to log user feedback to plan file (lines 430-456). Keep feedback handling logic but remove file-writing. Remove line 516 about capturing full history. Acceptance: No Edit() calls for User Feedback or iteration count.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:24.359985-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.208171-08:00","closed_at":"2026-01-23T12:31:04.208171-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:24.362081-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.1","type":"blocks","created_at":"2026-01-23T12:12:37.37957-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.2","type":"blocks","created_at":"2026-01-23T12:12:37.498673-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.4","depends_on_id":"reaper-dqj.3","type":"blocks","created_at":"2026-01-23T12:12:37.657193-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.5","title":"Remove living document framing","description":"Change line 23 from 'living document that accumulates context' to 'structured document containing the implementation plan'. Acceptance: No language suggesting plan accumulates session history.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:24.814924-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.210379-08:00","closed_at":"2026-01-23T12:31:04.210379-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.5","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:24.816874-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.6","title":"Clean up Phase 3 template output","description":"Update Write() template in Phase 3 to exclude User Feedback and Status sections. Plan should end after Assumptions. Acceptance: No placeholder comments like \u003c!-- No feedback yet --\u003e.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:25.408719-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.212399-08:00","closed_at":"2026-01-23T12:31:04.212399-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:25.410589-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj.1","type":"blocks","created_at":"2026-01-23T12:12:38.108311-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.6","depends_on_id":"reaper-dqj.2","type":"blocks","created_at":"2026-01-23T12:12:38.227276-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.7","title":"Remove iteration tracking logic","description":"Remove iteration count references in Phase 4 refinement guidelines (line 481) and example edit sequence (lines 489-514). Acceptance: No mention of iteration counts in refinement flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:26.480508-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.217573-08:00","closed_at":"2026-01-23T12:31:04.217573-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.7","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:26.742642-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.7","depends_on_id":"reaper-dqj.4","type":"blocks","created_at":"2026-01-23T12:12:38.606407-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.8","title":"Standardize plan file path","description":"Replace all plan file path references with $CLAUDE_PROJECT_DIR/.claude/plans/reaper-[semantic-name].md. Fix inconsistencies: ./.claude/plans/ (line 10) and ~/.claude/plans/ (lines 327, 437, 451, 569, etc.). Acceptance: All paths use $CLAUDE_PROJECT_DIR/.claude/plans/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:27.639062-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.222839-08:00","closed_at":"2026-01-23T12:31:04.222839-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.8","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:27.655733-08:00","created_by":"ryan"}]}
{"id":"reaper-dqj.9","title":"Build and verify flight-plan changes","description":"Run npm run build and verify generated commands/flight-plan.md has no User Feedback section, no Status section, no iteration tracking, and all paths are $CLAUDE_PROJECT_DIR/.claude/plans/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:12:28.79539-08:00","created_by":"ryan","updated_at":"2026-01-23T12:31:04.226557-08:00","closed_at":"2026-01-23T12:31:04.226557-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj","type":"parent-child","created_at":"2026-01-23T12:12:28.849906-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.5","type":"blocks","created_at":"2026-01-23T12:12:38.93952-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.6","type":"blocks","created_at":"2026-01-23T12:12:39.019861-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.7","type":"blocks","created_at":"2026-01-23T12:12:39.10221-08:00","created_by":"ryan"},{"issue_id":"reaper-dqj.9","depends_on_id":"reaper-dqj.8","type":"blocks","created_at":"2026-01-23T12:12:39.183858-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu","title":"Replace code-reviewer agent with code-review skill and SME routing","description":"Replace the dedicated code-reviewer agent with a multi-file code-review skill and work-type-matched SME routing in Gate 2. All 9 work types get a specific SME reviewer. The code-reviewer agent is removed entirely.\n\nSee ADR-0001: docs/adr/0001-code-review-skill-with-sme-routing.md\nPlan file: .claude/plans/reaper-code-review-skill.md\n\nKey decisions:\n- Multi-file skill: SKILL.md (universal process) + 4 specialty files\n- SME routing via static gate profile table (no LLM reasoning at dispatch)\n- PLAN_CONTEXT materialized by takeoff before gate dispatch\n- Always fresh reviewer invocations (no self-review)\n- Mixed changesets: one SME per work type, deployed in parallel\n- Open agent roster: Reaper defaults recommended, any agent accepted","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:00:11.565424-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.736692-08:00","closed_at":"2026-02-18T16:53:15.736692-08:00","close_reason":"Closed"}
{"id":"reaper-duvu.1","title":"Build universal code-review skill (SKILL.ejs)","description":"## Objective\nCreate src/skills/code-review/SKILL.ejs as the universal gate protocol entry point for the new code-review skill.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test describe block to scripts/contracts.test.js that asserts SKILL.md frontmatter has name/description/allowed-tools, lacks user-invocable, and contains JSON output contract section ‚Äî tests fail\n2. GREEN: Create src/skills/code-review/SKILL.ejs with the required content\n3. BLUE: Run npm run build, verify generated skills/code-review/SKILL.md, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] src/skills/code-review/SKILL.ejs created with valid YAML frontmatter (name: code-review, description, allowed-tools: Read, Grep, Bash)\n- [ ] user-invocable field is absent from frontmatter\n- [ ] SKILL.md contains: universal process (plan verification, scope creep check, completeness check), JSON output contract with schema and example, how to use specialty files\n- [ ] SKILL.md \u003c= 150 lines\n- [ ] npm run build produces skills/code-review/SKILL.md with no EJS residue\n- [ ] New contract test describe block validates frontmatter and JSON contract presence\n- [ ] All existing tests still pass\n\n## Scope\nFiles: src/skills/code-review/SKILL.ejs, scripts/contracts.test.js","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:46:31.744216-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.757118-08:00","closed_at":"2026-02-18T16:53:15.757118-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.1","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:46:31.762641-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.2","title":"Add code artifact specialty files (application-code + database-migration)","description":"## Objective\nCreate the two specialty files for code-based artifact review. Each adds process steps beyond the universal SKILL.md for their work type. Content is process documentation only ‚Äî the SME brings domain knowledge.\n\n## TDD Approach\n1. RED: Add contract tests for line count enforcement (\u003c= 80 lines) for each specialty file ‚Äî tests fail (files don't exist)\n2. GREEN: Create application-code.ejs and database-migration.ejs\n3. BLUE: Run npm run build, verify generated .md files, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] src/skills/code-review/application-code.ejs created ‚Äî covers: verify test coverage was written (not run), SOLID principles checklist, obvious runtime correctness checks; applies to application_code and test_code work types\n- [ ] src/skills/code-review/database-migration.ejs created ‚Äî covers: verify rollback script exists, check idempotency, assess data impact on existing rows\n- [ ] Both specialty files \u003c= 80 lines each\n- [ ] npm run build produces both .md files with no EJS residue\n- [ ] Contract tests added: line count enforcement (\u003c= 80 lines) for each specialty file\n- [ ] All existing tests still pass\n\n## Scope\nFiles: src/skills/code-review/application-code.ejs, src/skills/code-review/database-migration.ejs, scripts/contracts.test.js\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.3 (same blocker: reaper-duvu.1, no execution dependency between them).\n\n## File Overlap Warning\n[Auto-added by verification] Both reaper-duvu.2 and reaper-duvu.3 write to scripts/contracts.test.js. Each must write to a distinct describe block. Coordinate block naming before starting: reaper-duvu.2 owns the 'code-review skill: application-code specialty' and 'code-review skill: database-migration specialty' describe blocks. Do not modify describe blocks owned by reaper-duvu.3 (agent-prompt, documentation).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:46:41.417099-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.763318-08:00","closed_at":"2026-02-18T16:53:15.763318-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.2","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:46:41.435542-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.2","depends_on_id":"reaper-duvu.1","type":"blocks","created_at":"2026-02-18T14:47:38.111458-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.3","title":"Add non-code artifact specialty files (agent-prompt + documentation)","description":"## Objective\nCreate the two specialty files for non-code artifact review. Agent prompts require fundamentally different review process (anti-pattern detection). Documentation requires cross-referencing implementation against docs.\n\n## TDD Approach\n1. RED: Add contract tests for line count enforcement (\u003c= 80 lines) for each specialty file ‚Äî tests fail (files don't exist)\n2. GREEN: Create agent-prompt.ejs and documentation.ejs\n3. BLUE: Run npm run build, verify generated .md files, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] src/skills/code-review/agent-prompt.ejs created ‚Äî covers: anti-pattern checklist (dead context, persona conflict, vague instructions, over-long system prompts), output format contract validation, tool list appropriateness check\n- [ ] src/skills/code-review/documentation.ejs created ‚Äî covers: cross-reference implementation against docs for accuracy, verify docs cover what was actually shipped (not just planned)\n- [ ] Both specialty files \u003c= 80 lines each\n- [ ] npm run build produces both .md files with no EJS residue\n- [ ] Contract tests added: line count enforcement for each specialty file\n- [ ] All existing tests still pass\n\n## Scope\nFiles: src/skills/code-review/agent-prompt.ejs, src/skills/code-review/documentation.ejs, scripts/contracts.test.js\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.2 (same blocker: reaper-duvu.1, no execution dependency between them).\n\n## File Overlap Warning\n[Auto-added by verification] Both reaper-duvu.2 and reaper-duvu.3 write to scripts/contracts.test.js. Each must write to a distinct describe block. Coordinate block naming before starting: reaper-duvu.3 owns the 'code-review skill: agent-prompt specialty' and 'code-review skill: documentation specialty' describe blocks. Do not modify describe blocks owned by reaper-duvu.2 (application-code, database-migration).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:46:48.50861-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.769501-08:00","closed_at":"2026-02-18T16:53:15.769501-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.3","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:46:48.527841-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.3","depends_on_id":"reaper-duvu.1","type":"blocks","created_at":"2026-02-18T14:47:38.197936-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.4","title":"Update quality-gate-protocol with full SME routing (no fallback)","description":"## Objective\nExtend the gate profile table in quality-gate-protocol.ejs with a reviewer_agent column. All 9 work types map to a specific SME ‚Äî no code-reviewer fallback. Update Gate 2 dispatch to use SME routing with skill injection.\n\n## TDD Approach\n1. RED: Write test assertions that quality-gate-protocol.ejs contains each SME agent name and skill injection pattern ‚Äî tests fail\n2. GREEN: Update quality-gate-protocol.ejs with reviewer_agent column and new dispatch logic\n3. BLUE: Run npm run build, verify no EJS residue, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] Gate profile table has new reviewer_agent column with all 9 work types mapped to SMEs (no code-reviewer entries):\n  - application_code + test_code ‚Üí reaper:feature-developer + application-code.md\n  - agent_prompt ‚Üí reaper:ai-prompt-engineer + agent-prompt.md\n  - database_migration ‚Üí reaper:database-architect + database-migration.md\n  - documentation ‚Üí reaper:technical-writer + documentation.md\n  - infrastructure_config ‚Üí reaper:cloud-architect (SKILL.md only)\n  - api_specification ‚Üí reaper:api-designer (SKILL.md only)\n  - ci_cd_pipeline ‚Üí reaper:deployment-engineer (SKILL.md only)\n  - configuration ‚Üí reaper:feature-developer (SKILL.md only)\n- [ ] Gate 2 dispatch reads reviewer_agent from table (static lookup, no LLM reasoning)\n- [ ] Dispatch injects: SKILL.md content + matching specialty file content (if applicable) + PLAN_CONTEXT\n- [ ] Mixed changeset: one SME per detected work type, deployed in parallel\n- [ ] Reviewer always deployed as fresh invocation (explicit note in dispatch logic)\n- [ ] SME-as-reviewer retry limit is 1 (not 2)\n- [ ] npm run build produces no EJS residue in generated files\n- [ ] All existing tests still pass\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.5 (same blockers: reaper-duvu.2 and reaper-duvu.3, no execution dependency between reaper-duvu.4 and reaper-duvu.5). Files are exclusive ‚Äî no overlap with reaper-duvu.5 (src/commands/takeoff.ejs).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:47:01.873387-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.776705-08:00","closed_at":"2026-02-18T16:53:15.776705-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.4","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:47:01.894883-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.4","depends_on_id":"reaper-duvu.2","type":"blocks","created_at":"2026-02-18T14:47:38.289474-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.4","depends_on_id":"reaper-duvu.3","type":"blocks","created_at":"2026-02-18T14:47:38.387244-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.5","title":"Materialize PLAN_CONTEXT in takeoff before gate dispatch","description":"## Objective\nFix the PLAN_CONTEXT gap: takeoff currently passes only a TASK ID to gate reviewers, leaving agents to self-fetch context (causing scope hallucination). Takeoff must read and inject plan content before dispatching any gate reviewer.\n\n## TDD Approach\n1. RED: Write test assertion that takeoff.ejs contains plan materialization logic (read .claude/plans/ before gate dispatch) ‚Äî test fails\n2. GREEN: Update takeoff.ejs to resolve PLAN_CONTEXT before gate dispatch\n3. BLUE: Run npm run build, verify no EJS residue in takeoff.md, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] Before Gate 2 dispatch, takeoff resolves PLAN_CONTEXT: try plan file first (match by task ID in filename or content in .claude/plans/), fall back to platform skill FETCH_ISSUE body\n- [ ] Materialized plan content injected into reviewer task prompt as PLAN_CONTEXT: [content]\n- [ ] If neither plan file nor issue body is found, PLAN_CONTEXT is omitted with a logged warning (not a gate failure)\n- [ ] Existing gate dispatch timing is unchanged (Gate 1 before Gate 2)\n- [ ] npm run build produces no EJS residue in generated takeoff.md\n- [ ] All existing tests still pass\n\n## Scope\nFiles: src/commands/takeoff.ejs\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.4 (same blockers: reaper-duvu.2 and reaper-duvu.3, no execution dependency between reaper-duvu.5 and reaper-duvu.4). Files are exclusive ‚Äî no overlap with reaper-duvu.4 (src/partials/quality-gate-protocol.ejs).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-18T14:47:12.488893-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.782736-08:00","closed_at":"2026-02-18T16:53:15.782736-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.5","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:47:12.497652-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.5","depends_on_id":"reaper-duvu.2","type":"blocks","created_at":"2026-02-18T14:47:38.480603-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.5","depends_on_id":"reaper-duvu.3","type":"blocks","created_at":"2026-02-18T14:47:38.588178-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.6","title":"Remove code-reviewer agent","description":"## Objective\nDelete the dedicated code-reviewer agent now that all 9 work types have full SME coverage. Remove it from the build system agent catalogs and update any references in partials.\n\n## TDD Approach\n1. RED: Verify contracts.test.js or build.test.js does not reference code-reviewer as a gate-capable agent (if it does, remove those assertions); confirm removing from AGENT_TYPES causes the generated file to disappear\n2. GREEN: Delete src/agents/code-reviewer.ejs; remove from scripts/build.js arrays; update orchestrator-role-boundary.ejs references\n3. BLUE: Run npm run build, confirm agents/code-reviewer.md is gone, confirm all tests pass\n\n## Acceptance Criteria\n- [ ] src/agents/code-reviewer.ejs deleted\n- [ ] scripts/build.js: code-reviewer removed from AGENT_TYPES.review array and GATE_CAPABLE_AGENTS array\n- [ ] src/partials/orchestrator-role-boundary.ejs: any references to reaper:code-reviewer updated to reflect SME routing via skill\n- [ ] npm run build produces no agents/code-reviewer.md in output\n- [ ] All existing tests still pass (no tests reference code-reviewer by name as a required agent)\n\n## Scope\nFiles: src/agents/code-reviewer.ejs, scripts/build.js, src/partials/orchestrator-role-boundary.ejs\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.7 (same blockers: reaper-duvu.4 and reaper-duvu.5, no execution dependency between reaper-duvu.6 and reaper-duvu.7). Files are exclusive ‚Äî no overlap with reaper-duvu.7 (docs/agents.md, docs/quality-gates.md, CLAUDE.md).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T14:47:21.246943-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.786731-08:00","closed_at":"2026-02-18T16:53:15.786731-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.6","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:47:21.270982-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.6","depends_on_id":"reaper-duvu.4","type":"blocks","created_at":"2026-02-18T14:47:38.697421-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.6","depends_on_id":"reaper-duvu.5","type":"blocks","created_at":"2026-02-18T14:47:38.787776-08:00","created_by":"ryan"}]}
{"id":"reaper-duvu.7","title":"Update documentation for SME routing and code-reviewer removal","description":"## Objective\nUpdate user-facing documentation to reflect SME routing replacing the dedicated code-reviewer in Gate 2, and document the removal of the code-reviewer agent.\n\n## TDD Approach\nNo automated tests for docs. Manual verification: read each updated doc and confirm accuracy against implemented changes in reaper-duvu.4 and reaper-duvu.6.\n\n## Acceptance Criteria\n- [ ] docs/agents.md: Remove code-reviewer entry; add explanation that Gate 2 uses work-type-matched SME agents via the code-review skill\n- [ ] docs/quality-gates.md: Update Gate 2 description ‚Äî SME routing, show full reviewer_agent table, update retry limits (1 for SME reviewers), explain skill injection pattern\n- [ ] CLAUDE.md: Update agent selection matrix (Code Review row removed or redirected), agent categories table (Quality section no longer lists code-reviewer), quick reference example updated to show SME + skill pattern\n- [ ] All referenced agent names, skill names, and file paths are accurate\n\n## Scope\nFiles: docs/agents.md, docs/quality-gates.md, CLAUDE.md\n\n## Parallel Execution Group\n[Auto-added by verification] Runs in parallel with reaper-duvu.6 (same blockers: reaper-duvu.4 and reaper-duvu.5, no execution dependency between reaper-duvu.7 and reaper-duvu.6). Files are exclusive ‚Äî no overlap with reaper-duvu.6 (src/agents/code-reviewer.ejs, scripts/build.js, src/partials/orchestrator-role-boundary.ejs).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T14:47:30.67573-08:00","created_by":"ryan","updated_at":"2026-02-18T16:53:15.789898-08:00","closed_at":"2026-02-18T16:53:15.789898-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-duvu.7","depends_on_id":"reaper-duvu","type":"parent-child","created_at":"2026-02-18T14:47:30.699971-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.7","depends_on_id":"reaper-duvu.4","type":"blocks","created_at":"2026-02-18T14:47:38.894595-08:00","created_by":"ryan"},{"issue_id":"reaper-duvu.7","depends_on_id":"reaper-duvu.5","type":"blocks","created_at":"2026-02-18T14:47:38.983178-08:00","created_by":"ryan"}]}
{"id":"reaper-dvi","title":"Add mission cards (opening + closing with session arc)","description":"## Objective\nAdd opening mission card to INTAKE (concept, expert count, 'Boards are hot') and closing mission card to handoff (session stats, 'Clean board. Ready for handoff.'). Box-drawing characters in code blocks. Symmetry creates satisfying arc.\n\n## TDD Approach\n1. RED: Write test for mission card format\n2. GREEN: Add cards to template\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Opening mission card after Address the Room\n- [ ] Closing mission card after brief in handoff\n- [ ] Consistent box-drawing format\n- [ ] Opening: 'Boards are hot' / Closing: 'Clean board. Ready for handoff.'\n- [ ] Session stats in closing (decisions, findings, experts, consensus rate)\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: INTAKE phase (opening card) + handoff section (closing card)\nEstimated Location: Lines 250-280 (opening), Lines 600-618 (closing)\n\n## Cross-References\n- Depends on: reaper-fvk (visual vocabulary defines mission card format)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:45.692717-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.206791-08:00","closed_at":"2026-02-06T16:42:30.206791-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-dvi","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:12.67869-08:00","created_by":"ryan"}]}
{"id":"reaper-dvx","title":"Orphaned pre-work-validation-planning.ejs partial","description":"src/partials/pre-work-validation-planning.ejs exists (142 lines) and is documented in src/README.md but is never included by any agent template. All 10 planning agents use inline validation instead. Either adopt the partial across planning agents or remove it.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:29.169135-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.796034-08:00","closed_at":"2026-02-06T23:35:24.796034-08:00","close_reason":"Closed"}
{"id":"reaper-e2p","title":"Update tests and contracts for visual output","description":"## Objective\nUpdate test infrastructure to cover the new visual-vocabulary partial and modified command outputs.\n\n## TDD Approach\n1. RED: Identify failing contract tests from modified command outputs\n2. GREEN: Update assertions to match new visual output structure\n3. BLUE: Add comprehensive coverage for partial compilation with all context values\n\n## Deliverables\n- Build test for visual-vocabulary.ejs compilation with each context parameter (takeoff, ship, status-worktrees, squadron, functional)\n- Updated contract tests for any assertions on generated command output structure\n- Verification that disable preamble text appears in all 4 generated command files\n- All existing tests continue to pass\n\n## Acceptance Criteria\n- [ ] Build test covers visual-vocabulary partial compilation with all context values\n- [ ] Contract tests pass with updated command outputs\n- [ ] Disable preamble verified present in all 4 commands\n- [ ] All existing tests pass\n- [ ] Coverage threshold maintained (70%+)\n\n## Scope\nFiles: scripts/build.test.js, scripts/contracts.test.js\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: test_code\n- agent: reaper:feature-developer\n- parallel_group: none (final unit, depends on all parallel units completing)\n- cross_references: Depends on all 4 command modifications (reaper-7rn, reaper-zjc, reaper-csn, reaper-7gt) plus the foundation partial (reaper-7sb). Tests must validate outputs from all modified commands.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:37.50282-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.22409-08:00","closed_at":"2026-02-06T19:03:42.22409-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-e2p","depends_on_id":"reaper-7rn","type":"blocks","created_at":"2026-02-06T18:15:43.051341-08:00","created_by":"ryan"},{"issue_id":"reaper-e2p","depends_on_id":"reaper-zjc","type":"blocks","created_at":"2026-02-06T18:15:43.124292-08:00","created_by":"ryan"},{"issue_id":"reaper-e2p","depends_on_id":"reaper-csn","type":"blocks","created_at":"2026-02-06T18:15:43.186363-08:00","created_by":"ryan"},{"issue_id":"reaper-e2p","depends_on_id":"reaper-7gt","type":"blocks","created_at":"2026-02-06T18:15:43.249694-08:00","created_by":"ryan"},{"issue_id":"reaper-e2p","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.687052-08:00","created_by":"ryan"}]}
{"id":"reaper-e77","title":"Run prompt quality gate (ai-prompt-engineer)","description":"## Objective\nAfter all template changes, run reaper:ai-prompt-engineer against modified src/commands/squadron.ejs. Review for anti-patterns, token waste, voice consistency. Apply fixes.\n\n## TDD Approach\n1. RED: Quality gate identifies issues\n2. GREEN: Fix identified issues\n3. BLUE: Re-run to confirm clean\n\n## Acceptance Criteria\n- [ ] ai-prompt-engineer run against modified template\n- [ ] Anti-patterns addressed\n- [ ] Token efficiency validated\n- [ ] Voice consistency confirmed\n- [ ] Template builds without errors\n- [ ] Generated commands/squadron.md reviewed\n\n## Scope\nFiles: src/commands/squadron.ejs, commands/squadron.md\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:58:02.912109-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.21444-08:00","closed_at":"2026-02-06T16:42:30.21444-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-e77","depends_on_id":"reaper-7vb","type":"blocks","created_at":"2026-02-06T15:58:14.718516-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-69f","type":"blocks","created_at":"2026-02-06T15:58:14.782556-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:14.843365-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-ud1","type":"blocks","created_at":"2026-02-06T15:58:14.906612-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-let","type":"blocks","created_at":"2026-02-06T15:58:14.971012-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-dcm","type":"blocks","created_at":"2026-02-06T15:58:15.035753-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-s2s","type":"blocks","created_at":"2026-02-06T15:58:15.097172-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-0sa","type":"blocks","created_at":"2026-02-06T15:58:15.160539-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-dvi","type":"blocks","created_at":"2026-02-06T15:58:15.224792-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-kj0","type":"blocks","created_at":"2026-02-06T15:58:15.28794-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-586","type":"blocks","created_at":"2026-02-06T15:58:15.349972-08:00","created_by":"ryan"},{"issue_id":"reaper-e77","depends_on_id":"reaper-yqe","type":"blocks","created_at":"2026-02-06T15:58:15.413038-08:00","created_by":"ryan"}]}
{"id":"reaper-eg9","title":"Refactor test-runner to use review partials","description":"Test-runner has inline pre-work validation and output requirements. Add: pre-work-validation-review (or test-runner variant), output-requirements with isReviewAgent:true, artifact-cleanup-review. Preserve test-runner specific content (full suite execution, coverage thresholds).\n\nFiles:\n- src/agents/test-runner.ejs (modify)\n\nPartials to include:\n- pre-work-validation-review\n- output-requirements (with isReviewAgent: true)\n- artifact-cleanup-review\n\nRelated issues (similar work, can run in parallel):\n- reaper-bf3 (security-auditor - same review partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/test-runner.md contains partial content\n- Test-runner-specific sections preserved (coverage thresholds, full suite execution)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:49.861875-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.462588-08:00","closed_at":"2026-01-23T12:51:59.462588-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-eg9","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.637819-08:00","created_by":"ryan"}]}
{"id":"reaper-eh6","title":"ship Landing Card diverges from visual-vocabulary partial","description":"ship.ejs defines its own Landing Card template with per-step pipeline gauges (Flight, Branch, Cargo fields) that differs from the Landing Card in visual-vocabulary.ejs partial (PR, Status fields). The partial is not the single source of truth for this card.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-02-06T22:32:47.462151-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.806916-08:00","closed_at":"2026-02-06T23:35:24.806916-08:00","close_reason":"Closed"}
{"id":"reaper-ehal","title":"Extract platform-specific issue management into issue-tracker-* skills","description":"Improve how flight-plan handles GitHub Issues and generalize platform-specific issue management into reusable skills. Problems: (1) GitHub detection checks lifetime not recency, (2) Epics not a GitHub concept, (3) Child issues created flat instead of subtasks, (4) No GitHub Projects support. Solution: Extract platform knowledge from task-system-operations partial into dedicated issue-tracker-* skills, one per platform plus a planfile skill for markdown-only mode. Plan file: .claude/plans/reaper-platform-issue-skills.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T16:24:41.620231-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.430467-08:00","closed_at":"2026-02-18T17:22:50.430467-08:00","close_reason":"Closed"}
{"id":"reaper-ehal.1","title":"Slim down task-system-operations partial","description":"Refactor src/partials/task-system-operations.ejs: remove Layer 2 (filesystem) and Layer 3 (CLI) detection, keep commit-only detection with recency threshold (1+ match in last 10 commits), preserve abstract operations interface and dependency semantics, add platform-to-skill routing table mapping TASK_SYSTEM to issue-tracker-* skills.\n\n[Auto-added by verification] Acceptance Criteria:\n- Layer 2 and Layer 3 removed entirely\n- Detection uses commit-only with recency threshold (1+ in last 10 commits)\n- Abstract operations interface preserved verbatim\n- Routing table maps each TASK_SYSTEM to its skill (GitHub, Beads, Jira, markdown_only)\n\nAssigned files: src/partials/task-system-operations.ejs\nWork type: agent_prompt\nCross-references: Blocks reaper-ehal.2, .3, .4, .5 (skills depend on routing table)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:24:52.955785-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.440134-08:00","closed_at":"2026-02-18T17:22:50.440134-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.1","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:24:52.972701-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.2","title":"Create issue-tracker-github skill","description":"Create src/skills/issue-tracker-github/SKILL.ejs with GitHub-specific issue management. Two modes: With Projects (gh project commands) and Without Projects (tracking issues with task lists, labels). Map all 7 abstract operations to gh CLI commands. Include tracking issue pattern as epic replacement, Projects detection, label convention, cross-reference format for dependencies. Lean and task-oriented ‚Äî point to --help for flag details. Not user-invocable. Reference for inspiration (do not copy): https://raw.githubusercontent.com/doug-skinner/github-cli-claude-skill/refs/heads/main/SKILL.md\n\n[Auto-added by verification] Acceptance Criteria:\n- All 7 abstract operations mapped to gh CLI commands\n- With-Projects and Without-Projects modes documented\n- Tracking issue pattern defined with task list format\n- Lean ‚Äî points to --help, no flag catalogs\n- Not user-invocable (no user-invocable frontmatter)\n\nAssigned files: src/skills/issue-tracker-github/SKILL.ejs\nWork type: agent_prompt\nCross-references: Parallel with reaper-ehal.3, .4, .5 (same pattern, no file overlap). Blocked by reaper-ehal.1 (routing table). Blocks reaper-ehal.6 (consumers).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T16:24:55.597093-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.445754-08:00","closed_at":"2026-02-18T17:22:50.445754-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.2","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:24:55.617998-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.2","depends_on_id":"reaper-ehal.1","type":"blocks","created_at":"2026-02-17T16:25:10.433273-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.3","title":"Create issue-tracker-beads skill","description":"Create src/skills/issue-tracker-beads/SKILL.ejs with Beads-specific issue management. Map all 7 abstract operations to bd CLI commands. Include parent-child hierarchy, dependency management, priority scale (0-4). Lean and task-oriented ‚Äî point to bd --help for details. Not user-invocable. Reference for inspiration (do not copy): https://raw.githubusercontent.com/chrisvaillancourt/beads-skill/refs/heads/main/skills/beads/SKILL.md\n\n[Auto-added by verification] Acceptance Criteria:\n- All 7 abstract operations mapped to bd CLI commands\n- Parent-child and dependency semantics documented\n- Priority scale documented (0-4)\n- Lean ‚Äî points to --help, no flag catalogs\n- Not user-invocable\n\nAssigned files: src/skills/issue-tracker-beads/SKILL.ejs\nWork type: agent_prompt\nCross-references: Parallel with reaper-ehal.2, .4, .5 (same pattern, no file overlap). Blocked by reaper-ehal.1. Blocks reaper-ehal.6.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T16:24:57.515385-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.449194-08:00","closed_at":"2026-02-18T17:22:50.449194-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.3","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:24:57.534532-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.3","depends_on_id":"reaper-ehal.1","type":"blocks","created_at":"2026-02-17T16:25:10.525032-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.4","title":"Create issue-tracker-jira skill","description":"Create src/skills/issue-tracker-jira/SKILL.ejs with Jira-specific issue management. Map all 7 abstract operations to acli CLI commands. Include Epic issue type and hierarchy, dependency link types. Lean and task-oriented ‚Äî point to acli --help for details. Not user-invocable. Reference for inspiration (do not copy): https://raw.githubusercontent.com/peetzweg/acli-skill/refs/heads/main/skill/SKILL.md\n\n[Auto-added by verification] Acceptance Criteria:\n- All 7 abstract operations mapped to acli CLI commands\n- Epic type and hierarchy documented\n- Dependency link types documented\n- Lean ‚Äî points to --help, no flag catalogs\n- Not user-invocable\n\nAssigned files: src/skills/issue-tracker-jira/SKILL.ejs\nWork type: agent_prompt\nCross-references: Parallel with reaper-ehal.2, .3, .5 (same pattern, no file overlap). Blocked by reaper-ehal.1. Blocks reaper-ehal.6.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T16:24:58.840877-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.456136-08:00","closed_at":"2026-02-18T17:22:50.456136-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.4","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:24:58.857895-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.4","depends_on_id":"reaper-ehal.1","type":"blocks","created_at":"2026-02-17T16:25:10.618991-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.5","title":"Create issue-tracker-planfile skill","description":"Create src/skills/issue-tracker-planfile/SKILL.ejs defining the markdown plan file format for markdown_only fallback. Include plan file schema and path convention, section definitions and update rules (IMMUTABLE, APPEND, EDIT), manual execution guide template, how takeoff consumes plan files directly. Not user-invocable.\n\n[Auto-added by verification] Acceptance Criteria:\n- Complete plan file schema defined\n- Section update rules documented (IMMUTABLE, APPEND, EDIT)\n- Manual execution guide template included\n- How takeoff consumes plan files directly is documented\n- Not user-invocable\n\nAssigned files: src/skills/issue-tracker-planfile/SKILL.ejs\nWork type: agent_prompt\nCross-references: Parallel with reaper-ehal.2, .3, .4 (same pattern, no file overlap). Blocked by reaper-ehal.1. Blocks reaper-ehal.6.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T16:25:01.196493-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.459543-08:00","closed_at":"2026-02-18T17:22:50.459543-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.5","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:25:01.213491-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.5","depends_on_id":"reaper-ehal.1","type":"blocks","created_at":"2026-02-17T16:25:10.699609-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.6","title":"Update consumers to reference issue-tracker skills","description":"Update flight-plan.ejs, takeoff.ejs, and workflow-planner.ejs for skill-based architecture. flight-plan: strip plan file creation from non-markdown modes, remove hardcoded Phase 5 issue creation (delegate to platform skill), remove embedded markdown-only fallback, update AskUserQuestion variants, simplify behavioral contract. takeoff and workflow-planner: add skill routing after detection. Build must succeed.\n\n[Auto-added by verification] Acceptance Criteria:\n- All 3 consumers include the slimmed partial\n- Platform-specific logic removed from all consumers\n- flight-plan only creates plan files in markdown_only mode\n- flight-plan Phase 5 delegates to platform skill\n- Build succeeds (npm run build)\n\nAssigned files: src/commands/flight-plan.ejs, src/commands/takeoff.ejs, src/agents/workflow-planner.ejs\nWork type: agent_prompt\nCross-references: Depends on all 4 skills (reaper-ehal.2-.5) and partial refactor (reaper-ehal.1). Blocks reaper-ehal.7.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:25:02.329984-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.46286-08:00","closed_at":"2026-02-18T17:22:50.46286-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.6","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:25:02.350308-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.6","depends_on_id":"reaper-ehal.2","type":"blocks","created_at":"2026-02-17T16:25:11.050755-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.6","depends_on_id":"reaper-ehal.3","type":"blocks","created_at":"2026-02-17T16:25:11.13139-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.6","depends_on_id":"reaper-ehal.4","type":"blocks","created_at":"2026-02-17T16:25:11.219919-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.6","depends_on_id":"reaper-ehal.5","type":"blocks","created_at":"2026-02-17T16:25:11.305779-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.7","title":"Register issue-tracker skills in contracts and docs","description":"Register 4 new issue-tracker-* skills in scripts/contracts.test.js. Update CLAUDE.md (partials list, skill references). Update plugin.json if skills aren't auto-discovered. All tests must pass.\n\n[Auto-added by verification] Acceptance Criteria:\n- Skills registered in scripts/contracts.test.js\n- CLAUDE.md updated (partials list, skill references)\n- plugin.json updated if skills are not auto-discovered\n- All tests pass (npm test)\n\nAssigned files: scripts/contracts.test.js, CLAUDE.md, plugin.json, docs/\nWork type: configuration\nCross-references: Depends on reaper-ehal.6 (consumers must be updated first so contracts reflect final state). Blocks reaper-ehal.8.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T16:25:03.434671-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.465646-08:00","closed_at":"2026-02-18T17:22:50.465646-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.7","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:25:03.442823-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.7","depends_on_id":"reaper-ehal.6","type":"blocks","created_at":"2026-02-17T16:25:11.471925-08:00","created_by":"ryan"}]}
{"id":"reaper-ehal.8","title":"Manual testing of issue-tracker skills","description":"Test flight-plan against: GitHub repos with Projects, GitHub repos without Projects, Beads repos, repos with no task system. Verify: GitHub detection uses recent commits only, tracking issue created correctly (no epic type), child issues linked properly, Beads flow unchanged, markdown_only fallback produces plan file.\n\n[Auto-added by verification] Acceptance Criteria:\n- GitHub detection uses recent commits only (not lifetime)\n- GitHub tracking issue created correctly (no epic type)\n- GitHub child issues linked properly (with and without Projects)\n- Beads flow unchanged from current behavior\n- markdown_only fallback produces plan file\n\nAssignee: user (manual testing)\nWork type: test_code\nCross-references: Depends on reaper-ehal.7 (all code and contracts finalized).","status":"closed","priority":2,"issue_type":"task","assignee":"user","created_at":"2026-02-17T16:25:05.235138-08:00","created_by":"ryan","updated_at":"2026-02-18T17:22:50.475073-08:00","closed_at":"2026-02-18T17:22:50.475073-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ehal.8","depends_on_id":"reaper-ehal","type":"parent-child","created_at":"2026-02-17T16:25:05.276235-08:00","created_by":"ryan"},{"issue_id":"reaper-ehal.8","depends_on_id":"reaper-ehal.7","type":"blocks","created_at":"2026-02-17T16:25:11.548718-08:00","created_by":"ryan"}]}
{"id":"reaper-eug","title":"Structural contract test suite for generated output","description":"## Objective\nValidate all generated output files satisfy structural contracts. Run post-build, consume files from disk.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests that define structural requirements\n2. GREEN: Verify generated output satisfies contracts\n3. BLUE: Refactor contracts to be data-driven and extensible\n\n## Acceptance Criteria\n- [ ] Every generated agent .md has valid YAML frontmatter with name and description\n- [ ] Every generated skill .md has valid YAML frontmatter with name\n- [ ] No generated file contains unresolved EJS tags\n- [ ] No generated file contains literal \"undefined\" strings (with awareness of legitimate code examples)\n- [ ] hooks/hooks.json parses as valid JSON with correct schema\n- [ ] Contract definitions are data-driven (easy to extend for new agents)\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/contracts.test.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: exclusive (scripts/contracts.test.js created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s after reaper-aqt completes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:38.947106-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.262259-08:00","closed_at":"2026-02-06T00:57:57.262259-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-eug","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.400746-08:00","created_by":"ryan"}]}
{"id":"reaper-ezz","title":"Remove Five Keys scorecard from squadron command","description":"## Objective\nRemove the 'FIVE KEYS ALIGNMENT' scorecard (section 5) from the squadron brief compilation and replace it with a project-contextual design principles section that evaluates against principles relevant to the target project rather than Reaper's internal values.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- No occurrence of 'Five Keys' or 'FIVE KEYS ALIGNMENT' in src/commands/squadron.ejs\n- No occurrence of 'Five Keys' in commands/squadron.md (generated)\n- Section 5 of brief evaluates against project-relevant principles, not Reaper values\n- Semantic map row updated to match new section name\n- Rendered example updated to match new format\n- Test assertion in scripts/visual-vocabulary.test.js line 283 updated\n- All existing tests pass\n\n## Scope\nFiles: src/commands/squadron.ejs, scripts/visual-vocabulary.test.js, commands/squadron.md (generated)\n\n[Auto-added by verification] Work type: application_code\n[Auto-added by verification] Related: reaper-85w (Five Keys scope containment ‚Äî parallel-safe, zero file overlap)\n[Auto-added by verification] Parallel execution: This issue can run in parallel with reaper-85w. No shared files.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-07T21:54:13.461892-08:00","created_by":"ryan","updated_at":"2026-02-16T15:52:15.364156-08:00","closed_at":"2026-02-16T15:52:15.364156-08:00","close_reason":"Already completed in commit 2cb0bc3 - Five Keys scorecard replaced with Design Quality in squadron"}
{"id":"reaper-f2n","title":"Update agent includes if interface changes","description":"Review the 4 agents using the TDD partial and update their includes if any parameter names changed. Verify all agent EJS files compile without errors.\n\nFiles:\n- src/agents/feature-developer.ejs (line 92)\n- src/agents/bug-fixer.ejs (line 58)\n- src/agents/integration-engineer.ejs (line 537)\n- src/agents/refactoring-dev.ejs (line 333)\n\nAcceptance Criteria:\n- All 4 agent EJS files compile without errors\n- Parameter names in includes match partial expectations\n- Any new philosophy parameters considered for agent customization\n\nRelated: reaper-wra (upstream partial changes)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:43.37285-08:00","created_by":"ryan","updated_at":"2026-01-23T13:38:08.055219-08:00","closed_at":"2026-01-23T13:38:08.055219-08:00","close_reason":"No interface changes needed - all 7 parameters preserved. All 4 agent EJS files compiled without errors.","dependencies":[{"issue_id":"reaper-f2n","depends_on_id":"reaper-wra","type":"blocks","created_at":"2026-01-23T13:20:59.751689-08:00","created_by":"ryan"}]}
{"id":"reaper-f3b","title":"Rebuild and verify output","description":"Run npm run build to regenerate all markdown files from templates. Verify the generated agent files contain the new testing philosophy content and no EJS syntax errors.\n\nCommands: npm run build\n\nAcceptance Criteria:\n- npm run build completes without errors\n- Generated agents/*.md files contain updated TDD protocol\n- No EJS syntax errors in output\n- Verify feature-developer.md, bug-fixer.md, integration-engineer.md, refactoring-dev.md all have new content\n\nRelated: reaper-wra (partial), reaper-f2n (agent includes)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:47.678124-08:00","created_by":"ryan","updated_at":"2026-01-23T13:38:08.134511-08:00","closed_at":"2026-01-23T13:38:08.134511-08:00","close_reason":"Build completed successfully. All generated agents contain updated TDD protocol content.","dependencies":[{"issue_id":"reaper-f3b","depends_on_id":"reaper-f2n","type":"blocks","created_at":"2026-01-23T13:20:59.840657-08:00","created_by":"ryan"}]}
{"id":"reaper-f8bm","title":"Contract test: Gate 2 partial failure path","description":"## Objective\nAdd a contract test asserting the correct orchestrator behavior when one of two parallel Gate 2 reviewers fails and the other passes (e.g., security-auditor passes, code-review SME fails).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write a failing contract test asserting that when one Gate 2 agent returns blocking_issues and the other returns all_checks_passed, the orchestrator's quality-gate-protocol partial defines combining both results before retry\n2. GREEN: Verify the partial's behavior matches the documented intent (or surface the gap)\n3. BLUE: Ensure test is clear and maintainable alongside existing contracts.test.js cases\n\n## Acceptance Criteria\n- [ ] Contract test added to scripts/contracts.test.js for partial Gate 2 failure scenario\n- [ ] Test asserts that blocking_issues from both Gate 2 agents are combined before retry\n- [ ] Test asserts that after retry, both Gate 2 agents re-run (not just the failed one)\n- [ ] All existing tests continue to pass\n\n## Scope\nFiles: scripts/contracts.test.js, src/partials/quality-gate-protocol.ejs (read only to understand documented intent)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-20T19:24:58.186518-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.218857-08:00","closed_at":"2026-02-20T20:04:29.218857-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-f8bm","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:42.847312-08:00","created_by":"ryan"}]}
{"id":"reaper-fham","title":"Add git-flow back-merge to release workflow","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-09T11:30:24.131646-08:00","created_by":"ryan","updated_at":"2026-02-09T11:30:41.622094-08:00","closed_at":"2026-02-09T11:30:41.622094-08:00","close_reason":"Closed"}
{"id":"reaper-fmm0","title":"Pre-Release Readiness Fixes","description":"Close all blocking gaps identified by pre-release squadron review before v1.11.0 ships. Six work units across testing and documentation domains.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-20T19:24:47.323254-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.24131-08:00","closed_at":"2026-02-20T20:04:29.24131-08:00","close_reason":"Closed"}
{"id":"reaper-ftf","title":"Add conditional TodoWrite items to takeoff command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:09:41.247216-08:00","created_by":"ryan","updated_at":"2026-01-05T15:10:32.53896-08:00","closed_at":"2026-01-05T15:10:32.53896-08:00","close_reason":"Closed"}
{"id":"reaper-fvk","title":"Add visual vocabulary section (three registers, semantic map, examples)","description":"## Objective\nAdd a Visual Vocabulary section defining three registers (code blocks=furniture, blockquotes=expert voice, plain markdown=facilitator). Include semantic map table and rendered examples of all visual elements.\n\n## TDD Approach\n1. RED: Write test verifying visual vocabulary section exists with required elements\n2. GREEN: Add section to template\n3. BLUE: Refactor examples for clarity\n\n## Acceptance Criteria\n- [ ] Three visual registers defined with clear rules\n- [ ] Semantic map table (element ‚Üí means ‚Üí used in)\n- [ ] Examples: section headers, mission cards, expert roster, position cards, speech bubbles, tension diagrams, consensus markers, Five Keys scorecard, finding cards\n- [ ] * * * separator defined as expert separator\n- [ ] Section positioned before phase instructions\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: New section added before phase-by-phase instructions\nEstimated Location: Lines ~100-200 (new content insertion point)\n\n## Cross-References\n- Blocks: reaper-ud1, reaper-let, reaper-dcm, reaper-0sa, reaper-dvi (all use vocabulary defined here)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:13.833292-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.196526-08:00","closed_at":"2026-02-06T16:42:30.196526-08:00","close_reason":"Closed"}
{"id":"reaper-g4a","title":"Standardize JIRA_KEY references to generic TASK_ID","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:36:24.236664-08:00","created_by":"ryan","updated_at":"2026-01-05T15:37:40.962847-08:00","closed_at":"2026-01-05T15:37:40.962847-08:00","close_reason":"Closed"}
{"id":"reaper-gcf","title":"Remove Five Keys scope boundary violation from squadron","description":"Epic to remove Five Keys scope boundary violation from the squadron command.\n\nPROBLEM: Reaper 1.8.2 forces \"FIVE KEYS ALIGNMENT\" evaluation on target projects via squadron command output. This violates Reaper's own scope boundary rule (CLAUDE.md) that Five Keys must not be imposed on target projects.\n\nSOLUTION: Replace Five Keys scorecard with universal Design Quality assessment using Correctness, Observability, Maintainability, Security, Performance.\n\nCHILDREN: reaper-9kp, reaper-8vi5, reaper-ocn6\n\nACCEPTANCE CRITERIA:\n- All three Five Keys references removed from squadron template\n- Replacement scorecard uses universal quality dimensions\n- Contract test prevents regression\n- Test rationale updated to reference scope boundary rule\n\nRef: reaper-gcf","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-08T13:48:28.957794-08:00","created_by":"ryan","updated_at":"2026-02-08T14:10:44.158181-08:00","closed_at":"2026-02-08T14:10:44.158181-08:00","close_reason":"Closed"}
{"id":"reaper-gpx","title":"Missing .env* and *.pem in .gitignore","description":"No .env files exist today but the .gitignore has no exclusion for .env*, *.pem, or *.key files. A contributor could accidentally commit secrets. Fix: add .env* and *.pem *.key patterns to .gitignore.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:34.161137-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.808927-08:00","closed_at":"2026-02-06T23:35:24.808927-08:00","close_reason":"Closed"}
{"id":"reaper-h70m","title":"Move worktree-manager scripts to src/skills/","description":"## Objective\nMove all 7 shell scripts from skills/worktree-manager/scripts/ to src/skills/worktree-manager/scripts/. Run npm run build to verify they are copied back to skills/worktree-manager/scripts/. Confirm build tests pass.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Build tests from reaper-v2w1 will fail until scripts are in src/\n2. GREEN: Move scripts and run build ‚Äî tests should now pass\n3. BLUE: Verify script contents are byte-for-byte identical via build\n\n## Acceptance Criteria\n- [ ] 7 scripts exist in src/skills/worktree-manager/scripts/: visual-helpers.sh, visual-helpers.test.sh, worktree-cleanup.sh, worktree-cleanup.test.sh, worktree-create.sh, worktree-list.sh, worktree-status.sh\n- [ ] npm run build copies all 7 scripts to skills/worktree-manager/scripts/\n- [ ] Build tests from reaper-v2w1 pass\n- [ ] Script contents are identical to originals\n- [ ] worktree-manager/scripts/ files are no longer manually committed ‚Äî only via build output\n\n## Scope\nFiles: src/skills/worktree-manager/scripts/ (7 new files), skills/worktree-manager/scripts/ (7 moved files)\n\nRef: reaper-cz55","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T13:12:09.865438-08:00","created_by":"ryan","updated_at":"2026-02-18T17:24:50.152931-08:00","closed_at":"2026-02-18T17:24:50.152931-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-h70m","depends_on_id":"reaper-v2w1","type":"blocks","created_at":"2026-02-18T13:12:25.277301-08:00","created_by":"ryan"}]}
{"id":"reaper-hc2f","title":"Takeoff commit-on-pass, feature branches, and medium worktree upgrade","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T18:10:04.131014-08:00","created_by":"ryan","updated_at":"2026-02-18T20:21:36.233978-08:00","closed_at":"2026-02-18T20:21:36.233978-08:00","close_reason":"Closed"}
{"id":"reaper-hc2f.1","title":"Update commit policy and gate protocol partials","description":"## Objective\nAlign no-commits-policy.ejs and quality-gate-protocol.ejs so all strategies auto-commit to the feature branch after gates pass.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Work Type\nagent_prompt\n\n## Cross-References\n[Auto-added by verification] quality-gate-protocol.ejs is included by takeoff.ejs (reaper-hc2f.2). Changes to the Commit on Pass section must be compatible with takeoff's gate sequence. No file overlap ‚Äî this issue owns the partial, reaper-hc2f.2 owns the command template.\n\n## Acceptance Criteria\n- [ ] no-commits-policy.ejs Strategy 1 \u0026 2 wording directs orchestrator ‚Üí branch-manager commit (not 'user commits manually')\n- [ ] All three strategy descriptions in no-commits-policy.ejs are consistent (all use branch-manager for commits)\n- [ ] 'never master/main/develop' constraint appears in quality-gate-protocol.ejs Commit on Pass section\n- [ ] 'unless the user prescribes otherwise' escape hatch is present in at least one of the two files\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/no-commits-policy.ejs, src/partials/quality-gate-protocol.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:10:13.165549-08:00","created_by":"ryan","updated_at":"2026-02-18T18:23:16.367718-08:00","closed_at":"2026-02-18T18:23:16.367718-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-hc2f.1","depends_on_id":"reaper-hc2f","type":"parent-child","created_at":"2026-02-18T18:10:13.202228-08:00","created_by":"ryan"},{"issue_id":"reaper-hc2f.1","depends_on_id":"reaper-hc2f.2","type":"relates-to","created_at":"2026-02-18T18:11:42.036879-08:00","created_by":"ryan"}]}
{"id":"reaper-hc2f.2","title":"Update takeoff command: feature branch, cleanup dedup, issue lifecycle, worktree cleanup","description":"## Objective\nFour changes to src/commands/takeoff.ejs: (1) feature branch required for all strategies including very_small_direct, (2) remove redundant work-unit-cleanup include at completion, (3) issue tracker lifecycle updates (in_progress on start, close on gates pass), (4) worktree cleanup after gates pass (per-unit for large_multi_worktree, at completion for others).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Work Type\nagent_prompt\n\n## Cross-References\n[Auto-added by verification] takeoff.ejs includes quality-gate-protocol.ejs (owned by reaper-hc2f.1). The Commit on Pass section in that partial will be updated concurrently. This issue should not modify the partial ‚Äî only the command template. After both issues complete, verify the include still integrates correctly via npm run build + npm test.\n\n## Acceptance Criteria\n- [ ] very_small_direct description mentions creating a feature branch before agent deployment\n- [ ] medium_single_branch description requires creating a single shared worktree\n- [ ] All three strategy descriptions consistent on feature branch + worktree requirement\n- [ ] work-unit-cleanup partial appears exactly once in takeoff.ejs\n- [ ] Per-Unit Cycle step 1 includes UPDATE_ISSUE to in_progress for tracked issues on non-markdown_only platforms\n- [ ] Per-Unit Cycle step 8 closes ALL tracked issues (not just pre-planned) when gates pass\n- [ ] large_multi_worktree: per-unit worktree removed immediately after CLOSE_ISSUE, with reference check\n- [ ] medium_single_branch / very_small_direct: shared worktree removed only at Completion (after final unit)\n- [ ] All worktree removal goes through worktree-manager skill (never direct git worktree remove)\n- [ ] npm run build succeeds\n- [ ] npm test passes (contracts.test.js validates structural invariants)\n\n## Scope\nFiles: src/commands/takeoff.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:10:20.125136-08:00","created_by":"ryan","updated_at":"2026-02-18T18:41:39.343368-08:00","closed_at":"2026-02-18T18:41:39.343368-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-hc2f.2","depends_on_id":"reaper-hc2f","type":"parent-child","created_at":"2026-02-18T18:10:20.141684-08:00","created_by":"ryan"},{"issue_id":"reaper-hc2f.2","depends_on_id":"reaper-hc2f.1","type":"relates-to","created_at":"2026-02-18T18:11:42.040648-08:00","created_by":"ryan"},{"issue_id":"reaper-hc2f.2","depends_on_id":"reaper-hc2f.3","type":"relates-to","created_at":"2026-02-18T18:11:42.156344-08:00","created_by":"ryan"}]}
{"id":"reaper-hc2f.3","title":"Update branch-manager and supporting files for medium worktree","description":"## Objective\nUpdate four files to reflect that medium_single_branch now uses a single shared worktree: branch-manager strategy table + new Strategy 2 Workflow section, workflow-planner description, file-conflict-detection heading, todowrite-plan-protocol cleanup note.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Work Type\nagent_prompt\n\n## Cross-References\n[Auto-added by verification] workflow-planner.ejs (owned here) is the same agent whose system prompt defines the planning strategies referenced by takeoff.ejs (reaper-hc2f.2). Changes to medium_single_branch description here must align with takeoff's updated strategy descriptions. No file overlap ‚Äî this issue owns the agent template, reaper-hc2f.2 owns the command template.\n\n## Acceptance Criteria\n- [ ] branch-manager.ejs strategy table reflects Strategy 2 using worktree + branch-manager commits\n- [ ] New Strategy 2 Workflow section present in branch-manager.ejs\n- [ ] workflow-planner.ejs medium_single_branch description mentions single shared worktree\n- [ ] file-conflict-detection.ejs heading no longer implies branch-only (no worktree) model\n- [ ] todowrite-plan-protocol.ejs cleanup note covers both medium_single_branch and large_multi_worktree\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/agents/branch-manager.ejs, src/agents/workflow-planner.ejs, src/partials/file-conflict-detection.ejs, src/partials/todowrite-plan-protocol.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:10:24.40129-08:00","created_by":"ryan","updated_at":"2026-02-18T18:23:16.375491-08:00","closed_at":"2026-02-18T18:23:16.375491-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-hc2f.3","depends_on_id":"reaper-hc2f","type":"parent-child","created_at":"2026-02-18T18:10:24.41807-08:00","created_by":"ryan"},{"issue_id":"reaper-hc2f.3","depends_on_id":"reaper-hc2f.2","type":"relates-to","created_at":"2026-02-18T18:11:42.157619-08:00","created_by":"ryan"}]}
{"id":"reaper-hn2b","title":"Build, verify generated files, run tests","description":"Run npm run build to regenerate output files. Verify skills/issue-tracker-planfile/SKILL.md contains no Feedback Log, Assumptions, or Update Rules table. Run full test suite.\\n\\nAcceptance Criteria:\\n- npm run build exits 0\\n- Generated SKILL.md has no Feedback Log, Assumptions, or Update Rules table\\n- All tests pass\\n\\nRef: reaper-u148","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:00:48.195854-08:00","created_by":"ryan","updated_at":"2026-02-19T15:49:23.453256-08:00","closed_at":"2026-02-19T15:49:23.453256-08:00","close_reason":"Already complete ‚Äî build exits 0, generated SKILL.md has no Feedback Log/Assumptions/Update Rules, all 892 tests pass","dependencies":[{"issue_id":"reaper-hn2b","depends_on_id":"reaper-l3tt","type":"blocks","created_at":"2026-02-19T13:00:51.213-08:00","created_by":"ryan"},{"issue_id":"reaper-hn2b","depends_on_id":"reaper-p768","type":"blocks","created_at":"2026-02-19T13:00:51.308492-08:00","created_by":"ryan"}]}
{"id":"reaper-hyh","title":"Squadron Command UX Overhaul","description":"Transform the squadron command template from 'competent but joyless' to 'crisp, confident, zero chaos.' 19 design changes across visual vocabulary, voice/personality, word cap enforcement, progress tracking, and narrator-voice section headers. Full squadron brief at .claude/plans/reaper-squadron-ux-overhaul.md. Flight plan at .claude/plans/reaper-squadron-ux-flight-plan.md.\n\n[Auto-added by verification]\n\n## Orchestration Notes\n\n**Single-file consolidation**: All 13 child issues modify src/commands/squadron.ejs (618 lines). No worktree isolation needed ‚Äî use a single feature branch with sequential execution per dependency graph.\n\n**Strategy**: Sequential single-branch (all work consolidates to feature/reaper-hyh-review)\n\n**Execution order**:\n- Group A (independent): reaper-7vb, reaper-69f, reaper-586, reaper-yqe\n- Group B (after reaper-fvk): reaper-ud1, reaper-let, reaper-dcm, reaper-0sa, reaper-dvi\n- Group C (after reaper-dvi): reaper-kj0\n- Group D (after reaper-dcm): reaper-s2s\n- Final: reaper-e77 (quality gate after all changes)\n\n**Template section boundaries**: See child issue descriptions for line ranges (prevents accidental overlap).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T15:56:51.612659-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.216447-08:00","closed_at":"2026-02-06T16:42:30.216447-08:00","close_reason":"Closed"}
{"id":"reaper-i5s","title":"Unit test parseArgs and commitlint beads-ref plugin","description":"## Objective\nTest CLI argument parsing (with process.exit stubbing) and the commitlint beads-ref rule.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests for each argument and commitlint rule path\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] parseArgs tested for: valid --type values, invalid types (stubbed exit), --help flag, --verbose flag, --watch flag, unknown args\n- [ ] Commitlint beads-ref rule tested for: chore commits (exempt), valid ref format, missing ref, invalid ref format, case sensitivity, multiline messages\n- [ ] process.exit stubbed correctly, not actually called\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js, scripts/commitlint.test.js (new)\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s); exclusive (scripts/commitlint.test.js created only by this issue)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:38.270548-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.260419-08:00","closed_at":"2026-02-06T00:57:57.260419-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-i5s","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.343267-08:00","created_by":"ryan"}]}
{"id":"reaper-i9ta","title":"Fix flight-plan closing output for single-unit plans","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-20T20:36:46.816774-08:00","created_by":"ryan","updated_at":"2026-02-20T20:40:35.069463-08:00","closed_at":"2026-02-20T20:40:35.069463-08:00","close_reason":"Closed"}
{"id":"reaper-ibg","title":"Fix Agent Name Qualification","description":"Update agents/workflow-planner.md and commands/flight-plan.md to use fully qualified agent names (e.g., reaper:feature-developer instead of feature-developer).\n\nSuccess Criteria:\n- All subagent_type values prefixed with reaper:\n- All prose agent references use fully qualified names\n- No unqualified agent names remain in either file","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T20:27:20.139153-08:00","created_by":"ryan","updated_at":"2026-01-02T23:14:41.917187-08:00","closed_at":"2026-01-02T23:14:41.917187-08:00","close_reason":"All agent references updated with reaper: prefix"}
{"id":"reaper-ibg.1","title":"Update agent references in workflow-planner.md","description":"Find and replace all unqualified agent names with their reaper:-prefixed equivalents throughout the workflow-planner agent definition.\n\nFiles: agents/workflow-planner.md\n\nAgent Names to Update:\n- feature-developer -\u003e reaper:feature-developer\n- bug-fixer -\u003e reaper:bug-fixer\n- refactoring-specialist -\u003e reaper:refactoring-specialist\n- branch-manager -\u003e reaper:branch-manager\n- test-runner -\u003e reaper:test-runner\n- code-reviewer -\u003e reaper:code-reviewer\n- security-auditor -\u003e reaper:security-auditor\n- workflow-planner -\u003e reaper:workflow-planner\n- documentation-generator -\u003e reaper:documentation-generator\n\nAcceptance Criteria:\n- All subagent_type values use reaper: prefix\n- All prose references to agents use fully qualified names\n- File passes markdown linting\n- No unqualified agent names remain (verified by grep)\n\n---\nParallel Execution: Can run simultaneously with reaper-ibg.2 (no file overlap)\nRelated: reaper-ibg.2 (same naming convention update in different file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:27:30.351395-08:00","created_by":"ryan","updated_at":"2026-01-02T20:37:43.109721-08:00","closed_at":"2026-01-02T20:37:43.109721-08:00","close_reason":"Agent references updated with reaper: prefix","dependencies":[{"issue_id":"reaper-ibg.1","depends_on_id":"reaper-ibg","type":"parent-child","created_at":"2026-01-02T20:27:30.382291-08:00","created_by":"ryan"}]}
{"id":"reaper-ibg.2","title":"Update agent references in flight-plan.md","description":"Find and replace all unqualified agent names with their reaper:-prefixed equivalents throughout the flight-plan command.\n\nFiles: commands/flight-plan.md\n\nAgent Names to Update:\n- workflow-planner -\u003e reaper:workflow-planner\n\nAcceptance Criteria:\n- All subagent_type values use reaper: prefix\n- All prose references to agents use fully qualified names\n- File passes markdown linting\n- No unqualified agent names remain (verified by grep)\n\n---\nParallel Execution: Can run simultaneously with reaper-ibg.1 (no file overlap)\nRelated: reaper-ibg.1 (same naming convention update in different file)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:27:30.685355-08:00","created_by":"ryan","updated_at":"2026-01-02T20:37:43.113907-08:00","closed_at":"2026-01-02T20:37:43.113907-08:00","close_reason":"Agent references updated with reaper: prefix","dependencies":[{"issue_id":"reaper-ibg.2","depends_on_id":"reaper-ibg","type":"parent-child","created_at":"2026-01-02T20:27:30.686129-08:00","created_by":"ryan"}]}
{"id":"reaper-iij2","title":"Calibrate flight-plan Explore agents to scale with context gaps","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T19:09:15.824767-08:00","created_by":"ryan","updated_at":"2026-02-19T19:19:09.111267-08:00","closed_at":"2026-02-19T19:19:09.111267-08:00","close_reason":"Closed"}
{"id":"reaper-iij2.1","title":"Rewrite Phase 1.5 to use context-gap assessment before spawning Explore agents","description":"## Objective\nRewrite the Phase 1.5 section of src/commands/flight-plan.ejs so the LLM scales Explore agent usage to what it genuinely doesn't know, rather than always spawning 3 parallel agents.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Phase 1.5 opens with a context-gap assessment step: evaluate what is already known vs. what is needed to scope work units\n- [ ] Explicit instruction: do not spawn an agent to confirm information already present in the session\n- [ ] Single focused agent template replaces the 3-agent parallel pattern ‚Äî covering only affected files and existing patterns to follow\n- [ ] Language allows 0, 1, or 2 agents based on how much context is missing (not binary required/skipped)\n- [ ] Section heading and overall structure preserved so contract tests remain green\n- [ ] npm run build succeeds with 0 errors after the change\n\n## Scope\nFiles: src/commands/flight-plan.ejs (Phase 1.5 section only)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:09:26.766105-08:00","created_by":"ryan","updated_at":"2026-02-19T19:19:09.106399-08:00","closed_at":"2026-02-19T19:19:09.106399-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-iij2.1","depends_on_id":"reaper-iij2","type":"parent-child","created_at":"2026-02-19T19:09:26.788753-08:00","created_by":"ryan"}]}
{"id":"reaper-io0","title":"Refactor agents to consistently use shared partials","description":"Refactor 7 agent templates to use shared EJS partials instead of inline duplicated content. This reduces maintenance burden and ensures consistency across agents.\n\nExecution Order:\n- Phase 1 (PARALLEL): All 7 refactoring tasks can run simultaneously\n  - Coding agents: reaper-dgi, reaper-nsn, reaper-qwi (similar partials)\n  - Review agents: reaper-eg9, reaper-bf3 (similar partials)\n  - Other agents: reaper-4lm, reaper-0l6 (similar partials)\n- Phase 2 (SEQUENTIAL): reaper-a4r (build verification) after all Phase 1 complete\n\nParallel Groups:\n- Group A (coding): reaper-dgi, reaper-nsn, reaper-qwi - exclusive file ownership\n- Group B (review): reaper-eg9, reaper-bf3 - exclusive file ownership\n- Group C (other): reaper-4lm, reaper-0l6 - exclusive file ownership\n\nAll tasks modify different files - no conflicts expected.\n\nAcceptance Criteria:\n- All 7 agents refactored to use partials\n- Build succeeds (npm run build)\n- Generated markdown files contain partial content\n- Agent-specific sections preserved","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T12:21:36.00861-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.493277-08:00","closed_at":"2026-01-23T12:51:59.493277-08:00","close_reason":"Completed: Refactored agents to use shared partials"}
{"id":"reaper-jbw","title":"docs/build-system.md references non-existent partial and has stale AGENT_TYPES","description":"Two issues: (1) References json-output-structure.ejs in directory tree and output structure table but it doesn't exist. (2) AGENT_TYPES mapping reflects ~15 agents from an earlier state ‚Äî missing validation-runner from review, 6 planning agents, and ai-prompt-engineer from documentation. Also missing 8 real partials from reference tables.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:27.115886-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.15559-08:00","closed_at":"2026-02-06T23:24:40.15559-08:00","close_reason":"Closed"}
{"id":"reaper-jj3","title":"Enforce TDD in flight-plan work units","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T13:01:44.727975-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.681297-08:00","closed_at":"2026-01-23T13:17:58.681297-08:00","close_reason":"TDD enforcement implemented and merged to develop"}
{"id":"reaper-jj3.1","title":"Add TDD constraint to Work Unit Constraints table","description":"Add a new row to the Work Unit Constraints table in Phase 2 of flight-plan.ejs that explicitly requires TDD methodology.\n\n**TDD Approach:** Write test assertion for constraint presence ‚Üí Add constraint ‚Üí Verify build passes\n\n**Acceptance Criteria:**\n- Work Unit Constraints table includes TDD methodology requirement\n- Clear guidance that tests must be written BEFORE implementation\n- Anti-pattern warning against \"implement first, test later\" structures\n\n**Files:** src/commands/flight-plan.ejs\n\n**Cross-Reference:** Related to reaper-jj3.2 (same file, different section - Phase 5 templates). This issue modifies Phase 2 only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:01:53.737919-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.667219-08:00","closed_at":"2026-01-23T13:17:58.667219-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.1","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:01:53.850746-08:00","created_by":"ryan"}]}
{"id":"reaper-jj3.2","title":"Add TDD requirement to issue description templates","description":"Modify the Phase 5 issue creation templates (both Beads and Jira) to include TDD methodology reference in issue descriptions.\n\n**TDD Approach:** Verify issue template structure ‚Üí Add TDD boilerplate ‚Üí Validate template syntax\n\n**Acceptance Criteria:**\n- Issue descriptions include \"TDD: Write failing tests first\" or similar\n- Both Beads and Jira templates updated consistently\n- Example shows proper TDD-structured work unit\n\n**Files:** src/commands/flight-plan.ejs\n\n**Cross-Reference:** Related to reaper-jj3.1 (same file, different section - Phase 2 constraints). This issue modifies Phase 5 only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:02:23.928594-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.676298-08:00","closed_at":"2026-01-23T13:17:58.676298-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.2","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:02:23.947939-08:00","created_by":"ryan"},{"issue_id":"reaper-jj3.2","depends_on_id":"reaper-jj3.1","type":"blocks","created_at":"2026-01-23T13:02:24.115871-08:00","created_by":"ryan"}]}
{"id":"reaper-jj3.3","title":"Rebuild and verify generated output","description":"Run the build system to regenerate commands/flight-plan.md and verify the TDD constraints appear correctly.\n\n**Acceptance Criteria:**\n- npm run build succeeds\n- Generated commands/flight-plan.md contains TDD constraints\n- No syntax errors or template issues\n\n**Files:** commands/flight-plan.md (generated)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:02:32.072049-08:00","created_by":"ryan","updated_at":"2026-01-23T13:17:58.679045-08:00","closed_at":"2026-01-23T13:17:58.679045-08:00","close_reason":"TDD enforcement implemented and merged to develop","dependencies":[{"issue_id":"reaper-jj3.3","depends_on_id":"reaper-jj3","type":"parent-child","created_at":"2026-01-23T13:02:32.086129-08:00","created_by":"ryan"},{"issue_id":"reaper-jj3.3","depends_on_id":"reaper-jj3.2","type":"blocks","created_at":"2026-01-23T13:02:32.262366-08:00","created_by":"ryan"}]}
{"id":"reaper-k0w","title":"Fix user-invocable skill discovery","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T12:29:06.479362-08:00","created_by":"ryan","updated_at":"2026-01-18T12:29:28.248205-08:00","closed_at":"2026-01-18T12:29:28.248205-08:00","close_reason":"Fixed by restructuring skills to own directories"}
{"id":"reaper-key","title":"Strengthen completion guard and add re-read protocol","description":"Make it structurally difficult for the model to enter the Completion section prematurely. Add explicit TodoWrite re-read (TaskList) instruction to Continuation Rule. Convert single-sentence bounce-back into multi-step verification guard. Add STOP-Verify banner before Completion heading. Add Re-Read Protocol subsection to todowrite-plan-protocol. Add Dependency Chain subsection: User review blockedBy all work units, Merge blockedBy User review, Close tasks and Clean up worktrees both blockedBy Merge (parallel siblings). TDD: Write tests first. Files: src/commands/takeoff.ejs, src/partials/todowrite-plan-protocol.ejs\n\n[Auto-added by verification]\nwork_type: agent_prompt\nCross-references: Shares src/commands/takeoff.ejs with reaper-7fw and reaper-c4r. This issue owns the Continuation Rule, Completion and User Feedback section heading area, and the STOP-Verify banner. Must not modify Per-Unit Cycle loop structure or Quick Reference (owned by reaper-7fw) or Pre-Planned Detection section (owned by reaper-c4r). Sequential execution recommended due to shared file.\n\nAcceptance Criteria:\n- [ ] Continuation Rule includes explicit TodoWrite re-read instruction (not just \"check TodoWrite\")\n- [ ] Continuation Rule uses multi-step verification guard instead of single-sentence bounce-back\n- [ ] A STOP-Verify banner appears before the Completion and User Feedback heading\n- [ ] todowrite-plan-protocol.ejs contains a Re-Read Protocol subsection\n- [ ] todowrite-plan-protocol.ejs contains a Dependency Chain subsection defining: User review blockedBy all work units, Merge blockedBy User review, Close tasks and Clean up worktrees both blockedBy Merge (parallel siblings)\n- [ ] Contract tests pass (npm run test in worktree)\n- [ ] Build succeeds (npm run build in worktree)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:45:27.67922-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:42.413943-08:00","closed_at":"2026-02-06T12:22:42.413943-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-key","depends_on_id":"reaper-ywn","type":"blocks","created_at":"2026-02-06T11:45:42.47202-08:00","created_by":"ryan"}]}
{"id":"reaper-kj0","title":"Add expert roster with 'on station' comms voice","description":"## Objective\nReplace bullet-list panel announcement with formatted expert roster. Each expert: name + 'on station' + one-line reason. Roster in code block with header. Footer: 'All experts briefed. Expecting positions shortly.'\n\n## TDD Approach\n1. RED: Write test for roster format\n2. GREEN: Replace panel announcement\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Expert roster with 'on station' pattern\n- [ ] One-line rationale per expert\n- [ ] Visually contained (code block with header)\n- [ ] 'All experts briefed' footer\n- [ ] Old bullet-list replaced\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: INTAKE phase (expert roster, after mission card)\nEstimated Location: Lines 280-310\n\n## Cross-References\n- Depends on: reaper-dvi (roster positioned after opening mission card)\n- Uses: reaper-586 (aviation comms voice: 'on station')\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:49.724886-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.209106-08:00","closed_at":"2026-02-06T16:42:30.209106-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-kj0","depends_on_id":"reaper-dvi","type":"blocks","created_at":"2026-02-06T15:58:13.3787-08:00","created_by":"ryan"}]}
{"id":"reaper-kpz4","title":"Remove bd daemon SessionStart hook","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T16:55:00.171839-08:00","created_by":"ryan","updated_at":"2026-02-19T16:55:46.925915-08:00","closed_at":"2026-02-19T16:55:46.925915-08:00","close_reason":"Removed bd daemon SessionStart hook from src/hooks/hooks.json and regenerated"}
{"id":"reaper-kxi","title":"README Redesign for Developer Experience","description":"Restructure README from 319 lines to ~200 lines around three escalating commands (takeoff ‚Üí flight-plan ‚Üí squadron). Create 5 new user-facing docs in docs/. Add hero moment terminal session. Implement guided path voice shaped by the Five Keys. Full design in .claude/plans/reaper-squadron-readme-redesign.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T13:14:56.772854-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:56.608486-08:00","closed_at":"2026-02-06T13:53:56.608486-08:00","close_reason":"Closed"}
{"id":"reaper-l1r","title":"CLAUDE.md omits /reaper:squadron in Key Commands and Where Voice Applies","description":"Squadron is missing from two CLAUDE.md sections: the Key Commands code block (~line 83) and the Where Voice Applies list (~line 38). It is documented in User-Invocable Commands and docs/commands.md but not in the two places users scan first.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:18.723032-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.151323-08:00","closed_at":"2026-02-06T23:24:40.151323-08:00","close_reason":"Closed"}
{"id":"reaper-l2x","title":"Add comprehensive test suites to Reaper","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T21:31:31.313688-08:00","created_by":"ryan","updated_at":"2026-02-06T01:03:56.973637-08:00","closed_at":"2026-02-06T01:03:56.973637-08:00","close_reason":"Closed"}
{"id":"reaper-l3tt","title":"Update plan-file-schema.ejs partial","description":"Remove Assumptions and Feedback Log sections from writer-mode schema. Remove Update Rules table and strikethrough guidance. Simplify Work Units to '# | Title | Type | Status | Blocked By'. Update reader mode: remove Assumptions/Feedback Log from section list and remove Feedback Log bullet from 'Adapting to Plan Completeness'.\n\nFile: src/partials/plan-file-schema.ejs\n\nAcceptance Criteria:\n- Writer-mode schema has no Assumptions or Feedback Log sections\n- Update Rules table and strikethrough guidance removed\n- Work Units table simplified to 5 columns: #, Title, Type, Status, Blocked By\n- Reader mode section list excludes Assumptions and Feedback Log\n- Feedback Log bullet removed from Adapting to Plan Completeness\n\n[Auto-added by verification] Added explicit acceptance criteria.\n\nRef: reaper-u148","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:00:40.440339-08:00","created_by":"ryan","updated_at":"2026-02-19T15:47:55.753005-08:00","closed_at":"2026-02-19T15:47:55.753005-08:00","close_reason":"Already implemented ‚Äî acceptance criteria verified against current source files"}
{"id":"reaper-let","title":"Rewrite expert position presentation (blockquote cards, separators, pacing)","description":"## Objective\nUpdate OPEN phase presentation. Expert positions use blockquote cards with bold internal headers. Add * * * separator between cards. Add facilitator interjection lines between positions. Ensure facilitator synthesis is visually distinct (plain markdown).\n\n## TDD Approach\n1. RED: Write test for blockquote card format and separators\n2. GREEN: Implement presentation changes\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Expert positions in blockquote format with bold headers\n- [ ] * * * separators between position cards\n- [ ] Facilitator interjection line between each expert\n- [ ] Facilitator synthesis in plain markdown (distinct from blockquotes)\n- [ ] Grounding rule preserved\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: OPEN phase (expert position presentation)\nEstimated Location: Lines 300-400\n\n## Cross-References\n- Depends on: reaper-fvk (visual vocabulary defines blockquote cards and * * * separators)\n- Uses: reaper-586 (editorial voice for interjection lines)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:25.264974-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.200554-08:00","closed_at":"2026-02-06T16:42:30.200554-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-let","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:08.72943-08:00","created_by":"ryan"}]}
{"id":"reaper-lfc","title":"Squadron audit fixes: command contracts, ship scan, coverage flags","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-07T12:33:00.938743-08:00","created_by":"ryan","updated_at":"2026-02-07T13:57:14.509564-08:00","closed_at":"2026-02-07T13:57:14.509564-08:00","close_reason":"Closed"}
{"id":"reaper-ma28","title":"Update README existing sections","description":"## Objective\nUpdate three existing README.md sections to reflect current system capabilities and surface commands that are not currently mentioned.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\nNote: This is a docs-only task. TDD does not apply in the traditional sense ‚Äî treat the proposed changes from the conversation as the spec and the final README state as the acceptance criteria.\n\n## Acceptance Criteria\n- [ ] Skills section explicitly names Beads, Jira, GitHub Issues, and local plan files as supported trackers; mentions work-type-matched SME reviewers\n- [ ] Commands section includes a fourth entry for /reaper:ship with a brief description and a mention of /reaper:status-worktrees\n- [ ] Contributing section includes a one-paragraph dogfooding note (Reaper develops itself via flight-plan ‚Üí takeoff ‚Üí quality gates)\n- [ ] No other sections changed; no formatting regressions\n\n## Scope\nFiles: README.md\n\nBlocks (1):\n  ‚Üê reaper-dnpt: Add parallel development guide to README and workflow docs [P3 - open]\n\n[Auto-added by verification]\n- work_type: documentation\n- File overlap: This issue and reaper-dnpt both modify README.md. The blocks relationship serializes edits to prevent conflicts. Complete this issue first so reaper-dnpt has a stable baseline.\n- Note: The 'Three Commands' section title may need adjustment when adding /reaper:ship as a fourth entry. The agent should decide whether to rename the section (e.g., 'Core Commands') or present /reaper:ship as a supporting command below the main three.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-20T21:23:59.488909-08:00","created_by":"ryan","updated_at":"2026-02-20T21:32:58.06768-08:00","closed_at":"2026-02-20T21:32:58.06768-08:00","close_reason":"Closed"}
{"id":"reaper-mau","title":"Create dev docs site for GitHub Pages","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T19:46:28.929219-08:00","created_by":"ryan","updated_at":"2026-02-06T20:13:45.434767-08:00","closed_at":"2026-02-06T20:13:45.434767-08:00","close_reason":"Test run only ‚Äî no merge needed"}
{"id":"reaper-mqr","title":"Fix takeoff orchestrator: multi-child iteration and context discipline","description":"Fix two behavioral bugs in the takeoff orchestrator prompt: (1) it stops after completing the first child task instead of iterating through all children, and (2) it reads too many source files into its own context. Adds TodoWrite-driven iteration loop with explicit continuation rules, replaces vague file-reading guidance with a strict allowlist, and adds per-unit issue closing. Design brief: .claude/plans/reaper-huddle-takeoff-orchestration-fixes.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-05T20:34:09.115947-08:00","created_by":"ryan","updated_at":"2026-02-05T20:46:22.811126-08:00","closed_at":"2026-02-05T20:46:22.811126-08:00","close_reason":"Implemented iteration loop, file reading allowlist, and Quick Reference fix"}
{"id":"reaper-mqr.1","title":"Add iteration loop, file reading allowlist, and Quick Reference fix","description":"## Objective\nApply 4 coordinated prompt changes to fix the takeoff orchestrator's multi-child iteration and excessive file reading behaviors.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\nNote: This is a prompt-only change (EJS templates). \"Tests\" = build succeeds and compiled output contains expected text.\n\n## Changes\n\n### Change 1: Strategy Execution ‚Äî Add continuation rule\nIn src/commands/takeoff.ejs (lines 99-110), replace the current Strategy Execution section with:\n- \"Execute ALL work units\" preamble\n- Per-Unit Cycle subsection with 5 steps (including CLOSE_ISSUE)\n- Progress echo instruction\n- Continuation Rule subsection referencing TodoWrite state\n\n### Change 2: Completion section trigger gate\nIn src/commands/takeoff.ejs (line 164), replace \"When all quality gates pass, present completed work:\" with explicit 3-condition trigger referencing TodoWrite completeness, with fallback to return to Strategy Execution.\n\n### Change 3: File reading allowlist\nIn src/partials/orchestrator-role-boundary.ejs (lines 32-34), replace vague \"understanding scope, gathering context\" with exhaustive 3-item allowlist (plan files, config files, scope verification).\n\n### Change 4: Quick Reference loop reinforcement\nIn src/commands/takeoff.ejs (lines 209-221), update step 6 to mention TodoWrite loop check, add step 9a for loop-back.\n\n## Acceptance Criteria\n- [ ] Strategy Execution contains \"Execute ALL work units\" preamble\n- [ ] Per-Unit Cycle has 5 steps including CLOSE_ISSUE for pre-planned children\n- [ ] Continuation Rule subsection explicitly references TodoWrite state\n- [ ] Progress echo instruction present (\"Completed X of N\")\n- [ ] Completion section has 3-condition trigger with TodoWrite reference\n- [ ] \"When to Read Files\" replaced with 3-item exhaustive allowlist\n- [ ] Quick Reference step 6 mentions TodoWrite loop check\n- [ ] Quick Reference has step 9a for loop-back\n- [ ] npm run build succeeds and generates valid commands/takeoff.md\n- [ ] No changes to sections outside the 4 targeted areas\n\n## Scope\nFiles:\n- src/commands/takeoff.ejs (modify)\n- src/partials/orchestrator-role-boundary.ejs (modify)\n\n## Context\nFull design brief with exact before/after text: .claude/plans/reaper-huddle-takeoff-orchestration-fixes.md\nPlan file: .claude/plans/reaper-takeoff-orchestration-fixes.md\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T20:34:24.070127-08:00","created_by":"ryan","updated_at":"2026-02-05T20:46:22.808708-08:00","closed_at":"2026-02-05T20:46:22.808708-08:00","close_reason":"Implemented iteration loop, file reading allowlist, and Quick Reference fix","dependencies":[{"issue_id":"reaper-mqr.1","depends_on_id":"reaper-mqr","type":"parent-child","created_at":"2026-02-05T20:34:24.074769-08:00","created_by":"ryan"}]}
{"id":"reaper-mwe0","title":"Document Reaper: disable ASCII art as supported feature","description":"## Objective\nAdd documentation for the 'Reaper: disable ASCII art' configuration option in README.md and docs/commands.md. This opt-out is already detected by the visual-vocabulary partial but has no user-facing documentation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify exact locations in README.md and docs/commands.md where this belongs\n2. GREEN: Add one clear sentence to each explaining what the option does and where to put it in a target project's CLAUDE.md\n3. BLUE: Review for clarity; ensure the instruction is actionable for a first-time user\n\n## Acceptance Criteria\n- [ ] README.md mentions 'Reaper: disable ASCII art' with a brief explanation\n- [ ] docs/commands.md explains the opt-out under a configuration or customization section\n- [ ] Both descriptions clarify this goes in the TARGET PROJECT's CLAUDE.md (not Reaper's own CLAUDE.md)\n- [ ] Language is one sentence per location ‚Äî no over-documentation\n\n## Scope\nFiles: README.md, docs/commands.md","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-20T19:25:38.474395-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.237131-08:00","closed_at":"2026-02-20T20:04:29.237131-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-mwe0","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:43.190627-08:00","created_by":"ryan"},{"issue_id":"reaper-mwe0","depends_on_id":"reaper-oifi","type":"blocks","created_at":"2026-02-20T19:25:46.31365-08:00","created_by":"ryan"}]}
{"id":"reaper-nlj","title":"status-worktrees Beads ID regex rejects hex IDs","description":"The regex ^[a-z]+-[0-9]+$ in status-worktrees.ejs only accepts numeric suffixes (reaper-42) but Beads uses hex IDs (reaper-a3f). Fix: change to ^[a-z]+-[a-f0-9]+$ or similar pattern that accepts hex.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:10.397572-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.145603-08:00","closed_at":"2026-02-06T23:24:40.145603-08:00","close_reason":"Closed"}
{"id":"reaper-nnb","title":"Fix worktree-manager CWD safety documentation","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T18:52:30.678398-08:00","created_by":"ryan","updated_at":"2026-01-13T18:58:08.110751-08:00","closed_at":"2026-01-13T18:58:08.110751-08:00","close_reason":"Fixed in commit a07fc93"}
{"id":"reaper-nsn","title":"Refactor refactoring-dev to use partials","description":"This agent has the most inline duplication (~90%). Extract to partials: pre-work-validation, directory-exclusions, git-prohibitions, tdd-testing-protocol, artifact-cleanup, no-commits-policy, output-requirements. Preserve refactoring-specific sections (code smell detection, SOLID examples, complexity analysis).\n\nFiles:\n- src/agents/refactoring-dev.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- directory-exclusions\n- git-prohibitions\n- tdd-testing-protocol\n- artifact-cleanup-coding\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-dgi (feature-developer - same partials)\n- reaper-qwi (integration-engineer - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/refactoring-dev.md contains partial content\n- Refactoring-specific sections preserved\n- File size reduced by partial extraction","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:48.996841-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.446092-08:00","closed_at":"2026-01-23T12:51:59.446092-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-nsn","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.003594-08:00","created_by":"ryan"}]}
{"id":"reaper-o49","title":"Rename command file and mechanical find-replace","description":"## Objective\nRename src/commands/huddle.ejs to src/commands/squadron.ejs. Perform mechanical find-replace of all \"huddle\"/\"Huddle\" instances (~34) and all HUDDLE_* prompt prefixes to SQUADRON_*. Update file path conventions from reaper-huddle-* to reaper-squadron-*.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that verify the renamed file exists and contains no \"huddle\" references\n2. GREEN: Perform the rename and find-replace\n3. BLUE: Verify build succeeds\n\n## Acceptance Criteria\n- [ ] File renamed from src/commands/huddle.ejs to src/commands/squadron.ejs\n- [ ] All ~34 instances of \"huddle\"/\"Huddle\" replaced with \"squadron\"/\"Squadron\"\n- [ ] All 6 HUDDLE_* prompt prefixes renamed to SQUADRON_*\n- [ ] All reaper-huddle-* file path references updated to reaper-squadron-*\n- [ ] grep -ri \"huddle\" src/commands/ returns zero results\n- [ ] Build succeeds (npm run build)\n\n## Scope\nFiles: 1 (src/commands/squadron.ejs ‚Äî renamed from huddle.ejs)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS command template in src/commands/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:39.63894-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.474218-08:00","closed_at":"2026-02-06T11:51:01.474218-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-o49","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:09.978744-08:00","created_by":"ryan"}]}
{"id":"reaper-ocev","title":"fix(flight-plan): replace LANDED with FILED gauge, move next steps below card with bold formatting","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-20T18:30:51.968354-08:00","created_by":"ryan","updated_at":"2026-02-20T18:54:34.761724-08:00","closed_at":"2026-02-20T18:54:34.761724-08:00","close_reason":"Closed"}
{"id":"reaper-ocn6","title":"Add contract test preventing Five Keys in squadron output","description":"Add contract test in scripts/contracts.test.js ensuring generated commands/squadron.md does not contain Five Keys anywhere. Prevents scope boundary regression. Test should reference CLAUDE.md rule that Five Keys must not be imposed on target projects.\n\nWORK_TYPE: test_code\n\nCROSS-REFERENCES:\n- reaper-9kp: Template change that this test verifies (BLOCKS execution until complete)\n- reaper-8vi5: Related test file update in visual-vocabulary.test.js\n- reaper-gcf: Parent epic\n\nFILE ASSIGNMENTS:\n- scripts/contracts.test.js (exclusive ownership)\n\nSIZE ESTIMATE: 1 file, ~20 LOC changes\n\nACCEPTANCE CRITERIA:\n- Add describe block in contracts.test.js for squadron Five Keys contract\n- Test reads generated commands/squadron.md\n- Assert file does not contain \"Five Keys\" string anywhere\n- Test comment references CLAUDE.md scope boundary rule\n- Test must fail before reaper-9kp and pass after\n\nRef: reaper-ocn6","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T13:48:38.396974-08:00","created_by":"ryan","updated_at":"2026-02-08T14:10:44.155747-08:00","closed_at":"2026-02-08T14:10:44.155747-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ocn6","depends_on_id":"reaper-9kp","type":"blocks","created_at":"2026-02-08T13:48:42.506203-08:00","created_by":"ryan"}]}
{"id":"reaper-oifi","title":"Create docs/skills.md and update README","description":"## Objective\nCreate docs/skills.md as a first-class reference for all 9 skills that ship with Reaper. Update README to mention skills in the 'Under the Hood' section.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify all 9 skills (code-review, workflow-planner-planning, workflow-planner-verification, worktree-manager, issue-tracker-beads, issue-tracker-github, issue-tracker-jira, issue-tracker-planfile) and what each needs documented\n2. GREEN: Create docs/skills.md with purpose, invocation context, and relationship to agents/commands for each skill; add skills entry to README Under the Hood section with link\n3. BLUE: Review for consistency with docs/agents.md format and ensure all 9 skills are accurately described\n\n## Acceptance Criteria\n- [ ] docs/skills.md created and committed\n- [ ] All 9 skills documented with: purpose, which command/agent invokes them, and what they produce\n- [ ] code-review skill includes description of its 5 specialty files and when each is selected\n- [ ] issue-tracker skills include description of the platform abstraction and detection order\n- [ ] README 'Under the Hood' section mentions skills with link to docs/skills.md\n- [ ] No skills duplicated or omitted\n\n## Scope\nFiles: docs/skills.md (new), README.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-20T19:25:21.723102-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.223835-08:00","closed_at":"2026-02-20T20:04:29.223835-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-oifi","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:43.055572-08:00","created_by":"ryan"}]}
{"id":"reaper-olx","title":"Add context hygiene guidance to takeoff template","description":"The takeoff template has TodoWrite recovery and STOP checkpoints but lacks explicit guidance for context window management in long sessions (6+ work units). Add a brief section advising the orchestrator on context accumulation awareness and reliance on large_multi_worktree strategy worktree isolation to keep individual agent contexts fresh.\n\n[Auto-added by verification]\nWork type: agent_prompt\nAssigned files: src/commands/takeoff.ejs\nFile ownership: exclusive\nEstimated LOC: ~10","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:04:51.622929-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.531-08:00","closed_at":"2026-02-06T15:46:58.531-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-olx","depends_on_id":"reaper-8ex","type":"blocks","created_at":"2026-02-06T15:04:56.24017-08:00","created_by":"ryan"}]}
{"id":"reaper-onu2","title":"Quality Gate Command Configuration","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T17:10:27.279778-08:00","created_by":"ryan","updated_at":"2026-02-19T17:44:04.128997-08:00","closed_at":"2026-02-19T17:44:04.128997-08:00","close_reason":"Closed"}
{"id":"reaper-onu2.1","title":"Add quality gate config check and warning to takeoff","description":"Claude Code auto-injects CLAUDE.md into agent context, so no file reads are needed. Add a prompt-level pre-flight section to takeoff.ejs that checks whether quality gate test and lint commands appear in its already-loaded context.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting quality gate config section exists in takeoff template\n2. GREEN: Add the pre-flight section to src/commands/takeoff.ejs\n3. BLUE: Verify generated output and contract test passes\n\n## Acceptance Criteria\n- [ ] Takeoff prompt has a pre-flight quality gate config section\n- [ ] If context contains quality gate commands (from CLAUDE.md ## Quality Gates section): use them, skip inference, no warning\n- [ ] If context lacks quality gate commands: advisory warning card shown with /reaper:configure-quality-gates recommendation\n- [ ] Takeoff continues execution in both cases (non-blocking)\n- [ ] No Bash/Read tool calls required for the check\n- [ ] Contract test asserts quality gate config section is present in takeoff template\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/takeoff.ejs, commands/takeoff.md (generated)","notes":"[Auto-added by verification] Cross-reference: reaper-onu2.3 registers the command in contracts and docs. The warning text should reference /reaper:configure-quality-gates which is the command created by reaper-onu2.2.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T17:10:38.048449-08:00","created_by":"ryan","updated_at":"2026-02-19T17:28:36.595347-08:00","closed_at":"2026-02-19T17:28:36.595347-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-onu2.1","depends_on_id":"reaper-onu2","type":"parent-child","created_at":"2026-02-19T17:10:38.061208-08:00","created_by":"ryan"},{"issue_id":"reaper-onu2.1","depends_on_id":"reaper-onu2.2","type":"related","created_at":"2026-02-19T17:11:07.169256-08:00","created_by":"ryan"},{"issue_id":"reaper-onu2.1","depends_on_id":"reaper-onu2.3","type":"relates-to","created_at":"2026-02-19T17:12:25.205539-08:00","created_by":"ryan"}]}
{"id":"reaper-onu2.2","title":"Create configure-quality-gates command","description":"New user-invocable command /reaper:configure-quality-gates that detects available test runners and linters, presents recommendations via AskUserQuestion, writes to CLAUDE.md, and commits.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add contract test asserting required sections exist in configure-quality-gates template\n2. GREEN: Implement src/commands/configure-quality-gates.ejs with detection, approval flow, write, commit\n3. BLUE: Refactor detection strategy for clarity\n\n## Detection Strategy\n- JS/TS: read package.json scripts for test/lint/coverage entries; detect jest, vitest, mocha, eslint, prettier, biome\n- Python: check pytest.ini, pyproject.toml [tool.pytest.*], setup.cfg, ruff.toml\n- Go: presence of go.mod -\u003e go test ./...; detect golangci-lint in Makefile\n- Rust: presence of Cargo.toml -\u003e cargo test; cargo clippy for lint\n- Makefile: scan for test, lint, check targets as fallback\n- Always offer manual entry as an option\n\n## CLAUDE.md Write Format\nAppend (or update existing ## Quality Gates section):\n\n  ## Quality Gates\n\n  The following commands are used during automated quality gates:\n\n  **Test command**: `\u003cdetected-test-command\u003e`\n  **Lint command**: `\u003cdetected-lint-command\u003e`\n\nHuman-readable text is sufficient for agents to recognize quality gate commands from context. No comment markers needed.\n\n## AskUserQuestion Flow\n1. Present detected commands as recommended option\n2. Offer manual entry as alternative\n3. If quality gates already configured: show current values, offer update-or-keep\n4. Confirm final commands before writing\n\n## Acceptance Criteria\n- [ ] Command detects test/lint commands from project config (\u003e=4 ecosystems)\n- [ ] AskUserQuestion approval flow matches existing command patterns\n- [ ] Writes correct CLAUDE.md Quality Gates section (human-readable, no markers)\n- [ ] Handles existing section (update) and absent section (append) cases\n- [ ] Re-run: detects existing config, shows current values, offers update-or-keep\n- [ ] Commits: chore(config): add quality gate commands to CLAUDE.md (no Ref: footer)\n- [ ] lint: skip is a valid lint command value (suppress-warning escape hatch)\n- [ ] Contract test asserts Detection, Approval Flow, CLAUDE.md write, and Commit sections\n- [ ] All existing tests pass\n\n## Scope\nFiles: src/commands/configure-quality-gates.ejs, commands/configure-quality-gates.md (generated)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T17:10:54.328373-08:00","created_by":"ryan","updated_at":"2026-02-19T17:28:36.598874-08:00","closed_at":"2026-02-19T17:28:36.598874-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-onu2.2","depends_on_id":"reaper-onu2","type":"parent-child","created_at":"2026-02-19T17:10:54.333329-08:00","created_by":"ryan"}]}
{"id":"reaper-onu2.3","title":"Register command, add contracts, update docs","description":"Wire the new configure-quality-gates command into the contracts test suite and update documentation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Verify contracts.test.js fails when command is not registered\n2. GREEN: Add command to ALL_COMMANDS, COMMAND_SEMANTIC_CONTRACTS, and registerCommandSemanticSuite call\n3. BLUE: Update docs and CLAUDE.md\n\n## Acceptance Criteria\n- [ ] 'configure-quality-gates' added to ALL_COMMANDS array in scripts/contracts.test.js\n- [ ] COMMAND_SEMANTIC_CONTRACTS entry added with section patterns (Detection, Approval Flow, CLAUDE.md write, Commit)\n- [ ] registerCommandSemanticSuite('configure-quality-gates') call added\n- [ ] docs/commands.md has complete reference section for configure-quality-gates\n- [ ] CLAUDE.md references /reaper:configure-quality-gates in Key Commands section\n- [ ] npm test passes with 681+ tests\n- [ ] All existing tests continue to pass\n\n## Scope\nFiles: scripts/contracts.test.js, docs/commands.md, CLAUDE.md","notes":"[Auto-added by verification] Cross-reference: reaper-onu2.1 adds a takeoff warning that references /reaper:configure-quality-gates. Ensure CLAUDE.md Key Commands section is consistent with the command name used in the takeoff warning.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:11:01.417959-08:00","created_by":"ryan","updated_at":"2026-02-19T17:35:15.709413-08:00","closed_at":"2026-02-19T17:35:15.709413-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-onu2.3","depends_on_id":"reaper-onu2","type":"parent-child","created_at":"2026-02-19T17:11:01.427693-08:00","created_by":"ryan"},{"issue_id":"reaper-onu2.3","depends_on_id":"reaper-onu2.2","type":"blocks","created_at":"2026-02-19T17:11:04.36665-08:00","created_by":"ryan"},{"issue_id":"reaper-onu2.3","depends_on_id":"reaper-onu2.1","type":"relates-to","created_at":"2026-02-19T17:12:25.203881-08:00","created_by":"ryan"}]}
{"id":"reaper-op0k","title":"ADR detection in flight-plan","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:19:44.485475-08:00","created_by":"ryan","updated_at":"2026-02-19T17:20:02.144135-08:00","closed_at":"2026-02-19T17:20:02.144135-08:00","close_reason":"Closed"}
{"id":"reaper-orj","title":"Replace generic 'Take.' with per-expert stance summaries in squadron nameplate headers","description":"The squadron command rendered example uses a static 'Take.' after each expert nameplate (e.g., '\u003e **DATABASE ARCHITECT** ‚Äî Take.'). When every expert card repeats the same word, it adds no information. Replace with a dynamic 3-7 word stance summary distilled from each expert's position. Two edits in src/commands/squadron.ejs: (1) update rendered example at line 98, (2) add explicit instruction near line 268 telling the facilitator to generate a unique stance summary per expert.\n\n[Auto-added by verification]\n\n**Work Type**: agent_prompt (modifies user-invocable command template)\n\n**Acceptance Criteria**:\n1. Rendered example at line 98 shows expert nameplate with dynamic stance summary instead of \"Take.\"\n2. Facilitator instruction near line 268 explicitly directs generation of unique 3-7 word stance summaries per expert\n3. Build system runs successfully (npm run build)\n4. Generated commands/squadron.md reflects the changes\n5. Prompt quality gate (reaper:ai-prompt-engineer) passes after changes","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T20:58:49.831974-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:09.946563-08:00","closed_at":"2026-02-06T21:46:09.946563-08:00","close_reason":"Merged to develop. Replaced generic Take. with dynamic 3-7 word stance summaries in squadron nameplate headers."}
{"id":"reaper-osk","title":"Fix flight-plan dependency vs parent/child confusion","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-06T18:42:32.172631-08:00","created_by":"ryan","updated_at":"2026-02-06T18:53:10.374205-08:00","closed_at":"2026-02-06T18:53:10.374205-08:00","close_reason":"Closed"}
{"id":"reaper-osk.1","title":"Clarify dependency semantics in task-system-operations partial","description":"Remove parent-child from Dependency Type Semantics in src/partials/task-system-operations.ejs. CREATE_ISSUE already handles hierarchy via --parent parameter. ADD_DEPENDENCY should only document blocks and related types. This eliminates the ambiguity that causes agents to use ADD_DEPENDENCY for hierarchy.\n\n**Work type:** agent_prompt\n**Assigned file:** src/partials/task-system-operations.ejs\n**File ownership:** exclusive\n**Estimated LOC change:** ~10 lines\n\n## Acceptance Criteria\n- [ ] The \"Dependency Type Semantics\" section in task-system-operations.ejs no longer lists parent-child as a dependency type\n- [ ] ADD_DEPENDENCY documentation only covers `blocks` and `related` types\n- [ ] A note clarifies that hierarchy is established via CREATE_ISSUE with parent= parameter, not via ADD_DEPENDENCY\n- [ ] No other sections in the partial are altered\n\n## Cross-References\n[Auto-added by verification] This is part of a 3-unit parallel group with reaper-osk.2 and reaper-osk.3. All three address the same root cause (parent-child conflated with dependency) in different files. No file overlap.\n\n## Execution Hints\nParallelizable with reaper-osk.2 and reaper-osk.3. Blocks reaper-osk.4 (build/verify).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:42:36.53751-08:00","created_by":"ryan","updated_at":"2026-02-06T18:53:10.354901-08:00","closed_at":"2026-02-06T18:53:10.354901-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-osk.1","depends_on_id":"reaper-osk","type":"parent-child","created_at":"2026-02-06T18:42:36.572534-08:00","created_by":"ryan"}]}
{"id":"reaper-osk.2","title":"Fix workflow-planner CREATE_ISSUE instructions","description":"Replace line 239 in src/agents/workflow-planner.ejs which says 'Use CREATE_ISSUE to create subtasks, then ADD_DEPENDENCY with parent-child type to link them to the parent issue.' This two-step process is the primary bug. Change to: use CREATE_ISSUE with parent= parameter directly. ADD_DEPENDENCY should only be used for execution-order blocking (type=blocks).\n\n**Work type:** agent_prompt\n**Assigned file:** src/agents/workflow-planner.ejs\n**File ownership:** exclusive\n**Estimated LOC change:** ~5 lines\n\n## Acceptance Criteria\n- [ ] Line 239 no longer instructs agents to use ADD_DEPENDENCY with parent-child type\n- [ ] The replacement text instructs use of CREATE_ISSUE with parent= parameter for hierarchy\n- [ ] ADD_DEPENDENCY is only referenced for blocks (execution order) and related (informational)\n- [ ] The \"Creating Work Units\" section heading and surrounding context remain intact\n\n## Cross-References\n[Auto-added by verification] This is part of a 3-unit parallel group with reaper-osk.1 and reaper-osk.3. All three address the same root cause (parent-child conflated with dependency) in different files. No file overlap.\n\n## Execution Hints\nParallelizable with reaper-osk.1 and reaper-osk.3. Blocks reaper-osk.4 (build/verify).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:42:38.490421-08:00","created_by":"ryan","updated_at":"2026-02-06T18:53:10.359683-08:00","closed_at":"2026-02-06T18:53:10.359683-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-osk.2","depends_on_id":"reaper-osk","type":"parent-child","created_at":"2026-02-06T18:42:38.497369-08:00","created_by":"ryan"}]}
{"id":"reaper-osk.3","title":"Clarify flight-plan Phase 5 dependency instructions","description":"In src/commands/flight-plan.ejs Phase 5 (lines 332-334), remove the ambiguous 'Use parent-child relationships for hierarchy only' from the Dependencies section. The Dependencies section should exclusively document execution-order blocking (ADD_DEPENDENCY type=blocks). Step 2 already correctly uses parent=EPIC_ID for hierarchy.\n\n**Work type:** agent_prompt\n**Assigned file:** src/commands/flight-plan.ejs\n**File ownership:** exclusive\n**Estimated LOC change:** ~5 lines\n\n## Acceptance Criteria\n- [ ] The Phase 5 Dependencies section no longer mentions parent-child relationships\n- [ ] The Dependencies section only documents ADD_DEPENDENCY with type=blocks for execution ordering\n- [ ] Step 2 (issue creation with parent=EPIC_ID) remains unchanged and continues to handle hierarchy\n- [ ] No other phases in flight-plan.ejs are altered\n\n## Cross-References\n[Auto-added by verification] This is part of a 3-unit parallel group with reaper-osk.1 and reaper-osk.2. All three address the same root cause (parent-child conflated with dependency) in different files. No file overlap.\n\n## Execution Hints\nParallelizable with reaper-osk.1 and reaper-osk.2. Blocks reaper-osk.4 (build/verify).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:42:40.13047-08:00","created_by":"ryan","updated_at":"2026-02-06T18:53:10.362282-08:00","closed_at":"2026-02-06T18:53:10.362282-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-osk.3","depends_on_id":"reaper-osk","type":"parent-child","created_at":"2026-02-06T18:42:40.158046-08:00","created_by":"ryan"}]}
{"id":"reaper-osk.4","title":"Build and verify generated output","description":"Run npm run build to regenerate output files from modified templates. Verify generated files reflect the template changes. Confirm no remaining references to ADD_DEPENDENCY --type parent-child pattern anywhere in the codebase.\n\n**Work type:** configuration\n**Assigned files:** agents/workflow-planner.md (generated), commands/flight-plan.md (generated), plus any files including task-system-operations partial\n**File ownership:** exclusive\n**Estimated LOC change:** 0 (build output only)\n\n## Acceptance Criteria\n- [ ] npm run build completes without errors\n- [ ] Generated agents/workflow-planner.md reflects the template change from reaper-osk.2\n- [ ] Generated commands/flight-plan.md reflects the template change from reaper-osk.3\n- [ ] All generated files including the task-system-operations partial reflect changes from reaper-osk.1\n- [ ] grep -r \"ADD_DEPENDENCY.*parent-child\" finds zero matches across the entire codebase\n- [ ] npm test passes (no regressions in build.test.js, contracts.test.js)\n\n## Cross-References\n[Auto-added by verification] This issue depends on all three template fixes (reaper-osk.1, reaper-osk.2, reaper-osk.3) completing first. It is the integration verification step.\n\n## Execution Hints\nSequential only. Must run after reaper-osk.1, reaper-osk.2, and reaper-osk.3 are all complete. This is the final step on the critical path.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:42:41.114482-08:00","created_by":"ryan","updated_at":"2026-02-06T18:53:10.369099-08:00","closed_at":"2026-02-06T18:53:10.369099-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-osk.4","depends_on_id":"reaper-osk","type":"parent-child","created_at":"2026-02-06T18:42:41.131256-08:00","created_by":"ryan"},{"issue_id":"reaper-osk.4","depends_on_id":"reaper-osk.1","type":"blocks","created_at":"2026-02-06T18:42:45.417966-08:00","created_by":"ryan"},{"issue_id":"reaper-osk.4","depends_on_id":"reaper-osk.2","type":"blocks","created_at":"2026-02-06T18:42:45.490916-08:00","created_by":"ryan"},{"issue_id":"reaper-osk.4","depends_on_id":"reaper-osk.3","type":"blocks","created_at":"2026-02-06T18:42:45.554473-08:00","created_by":"ryan"}]}
{"id":"reaper-p768","title":"Update issue-tracker-planfile SKILL.ejs","description":"Remove Assumptions and Feedback Log sections from schema block. Remove Section Update Rules table and IMMUTABLE/APPEND/EDIT footer. Remove the Manual Execution Guide Template section.\\n\\nAcceptance Criteria:\\n- Schema block has no Assumptions or Feedback Log sections\\n- Section Update Rules table removed\\n- Manual Execution Guide Template section removed\\n\\nFile: src/skills/issue-tracker-planfile/SKILL.ejs\\n\\nRef: reaper-u148","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T13:00:42.2456-08:00","created_by":"ryan","updated_at":"2026-02-19T15:47:55.755704-08:00","closed_at":"2026-02-19T15:47:55.755704-08:00","close_reason":"Already implemented ‚Äî acceptance criteria verified against current source files"}
{"id":"reaper-p7c","title":"Re-theme huddle command to squadron","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T11:27:31.26261-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.48471-08:00","closed_at":"2026-02-06T11:51:01.48471-08:00","close_reason":"Squadron re-theme complete and merged to develop"}
{"id":"reaper-p7jh","title":"Wire pre-output-verification and blast-radius into feature-developer","description":"## Objective\nTwo changes to src/agents/feature-developer.ejs:\n1. Insert the pre-output-verification partial immediately before the Required JSON Output section (currently line 94)\n2. Add a bounded impact scan step to the Decompose Requirements section (currently line 55)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests (contract + content checks) against current generated agents/feature-developer.md\n2. GREEN: Make the two template edits, run npm run build, verify generated output\n3. BLUE: Confirm token counts, verify no project-specific language\n\n## Acceptance Criteria\n- [ ] src/agents/feature-developer.ejs includes partials/pre-output-verification immediately before the JSON output block\n- [ ] Feature Decomposition / Decompose Requirements section contains an impact scan step with explicit radius constraint: same file and its direct importers only ‚Äî no codebase-wide search\n- [ ] Impact scan instruction uses generic language (no Reaper-specific terms)\n- [ ] npm run build succeeds\n- [ ] agents/feature-developer.md (generated) contains ## Pre-Output Verification heading\n- [ ] agents/feature-developer.md contains blast-radius / impact scan instruction text\n\n## Scope\nFiles: src/agents/feature-developer.ejs, agents/feature-developer.md (generated via build)\n\n## Work Type\nagent_prompt\n\n## Cross-References\n- Depends on: reaper-y4th (provides the pre-output-verification partial)\n- Parallel with: reaper-t40d (bug-fixer wiring ‚Äî different files, no overlap)\n- Blocks: reaper-1w5o (contract tests need to read the blast-radius language from the generated output)\n\n## Execution Context\nGroup 2 (runs in parallel with reaper-t40d after reaper-y4th completes).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:12:43.888449-08:00","created_by":"ryan","updated_at":"2026-02-19T14:31:04.057999-08:00","closed_at":"2026-02-19T14:31:04.057999-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-p7jh","depends_on_id":"reaper-b3t3","type":"blocks","created_at":"2026-02-19T14:13:04.983255-08:00","created_by":"ryan"},{"issue_id":"reaper-p7jh","depends_on_id":"reaper-y4th","type":"blocks","created_at":"2026-02-19T14:13:07.771098-08:00","created_by":"ryan"}]}
{"id":"reaper-pc2u","title":"Add dirty-root override rule to workflow-planner","description":"## Objective\nEdit src/agents/workflow-planner.ejs to add a dirty-root override rule to the strategy selection framework. Run npm run build after to regenerate agents/workflow-planner.md.\n\n## File Ownership\nEXCLUSIVE files: src/agents/workflow-planner.ejs, agents/workflow-planner.md (generated)\nDo NOT edit scripts/contracts.test.js ‚Äî contract tests are owned by reaper-ran4.\n\n## Cross-References\n- reaper-0gu7: Parallel sibling ‚Äî adds the same escalation logic to takeoff.ejs (no file overlap)\n- reaper-ran4: Blocked by this issue ‚Äî will add contract tests after this work is built\n\n## Implementation Approach\n1. Add the dirty-root override rule to the Strategy Selection section of workflow-planner.ejs\n2. Run npm run build to regenerate agents/workflow-planner.md\n3. Verify all existing tests pass (npm test)\n\n## Acceptance Criteria\n- [ ] Strategy Selection Override Rules section contains a dirty-root override: if root working directory has uncommitted changes (git status --porcelain returns non-empty) AND selected strategy is very_small_direct, escalate to medium_single_branch\n- [ ] Decision Table has new row: 'any | Root working directory has uncommitted changes | medium_single_branch (dirty-root override)'\n- [ ] Prose explains the rationale: uncommitted root changes risk contaminating the shared worktree environment\n- [ ] Override precedence is clear: single-document override still takes precedence over dirty-root override; dirty-root override takes precedence over content override and score-based selection\n- [ ] npm run build completes without errors\n- [ ] All existing tests pass\n\n## Work Type\nagent_prompt","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:18:09.063174-08:00","created_by":"ryan","updated_at":"2026-02-19T14:36:38.382975-08:00","closed_at":"2026-02-19T14:36:38.382975-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-pc2u","depends_on_id":"reaper-4al4","type":"blocks","created_at":"2026-02-19T14:18:26.325307-08:00","created_by":"ryan"}]}
{"id":"reaper-ph47","title":"ADR-0003: Semantic tool naming convention","status":"closed","priority":4,"issue_type":"task","created_at":"2026-02-18T16:39:43.497545-08:00","created_by":"ryan","updated_at":"2026-02-18T16:40:09.575238-08:00","closed_at":"2026-02-18T16:40:09.575238-08:00","close_reason":"ADR written and committed"}
{"id":"reaper-piy9","title":"Contract test: union semantics deduplication","description":"## Objective\nAdd a contract test asserting correct gate profile deduplication logic when a changeset spans 3+ work types with potentially conflicting Gate 1 requirements.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write a failing contract test for a 3-work-type changeset (e.g., application_code + database_migration + documentation) asserting the union produces the correct aggregate gate profile with no duplicate Gate 1 agents\n2. GREEN: Verify the quality-gate-protocol partial's union semantics produce the asserted result\n3. BLUE: Ensure test is readable and documents the union deduplication rules clearly\n\n## Acceptance Criteria\n- [ ] Contract test added to scripts/contracts.test.js for 3-work-type union scenario\n- [ ] Test asserts no duplicate Gate 1 agents in the aggregate profile\n- [ ] Test asserts all required Gate 2 agents from each work type are present in the union\n- [ ] All existing tests continue to pass\n\n## Scope\nFiles: scripts/contracts.test.js, src/partials/quality-gate-protocol.ejs (read only)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-20T19:25:04.615584-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.227366-08:00","closed_at":"2026-02-20T20:04:29.227366-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-piy9","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:42.920865-08:00","created_by":"ryan"},{"issue_id":"reaper-piy9","depends_on_id":"reaper-f8bm","type":"blocks","created_at":"2026-02-20T19:25:46.247019-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5","title":"Template Build System for DRY Plugin Development","description":"Create a DRY template build system for Reaper plugin. Extract repeated sections from agents into reusable partials, create Node.js build script with EJS templates, restructure source under ./src/, output to project root.\n\n## Execution Order (for reaper:takeoff)\n\n**Phase 1 - Analysis \u0026 Design (PARALLEL):**\n- reaper-pq5.1: Analyze agents\n- reaper-pq5.2: Design template structure\n\n**Phase 2 - Foundation (after Phase 1):**\n- reaper-pq5.3: Create src/ structure (needs .1 AND .2)\n- reaper-pq5.6: Build script (needs .2 only, can start when .2 done)\n\n**Phase 3 - Template Conversion (PARALLEL, after .3):**\n- reaper-pq5.4: Convert agents to EJS\n- reaper-pq5.5: Convert skills/commands/hooks\n\n**Phase 4 - Integration (after .4, .5, .6):**\n- reaper-pq5.7: npm scripts and hooks\n\n**Phase 5 - Verification (after .7):**\n- reaper-pq5.8: Verify build output matches\n\n## File Ownership\n- .1: Read-only analysis (agents/*.md)\n- .2: docs/build-system.md\n- .3: src/partials/*.ejs, src/README.md\n- .4: src/agents/*.ejs\n- .5: src/skills/**, src/commands/**, src/hooks/**\n- .6: scripts/build.js, package.json (devDependencies)\n- .7: package.json (scripts), .husky/pre-commit\n- .8: Verification only","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-12T16:00:57.647561-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.836193-08:00","closed_at":"2026-01-13T16:56:04.836193-08:00","close_reason":"Implemented EJS template build system"}
{"id":"reaper-pq5.1","title":"Analyze agents and extract shared sections","description":"Catalog all 17 agents, identify exact repeated sections (PRE-WORK VALIDATION, Directory Exclusions, OUTPUT REQUIREMENTS, Cleanup protocols), document variations per agent type (coding vs review vs planning). Deliverables: List of shared sections with line counts, variation matrix, recommended partial file structure. Files: agents/*.md (read only)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:03.942687-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.811633-08:00","closed_at":"2026-01-13T16:56:04.811633-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.1","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:03.952394-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.2","title":"Design template structure and build script","description":"Define EJS partial naming conventions, variable schema, build script architecture. Deliverables: Template syntax documentation, variable list (AGENT_NAME, AGENT_TYPE, etc.), build script pseudocode. Files: docs/build-system.md (new)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:04.146383-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.818326-08:00","closed_at":"2026-01-13T16:56:04.818326-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.2","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:04.147137-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.3","title":"Create src/ directory structure with partials","description":"Create source directory layout, extract shared sections into partial files. Deliverables: src/ directory with subdirectories, shared partials extracted (pre-work-validation.ejs, directory-exclusions.ejs, output-requirements.ejs, cleanup-protocol.ejs), README explaining structure. Files: src/partials/*.ejs, src/README.md. Blocked by: reaper-pq5.1, reaper-pq5.2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:12.941534-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.821501-08:00","closed_at":"2026-01-13T16:56:04.821501-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:12.949119-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5.1","type":"blocks","created_at":"2026-01-12T16:01:28.396479-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.3","depends_on_id":"reaper-pq5.2","type":"blocks","created_at":"2026-01-12T16:01:28.454732-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.4","title":"Convert agents to EJS templates","description":"Convert all 17 agent .md files to EJS templates that include partials. Templates use includes for shared sections, variables for agent-specific content.\n\nFiles: src/agents/*.ejs (17 files)\n\nAcceptance Criteria:\n- All 17 agents converted to EJS templates\n- Each template uses \u003c%- include() %\u003e for shared sections (pre-work-validation, directory-exclusions, output-requirements, cleanup-protocol)\n- Agent-specific variables defined at top of each template\n- Templates follow naming convention from reaper-pq5.2 design\n\nRelated: reaper-pq5.5 (parallel work - converts skills/commands/hooks)\nBlocked by: reaper-pq5.3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.208903-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.823965-08:00","closed_at":"2026-01-13T16:56:04.823965-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.4","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.209647-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.4","depends_on_id":"reaper-pq5.3","type":"blocks","created_at":"2026-01-12T16:01:28.636289-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.5","title":"Convert skills, commands, hooks to templates","description":"Move skills, commands, hooks to src/ and convert any with shared content. Structure mirrors output structure.\n\nFiles: src/skills/** (~15 files), src/commands/** (~4 files), src/hooks/** (~2 files)\n\nAcceptance Criteria:\n- All skills, commands, hooks moved to src/ preserving directory structure\n- Any shared content extracted to partials where applicable\n- Template syntax consistent with agent templates from reaper-pq5.4\n- Build script (reaper-pq5.6) can process all component types\n\nRelated: reaper-pq5.4 (parallel work - converts agents)\nBlocked by: reaper-pq5.3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.410807-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.826341-08:00","closed_at":"2026-01-13T16:56:04.826341-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.5","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.41147-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.5","depends_on_id":"reaper-pq5.3","type":"blocks","created_at":"2026-01-12T16:01:28.695904-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.6","title":"Implement Node.js build script","description":"Create build.js that compiles EJS templates to output directories. Reads src/, outputs to project root (agents/, skills/, commands/, hooks/). Handles all component types, clear error messages, optional watch mode.\n\nFiles: scripts/build.js, package.json (add ejs dependency)\n\nAcceptance Criteria:\n- build.js compiles all EJS templates from src/ to project root\n- Handles agents, skills, commands, hooks directory structures\n- Clear error messages on template syntax errors\n- Optional --watch flag for development\n- Exit code 0 on success, non-zero on failure\n- ejs package added to package.json devDependencies\n\nRelated: reaper-pq5.7 (also modifies package.json - adds npm scripts)\nBlocked by: reaper-pq5.2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:13.620599-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.828557-08:00","closed_at":"2026-01-13T16:56:04.828557-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.6","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:13.621308-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.6","depends_on_id":"reaper-pq5.2","type":"blocks","created_at":"2026-01-12T16:01:28.914003-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.7","title":"Add npm scripts and pre-commit hook","description":"Add npm run build script, integrate with existing husky hooks. Pre-commit runs build and stages changes. Update documentation.\n\nFiles: package.json (scripts section), .husky/pre-commit\n\nAcceptance Criteria:\n- npm run build executes scripts/build.js\n- npm run build:watch executes with --watch flag\n- Pre-commit hook runs build and stages generated files\n- CLAUDE.md updated with build system documentation\n- No breaking changes to existing husky hooks\n\nRelated: reaper-pq5.6 (creates build.js that this integrates)\nBlocked by: reaper-pq5.4, reaper-pq5.5, reaper-pq5.6","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:19.700298-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.830884-08:00","closed_at":"2026-01-13T16:56:04.830884-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:19.706181-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.4","type":"blocks","created_at":"2026-01-12T16:01:29.110155-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.5","type":"blocks","created_at":"2026-01-12T16:01:29.172674-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.7","depends_on_id":"reaper-pq5.6","type":"blocks","created_at":"2026-01-12T16:01:29.233079-08:00","created_by":"ryan"}]}
{"id":"reaper-pq5.8","title":"Verify build output matches current files","description":"Run build, diff against current files, fix any discrepancies. npm run build must produce byte-identical output to current files. All tests pass, plugin loads correctly in Claude Code. Files: agents/*, skills/*, commands/*, hooks/*. Blocked by: reaper-pq5.7","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:01:19.907481-08:00","created_by":"ryan","updated_at":"2026-01-13T16:56:04.833836-08:00","closed_at":"2026-01-13T16:56:04.833836-08:00","close_reason":"Implemented EJS template build system","dependencies":[{"issue_id":"reaper-pq5.8","depends_on_id":"reaper-pq5","type":"parent-child","created_at":"2026-01-12T16:01:19.908336-08:00","created_by":"ryan"},{"issue_id":"reaper-pq5.8","depends_on_id":"reaper-pq5.7","type":"blocks","created_at":"2026-01-12T16:01:29.405923-08:00","created_by":"ryan"}]}
{"id":"reaper-q0x9","title":"Eliminate internal implementation leakage from primary workflow commands","description":"Primary workflow commands (flight-plan, takeoff, squadron, ship, status-worktrees, start, claude-sync) expose internal implementation details when Claude communicates with users. Claude references abstract operation names (FETCH_ISSUE, TASK_SYSTEM, markdown_only), internal file sentinels (RESULTS.md, FAULT.md), skill routing tables, gate classification internals, and tool names (TaskCreate) as if the user understands these concepts.\n\nThe fix is a shared user-communication contract partial plus inline annotations in each command that explicitly tell the AI orchestrator what language to use (and avoid) when reporting progress to users. Users should only hear about their work and outcomes ‚Äî never about the machinery.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T17:39:40.051066-08:00","created_by":"ryan","updated_at":"2026-02-18T18:34:03.235533-08:00","closed_at":"2026-02-18T18:34:03.235533-08:00","close_reason":"Closed"}
{"id":"reaper-q0x9.1","title":"Create user-comms-contract partial and write failing tests","description":"## Objective\nCreate the shared EJS partial that defines the user communication contract, and write failing tests (TDD RED phase) that verify its inclusion in all primary workflow commands.\n\n## Work Type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write tests in scripts/contracts.test.js that check compiled command output for the partial's sentinel string. Tests must fail before the partial is included in commands.\n2. GREEN: Implemented in sibling issues reaper-q0x9.2, reaper-q0x9.3, reaper-q0x9.4 (applying the partial to each command group).\n3. BLUE: Refactor tests if needed once all commands are updated.\n\n## Execution Context\n[Auto-added by verification] This is GROUP 1 (sequential prerequisite). Sibling issues reaper-q0x9.2, reaper-q0x9.3, and reaper-q0x9.4 form GROUP 2 and run IN PARALLEL after this unit completes. All three siblings depend on the partial and tests created here.\n\n## Acceptance Criteria\n- [ ] src/partials/user-comms-contract.ejs exists with communication rules\n- [ ] Partial defines forbidden terms: FETCH_ISSUE, CREATE_ISSUE, UPDATE_ISSUE, ADD_DEPENDENCY, LIST_CHILDREN, QUERY_DEPENDENCY_TREE, CLOSE_ISSUE, TASK_SYSTEM, markdown_only, RESULTS.md, REVIEW.md, SECURITY.md, FAULT.md, TASK.md, TaskCreate, TaskUpdate, PLAN_CONTEXT, CODEBASE CONTEXT, behavioral contract, platform skill routing\n- [ ] Partial defines user-friendly substitutions (e.g. 'retrieving task details' not 'FETCH_ISSUE')\n- [ ] Partial defines tone rule: speak about work outcomes, not internal machinery\n- [ ] Failing tests added to scripts/contracts.test.js that will turn GREEN when partial is included in all 7 commands (flight-plan, takeoff, squadron, ship, status-worktrees, start, claude-sync)\n- [ ] npm run build succeeds\n- [ ] Tests are RED (failing) until sibling issues complete\n- [ ] Code coverage \u003e= 70%\n\n## Scope\nFiles: src/partials/user-comms-contract.ejs (new), scripts/contracts.test.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T17:39:59.003012-08:00","created_by":"ryan","updated_at":"2026-02-18T18:34:03.114968-08:00","closed_at":"2026-02-18T18:34:03.114968-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-q0x9.1","depends_on_id":"reaper-q0x9","type":"parent-child","created_at":"2026-02-18T17:39:59.017613-08:00","created_by":"ryan"}]}
{"id":"reaper-q0x9.2","title":"Apply communication contract to flight-plan and takeoff","description":"## Objective\nApply the user-comms-contract partial to the two highest-severity commands: flight-plan.ejs and takeoff.ejs. Add inline translation annotations near internal operations so the AI orchestrator knows what user-friendly language to use at each point.\n\n## Work Type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Tests written in reaper-q0x9.1 will be failing for these commands.\n2. GREEN: Include user-comms-contract partial in both commands. Add inline annotations near: FETCH_ISSUE refs, CREATE_ISSUE refs, TASK_SYSTEM detection conditions, abstract operations table, behavioral contract references, platform skill routing table, gate profile table, work-type detection patterns, PLAN_CONTEXT materialization.\n3. BLUE: Verify compiled output reads naturally and no internal terms leak through.\n\n## Execution Context\n[Auto-added by verification] This is GROUP 2 (parallel). Runs in parallel with reaper-q0x9.3 and reaper-q0x9.4 after reaper-q0x9.1 completes. No file overlap between siblings: this unit owns flight-plan.ejs and takeoff.ejs exclusively.\n\n## Acceptance Criteria\n- [ ] src/commands/flight-plan.ejs includes user-comms-contract partial\n- [ ] src/commands/takeoff.ejs includes user-comms-contract partial\n- [ ] Inline annotations added near all internal operation references in both files\n- [ ] Compiled output (commands/flight-plan.md, commands/takeoff.md) contains partial sentinel\n- [ ] npm run build succeeds\n- [ ] Contract tests pass for flight-plan and takeoff\n- [ ] Code coverage \u003e= 70%\n\n## Scope\nFiles: src/commands/flight-plan.ejs, src/commands/takeoff.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T17:40:07.275083-08:00","created_by":"ryan","updated_at":"2026-02-18T18:34:03.185833-08:00","closed_at":"2026-02-18T18:34:03.185833-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-q0x9.2","depends_on_id":"reaper-q0x9","type":"parent-child","created_at":"2026-02-18T17:40:07.300525-08:00","created_by":"ryan"},{"issue_id":"reaper-q0x9.2","depends_on_id":"reaper-q0x9.1","type":"blocks","created_at":"2026-02-18T17:40:22.350943-08:00","created_by":"ryan"}]}
{"id":"reaper-q0x9.3","title":"Apply communication contract to status-worktrees and squadron","description":"## Objective\nApply the user-comms-contract partial to status-worktrees.ejs and squadron.ejs. Add inline annotations near file-sentinel references and internal tool names.\n\n## Work Type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Tests written in reaper-q0x9.1 will be failing for these commands.\n2. GREEN: Include user-comms-contract partial in both commands. Add inline annotations near: RESULTS.md/REVIEW.md/SECURITY.md/FAULT.md/TASK.md references (state detection), TaskCreate/TaskUpdate tool name mentions, CODEBASE CONTEXT variable, internal agent names used as user-facing identifiers.\n3. BLUE: Verify compiled output reads naturally.\n\n## Execution Context\n[Auto-added by verification] This is GROUP 2 (parallel). Runs in parallel with reaper-q0x9.2 and reaper-q0x9.4 after reaper-q0x9.1 completes. No file overlap between siblings: this unit owns status-worktrees.ejs and squadron.ejs exclusively.\n\n## Acceptance Criteria\n- [ ] src/commands/status-worktrees.ejs includes user-comms-contract partial\n- [ ] src/commands/squadron.ejs includes user-comms-contract partial\n- [ ] Inline annotations added near all internal references in both files\n- [ ] Compiled output contains partial sentinel for both commands\n- [ ] npm run build succeeds\n- [ ] Contract tests pass for status-worktrees and squadron\n- [ ] Code coverage \u003e= 70%\n\n## Scope\nFiles: src/commands/status-worktrees.ejs, src/commands/squadron.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T17:40:12.585355-08:00","created_by":"ryan","updated_at":"2026-02-18T18:34:03.208905-08:00","closed_at":"2026-02-18T18:34:03.208905-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-q0x9.3","depends_on_id":"reaper-q0x9","type":"parent-child","created_at":"2026-02-18T17:40:12.605866-08:00","created_by":"ryan"},{"issue_id":"reaper-q0x9.3","depends_on_id":"reaper-q0x9.1","type":"blocks","created_at":"2026-02-18T17:40:22.440939-08:00","created_by":"ryan"}]}
{"id":"reaper-q0x9.4","title":"Apply communication contract to ship, start, and claude-sync","description":"## Objective\nApply the user-comms-contract partial to the three remaining commands: ship.ejs, start.ejs, and claude-sync.ejs. Verify all contract tests are GREEN and the build is clean.\n\n## Work Type\nagent_prompt\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Tests written in reaper-q0x9.1 will be failing for these commands.\n2. GREEN: Include user-comms-contract partial in all three commands. Add inline annotations where appropriate ‚Äî ship: bash implementation details and worktree path parsing; start: classification rule keywords and task ID regex patterns; claude-sync: filtering heuristics and two-question test logic.\n3. BLUE: Full suite GREEN, build clean, no regressions.\n\n## Execution Context\n[Auto-added by verification] This is GROUP 2 (parallel). Runs in parallel with reaper-q0x9.2 and reaper-q0x9.3 after reaper-q0x9.1 completes. No file overlap between siblings: this unit owns ship.ejs, start.ejs, and claude-sync.ejs exclusively. Note: the \"Full contract test suite passes\" criterion validates all 7 commands but is shared responsibility ‚Äî the orchestrator should run final integration validation after ALL group 2 units complete.\n\n## Acceptance Criteria\n- [ ] src/commands/ship.ejs includes user-comms-contract partial\n- [ ] src/commands/start.ejs includes user-comms-contract partial\n- [ ] src/commands/claude-sync.ejs includes user-comms-contract partial\n- [ ] Inline annotations added where appropriate in all three files\n- [ ] Compiled output contains partial sentinel for all three commands\n- [ ] npm run build succeeds cleanly\n- [ ] Full contract test suite passes (all 7 commands GREEN)\n- [ ] Code coverage \u003e= 70%\n\n## Scope\nFiles: src/commands/ship.ejs, src/commands/start.ejs, src/commands/claude-sync.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T17:40:19.149178-08:00","created_by":"ryan","updated_at":"2026-02-18T18:34:03.221294-08:00","closed_at":"2026-02-18T18:34:03.221294-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-q0x9.4","depends_on_id":"reaper-q0x9","type":"parent-child","created_at":"2026-02-18T17:40:19.170531-08:00","created_by":"ryan"},{"issue_id":"reaper-q0x9.4","depends_on_id":"reaper-q0x9.1","type":"blocks","created_at":"2026-02-18T17:40:22.536344-08:00","created_by":"ryan"}]}
{"id":"reaper-q1u","title":"Replace Scout-Then-Swarm with Explore-First architecture in squadron command","description":"Rewrite three sections of src/commands/squadron.ejs to replace the current scout pattern (which deploys a random domain expert for exploration) with purpose-built Explore agents.\n\n## Objective\nSeparate 'gather facts' (Explore agents) from 'form opinions' (expert agents) so domain experts spend their context windows on analysis, not file reads.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\nNote: This is a prompt template change. Testing is primarily build verification and prompt audit.\n\n## Sections to Modify\n1. **Scout-Then-Swarm Decision** (lines 219-229): Replace with Explore-First architecture\n2. **Forum Mode prompt** (lines 698-730): Remove self-exploration instruction, inject Explore findings as CODEBASE CONTEXT\n3. **Scout Prompt** (lines 751-769): Replace domain expert scout with Explore agent type\n4. **Panel Announcement** (lines 230-268): Update to reference Explore agents\n\n## Acceptance Criteria\n- [ ] Scout prompt uses Explore agent type, not domain experts\n- [ ] Both narrow and broad concepts get Explore-first treatment\n- [ ] Expert agents receive pre-gathered codebase context in their prompts\n- [ ] Expert agents no longer instructed to explore codebase themselves\n- [ ] Build succeeds (npm run build)\n- [ ] Generated commands/squadron.md reflects changes\n\n## Scope\nFiles: src/commands/squadron.ejs (1 file)\nWork type: agent_prompt\n\n## Cross-References\n[Auto-added by verification] This issue shares src/commands/squadron.ejs with reaper-dmz (prompt quality gate). reaper-dmz is blocked by this issue and will refine the same file after this work completes. Scope boundary: this issue handles the architectural rewrite; reaper-dmz handles prompt polish only.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T20:21:18.560588-08:00","created_by":"ryan","updated_at":"2026-02-06T20:32:56.971802-08:00","closed_at":"2026-02-06T20:32:56.971802-08:00","close_reason":"Explore-First architecture implemented and merged to develop"}
{"id":"reaper-qet","title":"Remove human-hour time estimates from workflow-planner","description":"The workflow-planner agent included human-hour time estimates (1-2 hours per work package, exceeds 2 hours red flag) as sizing constraints. These are meaningless for agent execution ‚Äî agents are bounded by context windows and file counts, not human hours. Removed both references, keeping the agent-relevant constraints (files, LOC, scope, dependencies).","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-06T13:19:19.555445-08:00","created_by":"ryan","updated_at":"2026-02-06T13:19:27.461704-08:00","closed_at":"2026-02-06T13:19:27.461704-08:00","close_reason":"Closed"}
{"id":"reaper-ql7","title":"Rebuild contract tests and run full verification","description":"Phase 3 verification. Validate all changes after Phase 1 and Phase 2 work completes.\n\n**Work Type:** test_code\n\n**Verification Steps:**\n1. Rebuild contracts.test.js if any expectations reference SPICE content or softened prescriptive language\n2. Run npm run build to regenerate all agents from updated templates\n3. Grep generated output for surviving docs/spice/ references\n4. Run full test suite (build.test.js, commitlint.test.js, contracts.test.js, panel-selection-keywords.test.js, visual-vocabulary.test.js)\n5. Verify coverage meets 70%+ threshold\n\n**Acceptance Criteria:**\n- npm run build succeeds\n- All contract tests pass\n- Zero SPICE paths in generated output (grep verification)\n- Full test suite passes (488 tests)\n- Coverage threshold met (70%+)\n- No broken references in any file\n\n**Files:** \n- scripts/contracts.test.js (conditional updates)\n- Generated files (verification targets)\n\n**Related Issues:** All Phase 2 issues must complete before this begins (reaper-64m, reaper-2qy, reaper-uk2, reaper-8q4)\n\nRef: reaper-0u4","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T21:00:31.370472-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.74288-08:00","closed_at":"2026-02-06T21:46:32.74288-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ql7","depends_on_id":"reaper-64m","type":"blocks","created_at":"2026-02-06T21:00:36.225208-08:00","created_by":"ryan"},{"issue_id":"reaper-ql7","depends_on_id":"reaper-2qy","type":"blocks","created_at":"2026-02-06T21:00:36.287382-08:00","created_by":"ryan"},{"issue_id":"reaper-ql7","depends_on_id":"reaper-uk2","type":"blocks","created_at":"2026-02-06T21:00:36.346927-08:00","created_by":"ryan"},{"issue_id":"reaper-ql7","depends_on_id":"reaper-8q4","type":"blocks","created_at":"2026-02-06T21:00:36.408629-08:00","created_by":"ryan"},{"issue_id":"reaper-ql7","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.93513-08:00","created_by":"ryan"}]}
{"id":"reaper-qlz","title":"Fix CLAUDE.md inaccuracies ‚Äî skill/command locations and project structure","description":"CLAUDE.md has 3 inaccuracies: (1) line 175 says orchestration skills are in src/skills/orchestration/ ‚Äî they are in src/commands/, (2) line 113 conflates skills and commands in project structure, (3) line 118 says skills/ GENERATED but only worktree-manager lives there. Fix all three to accurately reflect the codebase.\n\n[Auto-added by verification]\nWork type: documentation\nAssigned files: CLAUDE.md\nFile ownership: shared (reaper-xlw also modifies CLAUDE.md but different section)\nCross-reference: reaper-xlw modifies CLAUDE.md Five Keys section; this issue modifies Project Structure section (lines 113-118, 175)\nEstimated LOC: ~10","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T15:04:47.837562-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.52486-08:00","closed_at":"2026-02-06T15:46:58.52486-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-qlz","depends_on_id":"reaper-8ex","type":"blocks","created_at":"2026-02-06T15:04:56.017255-08:00","created_by":"ryan"}]}
{"id":"reaper-qo8l","title":"Fix: prevent orchestrator from entering plan mode in takeoff","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-20T21:18:17.356434-08:00","created_by":"ryan","updated_at":"2026-02-20T21:18:31.970816-08:00","closed_at":"2026-02-20T21:18:31.970816-08:00","close_reason":"Closed"}
{"id":"reaper-qor","title":"Add --timeout and --network-timeout flags","description":"## Objective\nAllow users/AI to configure timeout duration via command-line flags.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Add --timeout \u003cseconds\u003e flag (default 120)\n- [ ] Update usage() help text with AI context (explain why 120s default)\n- [ ] Validate timeout is positive integer ‚â•10\n- [ ] Separate --network-timeout \u003cseconds\u003e for git push/fetch operations (default 30)\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:01.654704-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:26.40684-08:00","closed_at":"2026-02-06T12:22:26.40684-08:00","close_reason":"Implemented and merged to develop in commit c50969c","dependencies":[{"issue_id":"reaper-qor","depends_on_id":"reaper-y0w","type":"blocks","created_at":"2026-01-23T19:20:11.983711-08:00","created_by":"ryan"}]}
{"id":"reaper-qwi","title":"Add standard partials to integration-engineer","description":"Integration-engineer is missing all standard coding agent sections. Add: pre-work-validation-coding, directory-exclusions, git-prohibitions, tdd-testing-protocol, artifact-cleanup-coding, file-conflict-detection, no-commits-policy. Preserve all integration-specific content (OAuth, webhooks, message queues).\n\nFiles:\n- src/agents/integration-engineer.ejs (modify)\n\nPartials to include:\n- pre-work-validation-coding\n- directory-exclusions\n- git-prohibitions\n- tdd-testing-protocol\n- artifact-cleanup-coding\n- file-conflict-detection\n- no-commits-policy\n- output-requirements (with isCodingAgent: true)\n\nRelated issues (similar work, can run in parallel):\n- reaper-dgi (feature-developer - same partials)\n- reaper-nsn (refactoring-dev - same partials)\n\nAcceptance Criteria:\n- Build completes without errors (npm run build)\n- Generated agents/integration-engineer.md contains partial content\n- Integration-specific sections preserved (OAuth, webhooks, message queues)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T12:21:49.469235-08:00","created_by":"ryan","updated_at":"2026-01-23T12:51:59.453388-08:00","closed_at":"2026-01-23T12:51:59.453388-08:00","close_reason":"Completed: Refactored agents to use shared partials","dependencies":[{"issue_id":"reaper-qwi","depends_on_id":"reaper-io0","type":"parent-child","created_at":"2026-01-23T12:22:54.335188-08:00","created_by":"ryan"}]}
{"id":"reaper-r41t","title":"Fix commit/merge authority ‚Äî branch-manager as pure executor","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-19T19:04:23.200401-08:00","created_by":"ryan","updated_at":"2026-02-19T19:59:50.991315-08:00","closed_at":"2026-02-19T19:59:50.991315-08:00","close_reason":"Closed"}
{"id":"reaper-r41t.1","title":"Fix quality-gate-protocol and takeoff per-unit commit flow","description":"## Objective\nRemove the 'Commit on Pass' section from quality-gate-protocol.ejs and replace it with an explicit commit step in takeoff's per-unit cycle.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests asserting 'Commit on Pass' is absent from quality-gate-protocol.ejs and that takeoff's per-unit cycle contains an explicit branch-manager commit step after all gates pass\n2. GREEN: Remove the section from quality-gate-protocol.ejs; add explicit commit step to takeoff's per-unit cycle; make Completion section explicit about merge target\n3. BLUE: Refactor for clarity\n\n## Acceptance Criteria\n- [ ] quality-gate-protocol.ejs no longer contains a '### Commit on Pass' section\n- [ ] takeoff.ejs per-unit cycle has an explicit step after all gates pass: deploy branch-manager to commit to the feature branch in WORKTREE_PATH\n- [ ] Per-unit commit step specifies: commit only, do not merge to develop\n- [ ] Completion section specifies the exact merge target (feature branch ‚Üí develop) when user approves\n- [ ] All tests pass\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs, src/commands/takeoff.ejs\nWork type: application_code (orchestrator command + partial)\n\n## Consumer Impact\nquality-gate-protocol.ejs: 'Commit on Pass' lives in the role=orchestrator EJS branch only ‚Äî workflow-planner (role=planner) is unaffected","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-19T19:04:34.272762-08:00","created_by":"ryan","updated_at":"2026-02-19T19:59:50.976927-08:00","closed_at":"2026-02-19T19:59:50.976927-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-r41t.1","depends_on_id":"reaper-r41t","type":"parent-child","created_at":"2026-02-19T19:04:34.280799-08:00","created_by":"ryan"}]}
{"id":"reaper-r41t.2","title":"Simplify branch-manager as pure executor","description":"## Objective\nRewrite branch-manager's authority model. Remove autonomous authorization logic and make it a pure executor that does what the orchestrator directs.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests asserting branch-manager does not contain 'Dual Authorization', 'allow_main_merge', or contradictory Git Flow Conventions; assert strategy naming uses takeoff's names\n2. GREEN: Remove Dual Authorization section, allow_main_merge references, and 'Feature branches merge to develop only' from Git Flow Conventions; align strategy naming with very_small_direct/medium_single_branch/large_multi_worktree; add pure executor framing\n3. BLUE: Refactor for clarity\n\n## Acceptance Criteria\n- [ ] branch-manager.ejs contains no 'Dual Authorization' section\n- [ ] branch-manager.ejs contains no allow_main_merge references\n- [ ] Git Flow Conventions does not contain the contradictory 'Feature branches merge to develop only' line\n- [ ] Strategy table uses very_small_direct / medium_single_branch / large_multi_worktree naming\n- [ ] branch-manager contains explicit pure executor framing\n- [ ] Strategy 2 and 3 Workflow sections remain intact (only authorization framing changes)\n- [ ] All tests pass\n\n## Scope\nFiles: src/agents/branch-manager.ejs\nWork type: agent_prompt","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-19T19:04:44.267088-08:00","created_by":"ryan","updated_at":"2026-02-19T19:59:50.982091-08:00","closed_at":"2026-02-19T19:59:50.982091-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-r41t.2","depends_on_id":"reaper-r41t","type":"parent-child","created_at":"2026-02-19T19:04:44.274985-08:00","created_by":"ryan"}]}
{"id":"reaper-r41t.3","title":"Update supporting partials to align with new commit flow","description":"## Objective\nUpdate no-commits-policy.ejs and orchestrator-role-boundary.ejs to reflect the corrected commit flow and strategy naming.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests asserting no-commits-policy uses takeoff strategy names and describes the per-unit (not per-gate) commit trigger; assert orchestrator-role-boundary does not contain 'commit freely on feature branches'\n2. GREEN: Update no-commits-policy.ejs strategy naming (Strategy 1/2/3 ‚Üí very_small_direct/medium_single_branch/large_multi_worktree) and phase description; remove or reword 'commit freely on feature branches' in orchestrator-role-boundary.ejs\n3. BLUE: Refactor for clarity\n\n## Acceptance Criteria\n- [ ] no-commits-policy.ejs uses very_small_direct / medium_single_branch / large_multi_worktree strategy names\n- [ ] no-commits-policy.ejs phase description reflects: orchestrator deploys branch-manager after ALL gates for a unit pass (not per gate)\n- [ ] orchestrator-role-boundary.ejs 'commit freely on feature branches' example is removed or reworded\n- [ ] All 7 coding agent generated files pass their contract tests (no-commits-policy is a shared partial)\n- [ ] All tests pass\n\n## Scope\nFiles: src/partials/no-commits-policy.ejs, src/partials/orchestrator-role-boundary.ejs\nWork type: application_code (agent_prompt partial)\n\n## Consumer Impact\nno-commits-policy.ejs propagates to 7 coding agents. Change is purely informational ‚Äî core prohibition unchanged.\n\n## Cross-Issue Context\n[Auto-added by verification] This unit depends on reaper-r41t.1 because takeoff.ejs now has an explicit per-unit commit step after all gates pass (replacing the per-gate 'Commit on Pass' mechanism). The partial wording in no-commits-policy.ejs must align with this new per-unit commit flow. It also depends on reaper-r41t.2 because the strategy naming (very_small_direct/medium_single_branch/large_multi_worktree) must match branch-manager's updated strategy table.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-19T19:04:53.066828-08:00","created_by":"ryan","updated_at":"2026-02-19T19:43:47.629448-08:00","closed_at":"2026-02-19T19:43:47.629448-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-r41t.3","depends_on_id":"reaper-r41t","type":"parent-child","created_at":"2026-02-19T19:04:53.08223-08:00","created_by":"ryan"},{"issue_id":"reaper-r41t.3","depends_on_id":"reaper-r41t.1","type":"blocks","created_at":"2026-02-19T19:05:15.828604-08:00","created_by":"ryan"},{"issue_id":"reaper-r41t.3","depends_on_id":"reaper-r41t.2","type":"blocks","created_at":"2026-02-19T19:05:15.906961-08:00","created_by":"ryan"}]}
{"id":"reaper-r41t.4","title":"Update contract tests to match new behavior","description":"## Objective\nRemove stale contract tests for the deleted 'Commit on Pass' section, update branch-manager strategy tests to match simplified executor model, and add new tests for the per-unit commit step in takeoff.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify which existing tests now fail after Units 1-3 changes; write new assertions for expected behavior\n2. GREEN: Remove 3 'Commit on Pass' tests (lines 2249-2300); update 6 branch-manager Strategy 2 tests (lines 2306-2397) for new naming and no dual-authorization; add test that branch-manager does not contain 'allow_main_merge' or 'Dual Authorization'; add test for per-unit commit step in takeoff\n3. BLUE: Ensure test descriptions are clear and maintainable\n\n## Acceptance Criteria\n- [ ] No test asserts '### Commit on Pass' section exists in quality-gate-protocol.ejs\n- [ ] New test asserts takeoff.ejs per-unit cycle contains a branch-manager commit step after gates\n- [ ] Branch-manager tests do not assert 'dual_authorization' or 'allow_main_merge' presence\n- [ ] New test asserts branch-manager does not contain 'allow_main_merge' or 'Dual Authorization'\n- [ ] Strategy 2 branch-manager tests updated to use new strategy naming\n- [ ] Full test suite passes (681+ tests green)\n\n## Scope\nFiles: scripts/contracts.test.js\nWork type: test_code","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-19T19:05:03.969586-08:00","created_by":"ryan","updated_at":"2026-02-19T19:59:50.985267-08:00","closed_at":"2026-02-19T19:59:50.985267-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-r41t.4","depends_on_id":"reaper-r41t","type":"parent-child","created_at":"2026-02-19T19:05:04.019808-08:00","created_by":"ryan"},{"issue_id":"reaper-r41t.4","depends_on_id":"reaper-r41t.3","type":"blocks","created_at":"2026-02-19T19:05:15.979204-08:00","created_by":"ryan"}]}
{"id":"reaper-r41t.5","title":"Write ADR-0013: orchestrator owns commit/merge authority","description":"## Objective\nDocument the architectural principle: executor agents are pure tools; all authorization decisions belong to the orchestrator.\n\n## TDD Approach\nNot applicable ‚Äî documentation task.\n\n## Acceptance Criteria\n- [ ] docs/adr/0013-orchestrator-owns-commit-authority.md created with status: Accepted\n- [ ] ADR explains why branch-manager should not have autonomous authorization logic\n- [ ] ADR documents alternatives rejected (dual authorization in executor, allow_main_merge flag)\n- [ ] ADR references ADR-0010 as the related prior decision\n- [ ] ADR captures the convention: all executor agents follow this pattern\n\n## Scope\nFiles: docs/adr/0013-orchestrator-owns-commit-authority.md\nWork type: documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:05:10.640648-08:00","created_by":"ryan","updated_at":"2026-02-19T19:59:50.98805-08:00","closed_at":"2026-02-19T19:59:50.98805-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-r41t.5","depends_on_id":"reaper-r41t","type":"parent-child","created_at":"2026-02-19T19:05:10.659132-08:00","created_by":"ryan"}]}
{"id":"reaper-ran4","title":"Add contract tests for dirty-root strategy escalation","description":"## Objective\nEdit scripts/contracts.test.js to add semantic contract tests verifying the dirty-root escalation rule is present in both workflow-planner and takeoff generated files.\n\n## File Ownership\nEXCLUSIVE files: scripts/contracts.test.js\n\n## Cross-References\n- reaper-pc2u: Must complete first ‚Äî adds dirty-root override to agents/workflow-planner.md (read-only dependency)\n- reaper-0gu7: Must complete first ‚Äî adds dirty-root escalation to commands/takeoff.md (read-only dependency)\n\n## Implementation Approach\n1. Add new test block verifying workflow-planner contains dirty-root override keywords\n2. Add new test block verifying takeoff contains dirty-root escalation logic\n3. Run npm test to verify all 681+ existing tests plus new tests pass\n\n## Acceptance Criteria\n- [ ] New test block in contracts.test.js: workflow-planner dirty-root override (checks agents/workflow-planner.md for 'uncommitted' or 'dirty' keywords co-located with 'medium_single_branch')\n- [ ] New test block: takeoff dirty-root escalation (checks commands/takeoff.md for escalation logic and user-facing message)\n- [ ] All 681+ existing tests continue to pass\n- [ ] New tests pass when run against the built output of reaper-pc2u and reaper-0gu7\n\n## Work Type\ntest_code","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:18:23.122926-08:00","created_by":"ryan","updated_at":"2026-02-19T14:42:39.084839-08:00","closed_at":"2026-02-19T14:42:39.084839-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ran4","depends_on_id":"reaper-4al4","type":"blocks","created_at":"2026-02-19T14:18:26.517398-08:00","created_by":"ryan"},{"issue_id":"reaper-ran4","depends_on_id":"reaper-pc2u","type":"blocks","created_at":"2026-02-19T14:18:28.665342-08:00","created_by":"ryan"},{"issue_id":"reaper-ran4","depends_on_id":"reaper-0gu7","type":"blocks","created_at":"2026-02-19T14:18:28.73003-08:00","created_by":"ryan"}]}
{"id":"reaper-rgv0","title":"Implement subagent design standard","description":"Codify the tier-based subagent design framework derived from the squadron session (ai-prompt-engineer and principal-engineer analysis) into a written standard, update the code-review skill to enforce detection-signal quality, and record the architectural decision in an ADR.\n\nDeliverables:\n1. docs/AGENT_DESIGN_STANDARD.md ‚Äî three-tier system, Tier 2 checklist, Tier 1 template, Gate Mode guidance, annotated skeletons\n2. src/skills/code-review/agent-prompt.ejs ‚Äî detection-signal enforcement as blocking criterion\n3. docs/adr/0016-agent-tier-design-standard.md ‚Äî ADR recording the convention\n\nOut of scope: Gate Mode audit (tracked separately as reaper-3w4s)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-20T19:37:48.653606-08:00","created_by":"ryan","updated_at":"2026-02-20T20:14:09.772022-08:00","closed_at":"2026-02-20T20:14:09.772022-08:00","close_reason":"Closed"}
{"id":"reaper-rgv0.2","title":"Write agent design standard document","description":"## Objective\nWrite docs/AGENT_DESIGN_STANDARD.md codifying the tier-based subagent design framework.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria for each section before writing\n2. GREEN: Draft each section meeting its criteria\n3. BLUE: Review for consistency, cross-references, and usability\n\n## Acceptance Criteria\n- [ ] Three-tier system defined with clear criteria for each tier (mode count as determinant, not importance)\n- [ ] Tier 2 hard checklist: EXIT conditions, decision tables, anti-pattern format (Detection Signal + Fix), section ordering (identity-first/authority-early), partial usage criterion\n- [ ] Tier 1 template with opt-out mechanism and justification requirement\n- [ ] Gate Mode guidance: when to embed inline vs. receive via code-review skill injection\n- [ ] Annotated agent skeleton per tier showing required/optional sections\n- [ ] Warning: tier follows from mode count, not the reverse (anti-cargo-culting note)\n- [ ] All tests pass\n\n## Scope\nFiles: docs/AGENT_DESIGN_STANDARD.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:38:03.237951-08:00","created_by":"ryan","updated_at":"2026-02-20T20:14:09.764021-08:00","closed_at":"2026-02-20T20:14:09.764021-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rgv0.2","depends_on_id":"reaper-rgv0","type":"parent-child","created_at":"2026-02-20T19:38:03.25264-08:00","created_by":"ryan"}]}
{"id":"reaper-rgv0.3","title":"Update code-review skill: enforce detection-signal quality","description":"## Objective\nAdd detection-signal enforcement as a blocking gate criterion to the agent-prompt code review skill.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify what the blocking criterion should check and where it belongs in the skill\n2. GREEN: Add the criterion to src/skills/code-review/agent-prompt.ejs\n3. BLUE: Verify criterion is clear, actionable, and correctly categorized as blocking vs. advisory\n\n## Acceptance Criteria\n- [ ] src/skills/code-review/agent-prompt.ejs includes a blocking criterion for anti-pattern entries missing Detection Signal or Fix columns\n- [ ] Criterion is clearly worded: reviewers can apply it without interpretation\n- [ ] Criterion is placed in the blocking section (not advisory)\n- [ ] Build passes (npm run build)\n- [ ] All tests pass\n\n## Scope\nFiles: src/skills/code-review/agent-prompt.ejs, skills/code-review/agent-prompt.md (generated)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:38:09.333306-08:00","created_by":"ryan","updated_at":"2026-02-20T20:14:09.7672-08:00","closed_at":"2026-02-20T20:14:09.7672-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rgv0.3","depends_on_id":"reaper-rgv0","type":"parent-child","created_at":"2026-02-20T19:38:09.339193-08:00","created_by":"ryan"}]}
{"id":"reaper-rgv0.4","title":"Write ADR-0016: agent tier design standard","description":"## Objective\nWrite docs/adr/0016-agent-tier-design-standard.md recording the architectural decision to adopt a tier-based agent design framework.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Draft outline against ADR template structure\n2. GREEN: Write full ADR content referencing docs/AGENT_DESIGN_STANDARD.md\n3. BLUE: Review for accuracy against squadron decisions and existing ADRs for consistency\n\n## Acceptance Criteria\n- [ ] ADR follows project format (Context, Decision, Alternatives Rejected, Consequences)\n- [ ] Explains why tier follows from mode count (non-obvious rationale)\n- [ ] Names the three tiers and their key structural requirements\n- [ ] References docs/AGENT_DESIGN_STANDARD.md as the implementation\n- [ ] Notes the Gate Mode architecture question as a consequence (links reaper-3w4s)\n- [ ] All tests pass\n\n## Scope\nFiles: docs/adr/0016-agent-tier-design-standard.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:38:16.902891-08:00","created_by":"ryan","updated_at":"2026-02-20T20:14:09.769578-08:00","closed_at":"2026-02-20T20:14:09.769578-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rgv0.4","depends_on_id":"reaper-rgv0","type":"parent-child","created_at":"2026-02-20T19:38:16.908746-08:00","created_by":"ryan"},{"issue_id":"reaper-rgv0.4","depends_on_id":"reaper-rgv0.2","type":"blocks","created_at":"2026-02-20T19:38:19.906517-08:00","created_by":"ryan"}]}
{"id":"reaper-rjsc","title":"Consolidate code-review specialty file knowledge and replace feature-developer in Gate 2","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T18:34:12.918272-08:00","created_by":"ryan","updated_at":"2026-02-18T20:11:46.955508-08:00","closed_at":"2026-02-18T20:11:46.955508-08:00","close_reason":"Closed"}
{"id":"reaper-rjsc.1","title":"Update quality-gate-protocol partial","description":"## Objective\nRemove specialty file coupling from the gate protocol and replace feature-developer with principal-engineer in Gate 2 profiles.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run contract tests before changes to establish baseline\n2. GREEN: Apply minimal edits to quality-gate-protocol.ejs\n3. BLUE: Verify generated output looks correct after build\n\n## Acceptance Criteria\n- [ ] Specialty File column removed from Gate Profile Lookup Table (orchestrator branch)\n- [ ] reaper:feature-developer replaced with reaper:principal-engineer in application_code, test_code, and configuration rows (both orchestrator and planner branches)\n- [ ] Gate 2 dispatch prompt uses WORK_TYPE field instead of SPECIALTY_CONTENT\n- [ ] Instruction to read and inject specialty file content removed from dispatch section\n- [ ] SKILL_CONTENT injection instruction preserved\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:34:20.524107-08:00","created_by":"ryan","updated_at":"2026-02-18T20:11:46.939555-08:00","closed_at":"2026-02-18T20:11:46.939555-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rjsc.1","depends_on_id":"reaper-rjsc","type":"parent-child","created_at":"2026-02-18T18:34:20.536405-08:00","created_by":"ryan"}]}
{"id":"reaper-rjsc.2","title":"Update code-review SKILL.ejs","description":"## Objective\nMake the code-review skill the single source of truth for specialty file knowledge. Replace SPECIALTY_CONTENT with WORK_TYPE and add self-loading logic.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Confirm contract tests that check SKILL.md fields pass before changes\n2. GREEN: Update SKILL.ejs with specialty file map and self-loading Step 4\n3. BLUE: Verify generated SKILL.md reads cleanly and Step 4 instructions are unambiguous\n\n## Acceptance Criteria\n- [ ] SPECIALTY_CONTENT removed from Task Prompt Fields table; WORK_TYPE added in its place\n- [ ] Specialty File Map table added covering all 10 work types (including (none) for ci_cd_pipeline and configuration)\n- [ ] Step 4 updated to self-load via WORK_TYPE lookup rather than consuming a pre-loaded blob\n- [ ] Step 4 gracefully handles work types with no specialty file\n\n## Scope\nFiles: src/skills/code-review/SKILL.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:34:27.65213-08:00","created_by":"ryan","updated_at":"2026-02-18T20:11:46.950123-08:00","closed_at":"2026-02-18T20:11:46.950123-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rjsc.2","depends_on_id":"reaper-rjsc","type":"parent-child","created_at":"2026-02-18T18:34:27.665197-08:00","created_by":"ryan"}]}
{"id":"reaper-rjsc.3","title":"Update contracts test and verify build","description":"## Objective\nRemove stale feature-developer reference from VALID_GATE2_AGENTS and update the stale column comment. Verify build and full test suite pass.\n\n## TDD Approach\n1. RED: Confirm current tests pass before changes\n2. GREEN: Remove feature-developer from VALID_GATE2_AGENTS; update stale comment; run npm run build\n3. BLUE: Run full test suite and verify 70%+ coverage\n\n## Acceptance Criteria\n- [ ] reaper:feature-developer removed from VALID_GATE2_AGENTS array in contracts.test.js\n- [ ] Comment referencing Specialty File column header updated to reflect 3-column structure\n- [ ] npm run build completes without errors\n- [ ] All contract tests pass\n- [ ] Full test suite passes at 70%+ coverage\n\n## Scope\nFiles: scripts/contracts.test.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T18:34:34.77671-08:00","created_by":"ryan","updated_at":"2026-02-18T20:11:46.952853-08:00","closed_at":"2026-02-18T20:11:46.952853-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rjsc.3","depends_on_id":"reaper-rjsc","type":"parent-child","created_at":"2026-02-18T18:34:34.792403-08:00","created_by":"ryan"},{"issue_id":"reaper-rjsc.3","depends_on_id":"reaper-rjsc.1","type":"blocks","created_at":"2026-02-18T18:34:38.111793-08:00","created_by":"ryan"},{"issue_id":"reaper-rjsc.3","depends_on_id":"reaper-rjsc.2","type":"blocks","created_at":"2026-02-18T18:34:38.208905-08:00","created_by":"ryan"}]}
{"id":"reaper-rq19","title":"Pre-release hardening: squadron findings","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-20T23:43:04.403107-08:00","created_by":"ryan","updated_at":"2026-02-20T23:43:04.403107-08:00"}
{"id":"reaper-rq19.1","title":"Document Node 22+ engine requirement","description":"## Objective\nAdd explicit Node.js \u003e=22 engine requirement so users on older Node versions get a clear error instead of a silent quality gate miscalculation.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write a test (or manual check script) asserting package.json has an engines field with node \u003e=22\n2. GREEN: Add engines field to package.json; add Node \u003e=22 prerequisite to README\n3. BLUE: Verify npm warns on install with older Node; clean up any redundant version mentions\n\n## Acceptance Criteria\n- [ ] package.json includes engines: { node: '\u003e=22' }\n- [ ] README prerequisites section documents Node 22+ requirement\n- [ ] npm install on Node \u003c22 produces a clear warning or error\n- [ ] All tests pass\n\n## Scope\nFiles: package.json, README.md\n\n## Work Type\nconfiguration\n\n[Auto-added by verification] Added work_type: configuration (package.json metadata + README documentation).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-20T23:43:12.259966-08:00","created_by":"ryan","updated_at":"2026-02-21T00:42:11.912474-08:00","closed_at":"2026-02-21T00:42:11.912474-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rq19.1","depends_on_id":"reaper-rq19","type":"parent-child","created_at":"2026-02-20T23:43:12.293239-08:00","created_by":"ryan"}]}
{"id":"reaper-rq19.2","title":"Fix origin/HEAD to point to main instead of beads-sync","description":"## Objective\nCorrect the remote HEAD pointer so contributors and tooling that assume HEAD tracks the integration branch get the right signal.\n\n## TDD Approach\n1. RED: Confirm current state ‚Äî git remote show origin reports HEAD as beads-sync\n2. GREEN: Run git remote set-head origin main (or equivalent remote config update)\n3. BLUE: Verify git remote show origin now reports HEAD branch: main\n\n## Acceptance Criteria\n- [ ] git remote show origin reports HEAD branch: main\n- [ ] No contributor tooling or CI step is broken by the change\n- [ ] All tests pass\n\n## Scope\nGit remote configuration (no source files modified)\n\n## Note\nAssignee: user ‚Äî this is a git remote operation requiring credentials and direct repository admin access.\n\n## Work Type\nconfiguration\n\n[Auto-added by verification] Added work_type: configuration (git remote configuration, no source files).","status":"open","priority":3,"issue_type":"task","assignee":"user","created_at":"2026-02-20T23:43:20.607693-08:00","created_by":"ryan","updated_at":"2026-02-20T23:44:58.483912-08:00","dependencies":[{"issue_id":"reaper-rq19.2","depends_on_id":"reaper-rq19","type":"parent-child","created_at":"2026-02-20T23:43:20.62401-08:00","created_by":"ryan"}]}
{"id":"reaper-rq19.3","title":"Add release:verify script for version consistency","description":"## Objective\nAdd a belt-and-suspenders post-release verification step that reads all three versioned files and asserts they agree, catching any partial-release or mid-run failure before the tag is pushed.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write tests for the verify script covering: all match (pass), one diverges (fail with clear message), file missing (fail with clear message)\n2. GREEN: Implement scripts/release-verify.js that reads version from package.json, .claude-plugin/plugin.json, and README.md badge pattern; exits non-zero on mismatch with a clear diff output\n3. BLUE: Wire as 'release:verify' npm script; integrate as post-step in 'npm run release'; add to pre-push hook or CI if appropriate\n\n## Acceptance Criteria\n- [ ] npm run release:verify passes when all three files agree\n- [ ] npm run release:verify exits non-zero with clear output when any file diverges\n- [ ] Script is called automatically as part of npm run release\n- [ ] All tests pass with coverage maintained\n\n## Scope\nFiles: scripts/release-verify.js (new), package.json (scripts), .husky/pre-push (optional wire-in)\n\n## Work Type\nci_cd_pipeline\n\n## Cross-References\n- reaper-rq19.1 also modifies package.json (engines field) ‚Äî no conflict expected as changes target different sections (engines vs scripts)\n\n[Auto-added by verification] Added work_type: ci_cd_pipeline (release verification scripting). Added cross-reference to reaper-rq19.1 for shared package.json modification.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T23:43:31.364903-08:00","created_by":"ryan","updated_at":"2026-02-21T00:42:11.916436-08:00","closed_at":"2026-02-21T00:42:11.916436-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rq19.3","depends_on_id":"reaper-rq19","type":"parent-child","created_at":"2026-02-20T23:43:31.377368-08:00","created_by":"ryan"}]}
{"id":"reaper-rq19.4","title":"Fail build on unclassified agent filename","description":"## Objective\nMake the build system fail loudly with a clear diagnostic when an agent template filename has no matching entry in AGENT_TYPES, rather than silently producing a broken agent with all classification flags false.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add a test in build.test.js asserting that processFile() throws (or build() reports an error) when given an agent filename not in any AGENT_TYPES array\n2. GREEN: In buildTemplateVars() or getAgentType(), detect when an agent file produces an unknown type and throw a descriptive error: 'Agent \"foo\" has no AGENT_TYPES classification. Add it to AGENT_TYPES in build.js or rename the file.'\n3. BLUE: Ensure the error message includes a hint pointing to the AGENT_TYPES object; verify no existing agents are affected; confirm contracts.test.js still passes\n\n## Acceptance Criteria\n- [ ] build.js throws a clear error when an agent file is not in AGENT_TYPES\n- [ ] Error message names the file and points to AGENT_TYPES as the fix location\n- [ ] All 24 existing agents still build cleanly\n- [ ] New test covers the failure case\n- [ ] All tests pass with coverage maintained\n\n## Scope\nFiles: scripts/build.js, scripts/build.test.js\n\n## Work Type\napplication_code\n\n## Cross-References\n- reaper-rq19.5 depends on this issue and modifies scripts/build.test.js ‚Äî scope boundary: this issue handles build-time validation only; reaper-rq19.5 handles rendered-output sentinel\n\n[Auto-added by verification] Corrected agent count from 26 to 24 (verified via src/agents/*.ejs). Added work_type: application_code. Added cross-reference to reaper-rq19.5 clarifying scope boundary on shared test file.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-20T23:43:41.84957-08:00","created_by":"ryan","updated_at":"2026-02-21T00:42:11.919233-08:00","closed_at":"2026-02-21T00:42:11.919233-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rq19.4","depends_on_id":"reaper-rq19","type":"parent-child","created_at":"2026-02-20T23:43:41.856076-08:00","created_by":"ryan"}]}
{"id":"reaper-rq19.5","title":"Add agent misconfiguration output sentinel","description":"## Objective\nAdd a visible MISCONFIGURATION warning section to agent templates so that if a misconfigured agent ever makes it past the build-time check (pipeline bypass, build bug), the rendered markdown is self-diagnosing rather than silently broken.\n\nThe safe-state pattern: the sentinel is included by DEFAULT. Correct classification partials REPLACE it ‚Äî meaning an agent must earn its way to 'sentinel absent' by having proper classification.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add a contract test asserting that any agent rendered without proper classification contains a MISCONFIGURATION marker; and that all 24 existing agents do NOT contain the marker\n2. GREEN: Create src/partials/misconfiguration-sentinel.ejs with a clearly visible warning block (e.g., '## MISCONFIGURATION: This agent is missing required safety protocols. See AGENT_TYPES in build.js.'). Wire it into the agent template base so it renders when no classification partial is active. Correct protocol partials (tdd-testing-protocol, git-prohibitions, etc.) are only included when flags are true ‚Äî so the sentinel fills the gap when they are absent.\n3. BLUE: Run npm run build and verify all 24 existing agents are sentinel-free; verify a synthetic unclassified agent renders with the sentinel; update contracts to enforce absence of sentinel in correctly classified agents\n\n## Acceptance Criteria\n- [ ] src/partials/misconfiguration-sentinel.ejs created with clear warning content\n- [ ] Agent template base includes sentinel when classification flags are all false\n- [ ] All 24 existing agents build without the sentinel\n- [ ] Contract test validates sentinel absence in all correctly classified agents\n- [ ] Synthetic unclassified agent test renders with sentinel present\n- [ ] All tests pass with coverage maintained\n\n## Scope\nFiles: src/partials/misconfiguration-sentinel.ejs (new), src/agents/*.ejs (conditional sentinel wire-in), scripts/contracts.test.js, scripts/build.test.js\n\n## Dependencies\nDepends on reaper-rq19.4 (build-time validation) ‚Äî sentinel is the second layer of the defense-in-depth pattern established there.\n\n## Work Type\napplication_code\n\n## Cross-References\n- reaper-rq19.4 (blocked by) ‚Äî establishes build-time validation; this issue adds rendered-output sentinel as defense-in-depth layer 2\n- Shares scripts/build.test.js with reaper-rq19.4 ‚Äî scope boundary: reaper-rq19.4 adds tests for build-time throw; this issue adds tests for sentinel rendering\n\n[Auto-added by verification] Corrected agent count from 26 to 24 (verified via src/agents/*.ejs). Added work_type: application_code. Added cross-references with scope boundary for shared test file (scripts/build.test.js).","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-20T23:43:56.691168-08:00","created_by":"ryan","updated_at":"2026-02-21T00:42:11.921753-08:00","closed_at":"2026-02-21T00:42:11.921753-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-rq19.5","depends_on_id":"reaper-rq19","type":"parent-child","created_at":"2026-02-20T23:43:56.701188-08:00","created_by":"ryan"},{"issue_id":"reaper-rq19.5","depends_on_id":"reaper-rq19.4","type":"blocks","created_at":"2026-02-20T23:44:00.410462-08:00","created_by":"ryan"}]}
{"id":"reaper-s2s","title":"Restructure CONVERGE flow (framing ‚Üí decisions ‚Üí narrative)","description":"## Objective\nChange CONVERGE from monolithic synthesis to: short framing (max 150 words) ‚Üí AskUserQuestion decisions ‚Üí narrative context. PO sees what to decide before the full story.\n\n## TDD Approach\n1. RED: Write test for CONVERGE structure order\n2. GREEN: Restructure section\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] CONVERGE opens with short framing (max 150 words)\n- [ ] AskUserQuestion before full narrative synthesis\n- [ ] Narrative context follows (consensus, risks, expert questions)\n- [ ] Grounding rule preserved\n- [ ] Consensus markers used in synthesis\n- [ ] After PO Decisions table preserved\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: CONVERGE phase (synthesis and decision flow)\nEstimated Location: Lines 480-540\n\n## Cross-References\n- Depends on: reaper-dcm (CONVERGE references consensus markers from CLASH)\n- Uses: reaper-586 (editorial voice in framing)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:34.169038-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.211338-08:00","closed_at":"2026-02-06T16:42:30.211338-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-s2s","depends_on_id":"reaper-dcm","type":"blocks","created_at":"2026-02-06T15:58:11.131033-08:00","created_by":"ryan"}]}
{"id":"reaper-sgr7","title":"Release readiness: v1.12.0","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-21T21:31:01.316016-08:00","created_by":"ryan","updated_at":"2026-02-21T21:31:01.316016-08:00"}
{"id":"reaper-sgr7.1","title":"Fix Gate 2 SME routing in quality-gate-protocol partial","description":"## Objective\nFix src/partials/quality-gate-protocol.ejs which hardcodes `reaper:principal-engineer` for all Gate 2 work types, defeating the SME routing architecture. The code-review skill already has 6 specialty files implementing correct routing ‚Äî the partial must reference this logic.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests asserting work-type-matched routing (feature-developer for application_code, database-architect for database_migration, api-designer for api_specification, ai-prompt-engineer for agent_prompt, technical-writer for documentation, deployment-engineer for ci_cd_pipeline, cloud-architect for infrastructure_config)\n2. GREEN: Update quality-gate-protocol.ejs to delegate to code-review skill routing table\n3. BLUE: Run full build + contract tests to confirm no regressions\n\n## Acceptance Criteria\n- [ ] quality-gate-protocol.ejs routes each work type to the correct SME agent\n- [ ] No hardcoded reference to principal-engineer for generic Gate 2 dispatch\n- [ ] Routing matches docs/quality-gates.md table exactly\n- [ ] All contract tests pass\n- [ ] npm run build succeeds with no side effects\n\n## Scope\nFiles: src/partials/quality-gate-protocol.ejs, scripts/contracts.test.js","status":"open","priority":0,"issue_type":"bug","created_at":"2026-02-21T21:31:13.655473-08:00","created_by":"ryan","updated_at":"2026-02-21T21:31:13.655473-08:00","dependencies":[{"issue_id":"reaper-sgr7.1","depends_on_id":"reaper-sgr7","type":"parent-child","created_at":"2026-02-21T21:31:13.670185-08:00","created_by":"ryan"}]}
{"id":"reaper-st3","title":"Convert commands to skills","description":"Convert existing commands to skills with user-invocable flag, enabling /reaper:* invocation syntax while eliminating the separate commands/ directory.\n\n**Execution Order (for orchestrator):**\n\n**Phase 1 - Setup (Sequential)**\n- reaper-st3.1: Create orchestration skill category\n\n**Phase 2 - Migration (Parallel - 4 agents)**\n- reaper-st3.2: Migrate flight-plan\n- reaper-st3.3: Migrate takeoff\n- reaper-st3.4: Migrate status-worktrees\n- reaper-st3.5: Migrate claude-sync\n\n**Phase 3 - Cleanup (Sequential)**\n- reaper-st3.6: Remove old command files\n\n**Phase 4 - Tooling (Parallel - 2 agents)**\n- reaper-st3.7: Update build system\n- reaper-st3.8: Update pre-commit hook\n\n**Phase 5 - Documentation (Sequential)**\n- reaper-st3.9: Update CLAUDE.md\n\n**Phase 6 - Verification (Sequential)**\n- reaper-st3.10: Build and verify\n\n**Strategy:** medium_single_branch (no file overlap between parallel units)\n**Total:** 10 issues, 4 phases with parallel opportunities","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T19:55:15.584787-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.091773-08:00","closed_at":"2026-01-17T21:53:51.091773-08:00","close_reason":"Closed"}
{"id":"reaper-st3.1","title":"Create orchestration skill category","description":"Create src/skills/orchestration/SKILL.ejs with parent skill definition for the orchestration category.\n\n**Files:**\n- src/skills/orchestration/SKILL.ejs (create)\n\n**Acceptance Criteria:**\n- SKILL.ejs created with proper frontmatter (name, globs, alwaysApply)\n- Template includes category description for orchestration skills\n- Build succeeds: npm run build\n\n**Size:** 1 file, ~30 LOC","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:28.328376-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.065107-08:00","closed_at":"2026-01-17T21:53:51.065107-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.1","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:28.34011-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.10","title":"Build and verify conversion","description":"Run npm run build and verify the complete conversion.\n\n**Verification Steps:**\n1. Run npm run build\n2. Verify skills/orchestration/ contains: flight-plan.md, takeoff.md, status-worktrees.md, claude-sync.md, SKILL.md\n3. Verify commands/ directory no longer exists\n4. Verify /reaper:flight-plan, /reaper:takeoff, /reaper:status-worktrees, /reaper:claude-sync are invocable\n\n**Acceptance Criteria:**\n- Build completes without errors\n- All 4 skills generated in skills/orchestration/\n- No commands/ directory in project\n- Skills accessible via /reaper:* syntax\n\n**Size:** 0 files changed, verification only","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.909645-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.0892-08:00","closed_at":"2026-01-17T21:53:51.0892-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.10","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.910249-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.10","depends_on_id":"reaper-st3.9","type":"blocks","created_at":"2026-01-17T19:55:44.108764-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.2","title":"Migrate flight-plan command to skill","description":"Move src/commands/flight-plan.ejs to src/skills/orchestration/flight-plan.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/flight-plan.ejs (move FROM)\n- src/skills/orchestration/flight-plan.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: flight-plan, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.3, reaper-st3.4, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.062531-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.069337-08:00","closed_at":"2026-01-17T21:53:51.069337-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.2","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.0737-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.2","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.57073-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.3","title":"Migrate takeoff command to skill","description":"Move src/commands/takeoff.ejs to src/skills/orchestration/takeoff.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/takeoff.ejs (move FROM)\n- src/skills/orchestration/takeoff.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: takeoff, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.4, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.60177-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.072155-08:00","closed_at":"2026-01-17T21:53:51.072155-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.3","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.609202-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.3","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.638272-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.4","title":"Migrate status-worktrees command to skill","description":"Move src/commands/status-worktrees.ejs to src/skills/orchestration/status-worktrees.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/status-worktrees.ejs (move FROM)\n- src/skills/orchestration/status-worktrees.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: status-worktrees, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.3, reaper-st3.5 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:29.99003-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.074404-08:00","closed_at":"2026-01-17T21:53:51.074404-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.4","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:29.990819-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.4","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.754624-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.5","title":"Migrate claude-sync command to skill","description":"Move src/commands/claude-sync.ejs to src/skills/orchestration/claude-sync.ejs and update frontmatter with name field and user-invocable: true.\n\n**Files:**\n- src/commands/claude-sync.ejs (move FROM)\n- src/skills/orchestration/claude-sync.ejs (move TO)\n\n**Acceptance Criteria:**\n- File moved to new location\n- Frontmatter includes: name: claude-sync, user-invocable: true\n- Template content preserved\n- Build succeeds: npm run build\n\n**Related Issues:**\n- Parallel with: reaper-st3.2, reaper-st3.3, reaper-st3.4 (all migrate commands)\n\n**Size:** 1 file move, ~20 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.330886-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.076966-08:00","closed_at":"2026-01-17T21:53:51.076966-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.5","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.331541-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.5","depends_on_id":"reaper-st3.1","type":"blocks","created_at":"2026-01-17T19:55:42.819444-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.6","title":"Remove old command files and directory","description":"Delete src/commands/*.ejs source files and remove generated commands/ directory.\n\n**Files:**\n- src/commands/flight-plan.ejs (delete)\n- src/commands/takeoff.ejs (delete)\n- src/commands/status-worktrees.ejs (delete)\n- src/commands/claude-sync.ejs (delete)\n- commands/ (delete entire directory)\n\n**Acceptance Criteria:**\n- All src/commands/*.ejs files removed\n- commands/ directory removed from project root\n- No orphan references remain\n\n**Size:** 4 files + 1 directory deletion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.589845-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.07936-08:00","closed_at":"2026-01-17T21:53:51.07936-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.590539-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.2","type":"blocks","created_at":"2026-01-17T19:55:42.996394-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.3","type":"blocks","created_at":"2026-01-17T19:55:43.068869-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.4","type":"blocks","created_at":"2026-01-17T19:55:43.13303-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.6","depends_on_id":"reaper-st3.5","type":"blocks","created_at":"2026-01-17T19:55:43.195909-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.7","title":"Update build system","description":"Remove \"commands\" from DIRECTORY_MAP in scripts/build.js.\n\n**Files:**\n- scripts/build.js (modify)\n\n**Acceptance Criteria:**\n- DIRECTORY_MAP no longer contains commands entry\n- Build still succeeds without commands directory\n- npm run build completes cleanly\n\n**Related Issues:**\n- Parallel with: reaper-st3.8 (both update build tooling)\n\n**Size:** 1 file, ~5 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:30.958073-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.081493-08:00","closed_at":"2026-01-17T21:53:51.081493-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.7","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:30.958664-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.7","depends_on_id":"reaper-st3.6","type":"blocks","created_at":"2026-01-17T19:55:43.377892-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.8","title":"Update pre-commit hook","description":"Remove \"commands/\" from git add in .husky/pre-commit hook.\n\n**Files:**\n- .husky/pre-commit (modify)\n\n**Acceptance Criteria:**\n- Pre-commit hook no longer references commands/\n- Hook still stages agents/, skills/, hooks/ correctly\n- Commit succeeds with hook enabled\n\n**Related Issues:**\n- Parallel with: reaper-st3.7 (both update build tooling)\n\n**Size:** 1 file, ~2 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.28841-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.084148-08:00","closed_at":"2026-01-17T21:53:51.084148-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.8","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.289043-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.8","depends_on_id":"reaper-st3.6","type":"blocks","created_at":"2026-01-17T19:55:43.442386-08:00","created_by":"ryan"}]}
{"id":"reaper-st3.9","title":"Update documentation","description":"Update CLAUDE.md to remove commands/ from Project Structure and Source vs Generated table.\n\n**Files:**\n- CLAUDE.md (modify)\n\n**Acceptance Criteria:**\n- Project Structure section no longer lists commands/\n- Source vs Generated table removes commands/*.ejs and commands/*.md rows\n- Build Commands section updated if needed\n- Document accurately reflects new structure\n\n**Size:** 1 file, ~10 LOC changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T19:55:31.641045-08:00","created_by":"ryan","updated_at":"2026-01-17T21:53:51.086986-08:00","closed_at":"2026-01-17T21:53:51.086986-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3","type":"parent-child","created_at":"2026-01-17T19:55:31.642311-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3.7","type":"blocks","created_at":"2026-01-17T19:55:43.66369-08:00","created_by":"ryan"},{"issue_id":"reaper-st3.9","depends_on_id":"reaper-st3.8","type":"blocks","created_at":"2026-01-17T19:55:43.773472-08:00","created_by":"ryan"}]}
{"id":"reaper-t2p2","title":"Add single-document de-escalation override to strategy selection","description":"When multiple work units all target the same 1-2 files, strategy should de-escalate to very_small_direct regardless of unit count. Currently, the workflow-planner content override only escalates (to medium_single_branch for 5+ items) and the takeoff leaf-count heuristic has no file-convergence awareness. A single agent editing one file sequentially is faster and cheaper than parallel agents that cannot claim exclusive ownership.\n\n## Acceptance Criteria\n- workflow-planner.ejs has single-document override rule alongside content override\n- Single-document override takes precedence over content override\n- Decision table includes single-document condition row\n- Strategy 1 description mentions single-document override\n- takeoff.ejs strategy heuristic has file-convergence exception\n- Build succeeds and generated output reflects changes\n\n## Files\n- src/agents/workflow-planner.ejs\n- src/commands/takeoff.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T15:29:10.391273-08:00","created_by":"ryan","updated_at":"2026-02-08T15:48:49.721787-08:00","closed_at":"2026-02-08T15:48:49.721787-08:00","close_reason":"Merged to develop. Single-document de-escalation override added to workflow-planner and takeoff templates."}
{"id":"reaper-t40d","title":"Wire pre-output-verification into bug-fixer","description":"## Objective\nOne change to src/agents/bug-fixer.ejs: insert the pre-output-verification partial immediately before the Required JSON Output section (currently line 73).\n\nImportant: in bug-fixer the JSON output block appears BEFORE artifact-cleanup-coding (JSON is at line ~73, artifact-cleanup is at line ~110). The insertion point is before the JSON block, not at the end of the file.\n\nNo blast-radius instruction needed ‚Äî the existing Bug Diagnosis Protocol section (line 32) already covers root-cause tracing and scope scanning.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing contract test asserting ## Pre-Output Verification is present in agents/bug-fixer.md\n2. GREEN: Insert partial include before JSON block, run npm run build\n3. BLUE: Verify generated output contains the heading\n\n## Acceptance Criteria\n- [ ] src/agents/bug-fixer.ejs includes partials/pre-output-verification immediately before the JSON output block (not at end of file)\n- [ ] npm run build succeeds\n- [ ] agents/bug-fixer.md (generated) contains ## Pre-Output Verification heading\n\n## Scope\nFiles: src/agents/bug-fixer.ejs, agents/bug-fixer.md (generated via build)\n\n## Work Type\nagent_prompt\n\n## Cross-References\n- Depends on: reaper-y4th (provides the pre-output-verification partial)\n- Parallel with: reaper-p7jh (feature-developer wiring ‚Äî different files, no overlap)\n- Blocks: reaper-1w5o (contract tests verify presence across both agents)\n\n## Execution Context\nGroup 2 (runs in parallel with reaper-p7jh after reaper-y4th completes).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:12:50.614129-08:00","created_by":"ryan","updated_at":"2026-02-19T14:31:04.067698-08:00","closed_at":"2026-02-19T14:31:04.067698-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-t40d","depends_on_id":"reaper-b3t3","type":"blocks","created_at":"2026-02-19T14:13:05.043633-08:00","created_by":"ryan"},{"issue_id":"reaper-t40d","depends_on_id":"reaper-y4th","type":"blocks","created_at":"2026-02-19T14:13:07.835859-08:00","created_by":"ryan"}]}
{"id":"reaper-t7o","title":"Remove plan mode tool calls from flight-plan","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:13:52.875405-08:00","created_by":"ryan","updated_at":"2026-01-18T15:15:22.995201-08:00","closed_at":"2026-01-18T15:15:22.995201-08:00","close_reason":"Closed"}
{"id":"reaper-tgl","title":"Add pre-removal lock detection with AI diagnostics","description":"## Objective\nBefore attempting removal, check for conditions that commonly cause hangs. Provide AI-parseable diagnostics with exact remediation commands.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] Check for .git/worktrees/\u003cname\u003e/locked file\n- [ ] AI-first error with ERROR_CODE: WORKTREE_LOCKED, LOCK_FILE, LOCK_REASON\n- [ ] Remediation: git worktree unlock command provided\n- [ ] Use lsof to detect open file handles (graceful skip if unavailable)\n- [ ] WARNING_CODE: OPEN_FILE_HANDLES with process list\n- [ ] Add --skip-lock-check flag to bypass detection (for CI/headless)\n- [ ] --force flag bypasses lock check with warning\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:01.227224-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:26.403635-08:00","closed_at":"2026-02-06T12:22:26.403635-08:00","close_reason":"Implemented and merged to develop in commit c50969c"}
{"id":"reaper-u148","title":"Simplify plan-file schema to ephemeral model","description":"Remove living-document sections (Feedback Log, Assumptions) and governance overhead (IMMUTABLE/APPEND/EDIT update rules) from the plan-file schema. Simplify Work Units columns. Goal: write, refine, ship ‚Äî not an audit trail.\\n\\nPlan file: .claude/plans/planfile-schema-simplification.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T13:00:36.089875-08:00","created_by":"ryan","updated_at":"2026-02-19T13:21:00.047726-08:00","closed_at":"2026-02-19T13:21:00.047726-08:00","close_reason":"Closed"}
{"id":"reaper-ud1","title":"Replace phase headers with narrator-voice section headers","description":"## Objective\nReplace PHASE N headers with narrator-voice wayfinding: WHAT THEY THINK, WHERE THEY SPLIT, YOUR CALL, THE BRIEF. Remove internal phase numbering from PO-visible output. Keep phase names in facilitator instructions only.\n\n## TDD Approach\n1. RED: Write test for narrator-voice headers\n2. GREEN: Replace headers\n3. BLUE: Verify consistency\n\n## Acceptance Criteria\n- [ ] Four narrator-voice headers with ‚îÅ‚îÅ‚îÅ formatting\n- [ ] Internal phase labels removed from PO-visible examples\n- [ ] Phase names retained in facilitator instruction headings\n- [ ] No --- used as phase separator\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Phase headers throughout template (INTAKE, OPEN, CLASH, CONVERGE sections)\nEstimated Location: Lines 250-550 (scattered across phase definitions)\n\n## Cross-References\n- Depends on: reaper-fvk (visual vocabulary defines ‚îÅ‚îÅ‚îÅ formatting)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:18.187932-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.198466-08:00","closed_at":"2026-02-06T16:42:30.198466-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-ud1","depends_on_id":"reaper-fvk","type":"blocks","created_at":"2026-02-06T15:58:07.989949-08:00","created_by":"ryan"}]}
{"id":"reaper-uf6","title":"Add close task reminder to takeoff command TodoWrite","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T12:31:45.580903-08:00","created_by":"ryan","updated_at":"2026-01-05T12:42:56.055125-08:00","closed_at":"2026-01-05T12:42:56.055125-08:00","close_reason":"Closed"}
{"id":"reaper-uk2","title":"Soften prescriptive language in 6 partials","description":"Audit and rewrite prescriptive SPICE-originated language in 6 partials.\n\n**Work Type:** agent_prompt\n\n**Partials to Update (6 files):**\n1. quality-gate-protocol.ejs (line 89: \u003e= 80 coverage)\n2. orchestrator-role-boundary.ejs (line 24: 80%+ coverage)\n3. agent-deployment-template.ejs (lines 23, 36: coverage/SOLID/sizing)\n4. no-commits-policy.ejs (line 19: TDD/SOLID)\n5. tdd-testing-protocol.ejs (lines 15-23: Red-Green-Blue)\n6. (identify 6th file during implementation if needed)\n\n**Voice Shift Examples:**\n- \"80% coverage\" ‚Üí \"aim for meaningful test coverage\"\n- \"SOLID mandatory\" ‚Üí \"apply SOLID where it improves maintainability\"\n- \"TDD-only\" ‚Üí \"prefer writing tests first\"\n- \"must follow\" ‚Üí \"prefer\" or \"consider\"\n\n**Keep Enforced (no softening):**\n- Git prohibitions (safety-critical)\n- Pre-work validation (prevents errors)\n- Directory exclusions (prevents corruption)\n- Quality gate pipeline structure (workflow-mechanical)\n- Conventional commits (keep advisory but specific)\n\n**Advisory Must Be Specific:**\nUse \"prefer TDD\" not \"consider testing\". Guidance should be actionable, just non-mandatory.\n\n**Acceptance Criteria:**\n- No 80% coverage mandate remains\n- No SOLID presented as requirement\n- No TDD presented as only methodology\n- Workflow-mechanical items preserved (git prohibitions, validation, gates)\n- Conventional commits remain advisory\n- Build succeeds after changes\n- Contract tests pass\n\n**Files:** 5-6 files in src/partials/\n\n**Related Issues:** reaper-64m (coordinate CLAUDE.md voice), reaper-2qy (coordinate agent template changes)\n\nRef: reaper-0u4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T21:00:24.818292-08:00","created_by":"ryan","updated_at":"2026-02-06T21:46:32.740562-08:00","closed_at":"2026-02-06T21:46:32.740562-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-uk2","depends_on_id":"reaper-0x6","type":"blocks","created_at":"2026-02-06T21:00:36.037722-08:00","created_by":"ryan"},{"issue_id":"reaper-uk2","depends_on_id":"reaper-0u4","type":"parent-child","created_at":"2026-02-06T21:04:16.743303-08:00","created_by":"ryan"}]}
{"id":"reaper-v2w1","title":"Add build tests for static asset copying","description":"## Objective\nAdd tests to scripts/build.test.js that verify the copyFile() function correctly copies static assets (non-.ejs files) from source directories to output directories, preserving directory structure. These tests must exist before files are moved (TDD Red phase).\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior for static asset copying\n2. GREEN: Tests pass once files are moved to src/skills/ in subsequent units\n3. BLUE: Refactor if needed while keeping tests green\n\n## Acceptance Criteria\n- [ ] Tests verify copyFile() copies a .sh file from src/skills/ subdirectory to skills/ preserving path structure\n- [ ] Tests verify buildType() routes non-.ejs files through copyFile() rather than processFile()\n- [ ] Tests use existing resetBuildState() and temp directory infrastructure from scripts/test-helpers.js\n- [ ] All existing tests continue to pass\n- [ ] Coverage threshold maintained at 70%+\n\n## Scope\nFiles: scripts/build.test.js, scripts/test-helpers.js (read-only reference)\n\nRef: reaper-cz55","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T13:12:02.468029-08:00","created_by":"ryan","updated_at":"2026-02-18T17:24:50.138222-08:00","closed_at":"2026-02-18T17:24:50.138222-08:00","close_reason":"Closed"}
{"id":"reaper-v30b","title":"Update docs/workflow.md for ADR-0015 skill extraction","description":"## Objective\nUpdate docs/workflow.md to accurately describe the post-ADR-0015 workflow-planner architecture. The current doc describes a planning flow that no longer exists.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Identify all sections in docs/workflow.md that describe workflow-planner as running planning/verification phases directly\n2. GREEN: Update those sections to describe workflow-planner as a coordination agent that delegates to workflow-planner-planning and workflow-planner-verification skills\n3. BLUE: Review full doc for consistency; ensure no other stale references remain\n\n## Acceptance Criteria\n- [ ] docs/workflow.md no longer describes workflow-planner as running planning phases directly\n- [ ] Doc accurately describes skill-based delegation: planning skill for decomposition, verification skill for issue review\n- [ ] ADR-0015 referenced in context (e.g., a brief mention or link to docs/adr/0015-workflow-planner-process-extraction.md)\n- [ ] No other stale descriptions of the old workflow-planner behavior remain in the doc\n\n## Scope\nFiles: docs/workflow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-20T19:25:12.589307-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.23075-08:00","closed_at":"2026-02-20T20:04:29.23075-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-v30b","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:42.989076-08:00","created_by":"ryan"}]}
{"id":"reaper-v6xh","title":"Branch-manager leaves root working tree out of sync after integration merge","description":"## Problem\n\nAfter takeoff completes a multi-branch merge using an integration worktree, the root working tree is left in a confusing and potentially dangerous state: `git status` shows a large number of 'Changes to be committed' that don't reflect any real uncommitted work.\n\n## Root Cause\n\nThe branch-manager advances the `develop` branch ref using `git update-ref refs/heads/develop $(git rev-parse integration-temp)` after merging all feature branches in an integration worktree. This updates the branch pointer but does **not** touch the root working tree or index. The root's index still reflects the pre-merge HEAD, so git now reports a diff between the stale index and the new HEAD as staged changes.\n\n## Observed Symptoms\n\nAfter a 6-branch merge session, the root showed:\n- 23 files 'staged' (modified agents, docs, scripts, src files)\n- 1 file 'deleted' (`docs/skills.md`, which was actually added by the merge)\n- None of these were real uncommitted changes ‚Äî they were simply the root being behind the new develop HEAD\n\n## Why It's a Problem\n\n1. **Developer confusion** ‚Äî a clean `git status` is a basic expectation after a successful merge+push. Seeing 23 staged files looks like something went wrong.\n2. **Accidental commit risk** ‚Äî a developer could run `git commit` and create a spurious empty/wrong commit on top of develop.\n3. **Accidental reset risk** ‚Äî a developer might run `git reset --hard` or `git restore .` to 'clean up', which would be harmless here but establishes a bad reflex.\n4. **CI/hook interference** ‚Äî post-merge hooks or CI checks running in the root may behave unexpectedly when the working tree doesn't match HEAD.\n\n## Expected Behavior\n\nAfter branch-manager completes a merge to develop and pushes, the root working tree and index should match the new develop HEAD. `git status` should report: 'Your branch is up to date with origin/develop. Nothing to commit, working tree clean.'\n\n## Suggested Fix\n\nAfter advancing the develop ref and before removing the integration worktree, branch-manager should reset the root working tree to match the new HEAD:\n\n```bash\n# Option A: fetch + reset (safe, preserves untracked files)\ngit fetch origin develop\ngit reset --mixed origin/develop\n\n# Option B: reset to the new local HEAD directly\ngit reset --mixed HEAD\n```\n\nOption A is safer if the root has untracked files that should be preserved. The reset should only touch the index (--mixed), not the working tree files, since those already reflect the correct state ‚Äî only the index pointer is stale.\n\n## Workaround\n\nRun `git pull` in the root after takeoff completes a merge session.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-20T20:11:55.287216-08:00","created_by":"ryan","updated_at":"2026-02-20T20:37:22.859959-08:00","closed_at":"2026-02-20T20:37:22.859959-08:00","close_reason":"Closed"}
{"id":"reaper-v6xh.1","title":"Fix root working tree sync after integration merge","description":"## Objective\nAfter branch-manager completes an integration merge to develop (large_multi_worktree mode), update the root working tree index to match the new HEAD so that `git status` reports clean.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Add a contract test in `scripts/contracts.test.js` asserting that the branch-manager integration protocol includes a `git reset --mixed` (or equivalent) root sync step after advancing the develop ref\n2. GREEN: Edit `src/agents/branch-manager.ejs` to add the root sync instruction immediately after the develop ref advancement step in the large_multi_worktree protocol; run `npm run build`\n3. BLUE: Run `git diff agents/ commands/ skills/ hooks/` to confirm no unintended side effects in other generated files; refactor if needed\n\n## Acceptance Criteria\n- [ ] Contract test fails before the template fix (RED confirmed)\n- [ ] Branch-manager template explicitly instructs: after advancing develop ref, run `git reset --mixed HEAD` in the root to sync the index\n- [ ] `npm run build` succeeds and only `agents/branch-manager.md` changes (plus contract test)\n- [ ] All tests pass (including the new contract test)\n- [ ] Code coverage meets 70%+ threshold\n\n## Scope\nFiles:\n- `src/agents/branch-manager.ejs` (source template ‚Äî edit here)\n- `agents/branch-manager.md` (generated by build ‚Äî do not edit directly)\n- `scripts/contracts.test.js` (new behavioral contract)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-20T20:22:29.931418-08:00","created_by":"ryan","updated_at":"2026-02-20T20:37:22.855901-08:00","closed_at":"2026-02-20T20:37:22.855901-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-v6xh.1","depends_on_id":"reaper-v6xh","type":"parent-child","created_at":"2026-02-20T20:22:29.932489-08:00","created_by":"ryan"}]}
{"id":"reaper-vd9","title":"Cross-reference verification and link check","description":"## Objective\nAfter all files are written, verify all cross-references between README and docs/ files are correct and the overall experience is coherent.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define link and consistency checks as assertions\n2. GREEN: Verify all assertions pass\n3. BLUE: Fix any broken references or inconsistencies\n\n## Acceptance Criteria\n- [ ] All relative links from README to docs/ files resolve correctly (docs/agents.md, docs/quality-gates.md, docs/auto-formatting.md, docs/workflow.md, docs/commands.md)\n- [ ] All \"link back to README\" links in docs files resolve correctly (../README.md)\n- [ ] No orphaned content (nothing referenced that doesn't exist)\n- [ ] Voice consistency across all files\n- [ ] README reads as coherent guided experience for external adopters\n- [ ] Each docs file is self-sufficient (readable standalone)\n\n## Execution Notes\n[Auto-added by verification]\n- This is a verification-only task ‚Äî read all 6 files, check links, fix broken references\n- Must execute AFTER all 6 content tasks complete (reaper-xio, reaper-c7e, reaper-8az, reaper-c45, reaper-cm8, reaper-b6n)\n- Files to verify: README.md, docs/agents.md, docs/quality-gates.md, docs/auto-formatting.md, docs/workflow.md, docs/commands.md\n- Agent type: reaper:feature-developer (fix broken links) or reaper:technical-writer (voice check)\n\n## Scope\nFiles: README.md, docs/agents.md, docs/quality-gates.md, docs/auto-formatting.md, docs/workflow.md, docs/commands.md (read + fix)\n\nRef: reaper-kxi","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T13:15:27.944872-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.233133-08:00","closed_at":"2026-02-06T13:53:53.233133-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-vd9","depends_on_id":"reaper-xio","type":"blocks","created_at":"2026-02-06T13:15:36.846654-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-c7e","type":"blocks","created_at":"2026-02-06T13:15:36.915612-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-8az","type":"blocks","created_at":"2026-02-06T13:15:36.993882-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-c45","type":"blocks","created_at":"2026-02-06T13:15:37.054745-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-cm8","type":"blocks","created_at":"2026-02-06T13:15:37.117854-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-b6n","type":"blocks","created_at":"2026-02-06T13:15:37.185095-08:00","created_by":"ryan"},{"issue_id":"reaper-vd9","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:22.261112-08:00","created_by":"ryan"}]}
{"id":"reaper-vfn","title":"package.json license ISC should be MIT","description":"package.json says license: ISC but LICENSE file, plugin.json, and README all say MIT. Fix: change package.json license field to MIT.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T22:32:08.865029-08:00","created_by":"ryan","updated_at":"2026-02-06T23:24:40.143776-08:00","closed_at":"2026-02-06T23:24:40.143776-08:00","close_reason":"Closed"}
{"id":"reaper-vu9t","title":"Develop principal-engineer subagent","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T15:39:12.261611-08:00","created_by":"ryan","updated_at":"2026-02-18T18:10:50.50023-08:00","closed_at":"2026-02-18T18:10:50.50023-08:00","close_reason":"Closed"}
{"id":"reaper-vu9t.1","title":"Research PE competency and create agent template","description":"Research what makes a principal engineer performant, then embed that knowledge directly into src/agents/principal-engineer.ejs. No separate doc file ‚Äî all PE knowledge lives in the agent prompt itself (matrices, checklists, quick references), modeled on the ai-prompt-engineer pattern.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Read src/agents/ai-prompt-engineer.ejs to understand the embedding pattern\n2. GREEN: Research PE competency areas and write src/agents/principal-engineer.ejs with all knowledge embedded\n3. BLUE: Refine tone, tighten knowledge tables, verify scope boundary clarity\n\n## Acceptance Criteria\n- [ ] src/agents/principal-engineer.ejs created\n- [ ] No separate docs/PRINCIPAL_ENGINEERING.md created\n- [ ] Frontmatter: name, description (with 2-3 triggering examples), model: opus, color: yellow, tools including Bash(*)\n- [ ] 5 operating modes defined (Review, Advise, Design, Assess, Resolve) with required inputs per mode\n- [ ] Decision Framework Matrix embedded as scannable table\n- [ ] Anti-Pattern Detection Checklist: 12+ items with detection signals and fixes\n- [ ] Org position and authority scope clearly described in persona section\n- [ ] Scope boundary deferral table (vs workflow-planner, code-reviewer, claude-agent-architect, performance-engineer)\n- [ ] Tone is confident and direct ‚Äî experienced PE, not hedging consultant\n- [ ] GATE_MODE section included\n- [ ] JSON output structure defined\n- [ ] principal-engineer registered in AGENT_TYPES in scripts/build.js (category TBD by implementer ‚Äî likely planning or a new category)\n- [ ] Panel Selection Keywords section included\n- [ ] All tests pass\n\n## Scope\nFiles: src/agents/principal-engineer.ejs, scripts/build.js\n\n[Auto-added by verification] work_type: agent_prompt\n[Auto-added by verification] Added scripts/build.js to scope ‚Äî principal-engineer must be registered in AGENT_TYPES for correct template variable assignment (AGENT_TYPE, IS_*_AGENT flags). Without registration, AGENT_TYPE will be 'unknown' and all IS_* flags will be false. Also added Panel Selection Keywords AC (required by contracts).\n[Auto-added by verification] Execution group: 1 (must complete before .2 and .3)\n[Auto-added by verification] Cross-reference: blocks reaper-vu9t.2 (build verification) and reaper-vu9t.3 (docs update), which can run in parallel after this completes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T15:39:26.513172-08:00","created_by":"ryan","updated_at":"2026-02-18T18:10:50.507553-08:00","closed_at":"2026-02-18T18:10:50.507553-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-vu9t.1","depends_on_id":"reaper-vu9t","type":"parent-child","created_at":"2026-02-18T15:39:26.53424-08:00","created_by":"ryan"}]}
{"id":"reaper-vu9t.2","title":"Build verification and prompt quality gate","description":"Run the build system to generate agents/principal-engineer.md, validate structural integrity via contracts tests, and run reaper:ai-prompt-engineer in audit mode against the new agent.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run contracts tests before build to confirm baseline\n2. GREEN: Run npm run build, then contracts tests ‚Äî fix any failures\n3. BLUE: Run ai-prompt-engineer audit, resolve any blocking issues\n\n## Acceptance Criteria\n- [ ] npm run build completes without errors\n- [ ] agents/principal-engineer.md exists and is valid markdown\n- [ ] AGENT_TYPE is not 'unknown' in built output (confirms AGENT_TYPES registration from .1)\n- [ ] node --test scripts/contracts.test.js passes (no new failures)\n- [ ] node --test scripts/build.test.js passes (no new failures)\n- [ ] reaper:ai-prompt-engineer audit finds no blocking issues\n- [ ] Advisory issues resolved or documented\n\n## Scope\nFiles: agents/principal-engineer.md (generated), possible fixes to src/agents/principal-engineer.ejs, scripts/build.js\n\n[Auto-added by verification] work_type: test_code\n[Auto-added by verification] Added build.test.js validation to AC ‚Äî build tests validate AGENT_TYPES consistency.\n[Auto-added by verification] Added AGENT_TYPE verification AC ‚Äî ensures .1 registered the agent correctly.\n[Auto-added by verification] Execution group: 2 (parallel with reaper-vu9t.3 after .1 completes)\n[Auto-added by verification] Cross-reference: runs in parallel with reaper-vu9t.3 (docs update). No file overlap ‚Äî .2 touches agents/principal-engineer.md and build infrastructure, .3 touches docs/agents.md, README.md, and CLAUDE.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T15:39:34.131682-08:00","created_by":"ryan","updated_at":"2026-02-18T18:10:50.510586-08:00","closed_at":"2026-02-18T18:10:50.510586-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-vu9t.2","depends_on_id":"reaper-vu9t","type":"parent-child","created_at":"2026-02-18T15:39:34.151013-08:00","created_by":"ryan"},{"issue_id":"reaper-vu9t.2","depends_on_id":"reaper-vu9t.1","type":"blocks","created_at":"2026-02-18T15:39:42.731412-08:00","created_by":"ryan"}]}
{"id":"reaper-vu9t.3","title":"Documentation updates for principal-engineer","description":"Update user-facing documentation to register the new agent per CLAUDE.md doc maintenance rules.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Review current docs/agents.md, README.md agent count, and CLAUDE.md Agent Categories table\n2. GREEN: Add principal-engineer entry and update counts/tables\n3. BLUE: Verify category placement is consistent with other documentation agents\n\n## Acceptance Criteria\n- [ ] docs/agents.md includes principal-engineer with category, description, and when to use\n- [ ] docs/agents.md agent count in opening paragraph updated (currently 24)\n- [ ] README.md agent count updated if present\n- [ ] CLAUDE.md Agent Categories reference table updated with principal-engineer in appropriate category\n\n## Scope\nFiles: docs/agents.md, README.md, CLAUDE.md\n\n[Auto-added by verification] work_type: documentation\n[Auto-added by verification] Added CLAUDE.md to scope ‚Äî the Agent Categories reference table at line 318-326 must include principal-engineer. Without this, the project instructions will be inconsistent with the actual agent roster.\n[Auto-added by verification] Added docs/agents.md count update AC ‚Äî opening paragraph says \"24 specialized agents\", needs incrementing.\n[Auto-added by verification] Execution group: 2 (parallel with reaper-vu9t.2 after .1 completes)\n[Auto-added by verification] Cross-reference: runs in parallel with reaper-vu9t.2 (build verification). No file overlap ‚Äî .3 touches docs/agents.md, README.md, and CLAUDE.md, while .2 touches agents/principal-engineer.md and build infrastructure.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T15:39:39.651324-08:00","created_by":"ryan","updated_at":"2026-02-18T18:10:50.513448-08:00","closed_at":"2026-02-18T18:10:50.513448-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-vu9t.3","depends_on_id":"reaper-vu9t","type":"parent-child","created_at":"2026-02-18T15:39:39.671743-08:00","created_by":"ryan"},{"issue_id":"reaper-vu9t.3","depends_on_id":"reaper-vu9t.1","type":"blocks","created_at":"2026-02-18T15:39:42.827745-08:00","created_by":"ryan"}]}
{"id":"reaper-w6hn","title":"ADR-0011: orchestrate scripts are orchestrator-only channel","status":"closed","priority":4,"issue_type":"task","created_at":"2026-02-19T14:15:31.318667-08:00","created_by":"ryan","updated_at":"2026-02-19T15:47:55.757642-08:00","closed_at":"2026-02-19T15:47:55.757642-08:00","close_reason":"Already implemented ‚Äî acceptance criteria verified against current source files"}
{"id":"reaper-whg","title":"ship command: no confirmation before git add -A","description":"ship.ejs Step 4 stages with git add -A and commits without confirmation. Could stage .env files, large binaries, or generated artifacts. Consider a pre-stage check for sensitive file patterns (*.env, *.pem, *.key, node_modules) before staging.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-02-06T22:32:42.854281-08:00","created_by":"ryan","updated_at":"2026-02-06T23:35:24.803078-08:00","closed_at":"2026-02-06T23:35:24.803078-08:00","close_reason":"Closed"}
{"id":"reaper-whz","title":"plugin.json description still references SPICE Labs","description":"plugin.json description says 'SPICE Labs development workflow automation' but recent commits removed SPICE branding (1728ca8, 7a026b4). Update description to match current identity.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-02-06T22:32:52.194676-08:00","created_by":"ryan","updated_at":"2026-02-06T22:33:34.594327-08:00","closed_at":"2026-02-06T22:33:34.594327-08:00","close_reason":"Invalid ‚Äî Spice Labs is the correct branding. Recent commits removed SPICE docs/standards, not the company name."}
{"id":"reaper-wiax","title":"ADR-0012: Agent Context Self-Service","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T14:24:09.760667-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.962771-08:00","closed_at":"2026-02-19T15:44:58.962771-08:00","close_reason":"Closed"}
{"id":"reaper-wiax.1","title":"Write ADR-0012 document","description":"Create docs/adr/0012-agent-context-self-service.md documenting the architectural decision that agents self-serve context via lightweight references rather than receiving materialized content from orchestrators.\n\n## Objective\nWrite ADR-0012 following the established format (Date, Status: Accepted, Context, Decision, Consequences, Alternatives Considered).\n\n## TDD Approach\nDocumentation unit ‚Äî no TDD cycle. Write, build, verify no contract regressions.\n\n## Acceptance Criteria\n- [ ] File exists at docs/adr/0012-agent-context-self-service.md\n- [ ] Context section explains the token cost problem: ~46k cached overhead per API call; injecting unused content multiplies waste\n- [ ] Decision section defines both reference formats: issue ID(s) with optional labels and planfile path + unit range\n- [ ] Decision section documents which agents are affected (test-runner gets no PLAN_CONTEXT; Gate 2 reviewers get lightweight reference, self-serve content)\n- [ ] Consequences covers positive (agents pay only for used context) and risk (fetching costs a tool call)\n- [ ] Alternatives section covers 'inject full content' (rejected) and 'no context at all' (rejected)\n- [ ] npm run build passes\n\n## Scope\nFiles: docs/adr/0012-agent-context-self-service.md (new, ~100-150 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:24:20.63135-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.949294-08:00","closed_at":"2026-02-19T15:44:58.949294-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wiax.1","depends_on_id":"reaper-wiax","type":"parent-child","created_at":"2026-02-19T14:24:20.640577-08:00","created_by":"ryan"}]}
{"id":"reaper-wiax.2","title":"Fix test-runner validation and remove bloat","description":"Remove the broken shared partial include from test-runner.ejs and replace with minimal inline validation. Remove three sections that authorize unnecessary tool calls. Fix the EXIT PROTOCOL to always return structured JSON.\n\n## Objective\nReduce test-runner from ~32 tool calls per execution to ~12-15 by eliminating reconnaissance and dead-weight validation sections.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run contracts and tests ‚Äî confirm current behavior before changes\n2. GREEN: Apply the minimal changes that satisfy the acceptance criteria\n3. BLUE: Verify npm run build and npm test both pass clean\n\n## Acceptance Criteria\n- [ ] Line 15 partial include replaced with inline validation: TASK, WORKING_DIR, TEST_COMMAND, LINT_COMMAND (required), TEST_MODE (optional, defaults to 'full')\n- [ ] No PLAN_CONTEXT requirement (Gate 1 never receives it from the orchestrator)\n- [ ] No TEST_RUNNER_RESULTS requirement (circular ‚Äî that is test-runner's own output)\n- [ ] Pre-execution validation block removed (lines 89-143): find commands for nested directory detection, jest --listTests discovery preview, test organization validation\n- [ ] Dependency auto-detection removed from command execution section\n- [ ] EXIT PROTOCOL updated: missing required inputs return {\"gate_status\":\"FAIL\",\"blocking_issues\":[\"ERROR: \u003cfield\u003e required\"]} ‚Äî not plain text\n- [ ] Data Extraction Guidelines section collapsed into the output format spec\n- [ ] npm run build passes ‚Äî generated agents/test-runner.md updated\n- [ ] npm test passes ‚Äî all existing contracts still satisfied\n\n## Scope\nFiles: src/agents/test-runner.ejs (~80-100 lines net removed), agents/test-runner.md (auto-generated)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:24:34.448082-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.953154-08:00","closed_at":"2026-02-19T15:44:58.953154-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wiax.2","depends_on_id":"reaper-wiax","type":"parent-child","created_at":"2026-02-19T14:24:34.454161-08:00","created_by":"ryan"}]}
{"id":"reaper-wiax.3","title":"Update pre-work-validation-review partial for lightweight references","description":"Change the PLAN_CONTEXT section in the shared review validation partial from requiring a full implementation plan to accepting a lightweight reference (issue ID or planfile path + unit range).\n\n## Objective\nAlign the partial's PLAN_CONTEXT definition with ADR-0012: agents receive references and self-serve content, not injected blobs.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Confirm current partial content and any contract tests that reference it\n2. GREEN: Update PLAN_CONTEXT section to reflect lightweight reference format\n3. BLUE: Run npm run build and npm test to verify no regressions\n\n## Acceptance Criteria\n- [ ] Section 3 (PLAN_CONTEXT) updated: accepted values are issue ID(s) with optional labels (e.g., epic: reaper-a3f, task: reaper-b4c) or planfile reference (e.g., .claude/plans/reaper-a3f.md Units 5.1-5.3)\n- [ ] Section 3 removes language requiring 'the full implementation plan that guided development'\n- [ ] Exit message updated to match new expectation\n- [ ] npm run build passes\n- [ ] npm test passes\n\n## Scope\nFiles: src/partials/pre-work-validation-review.ejs (~15 lines changed)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:24:43.249349-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.955585-08:00","closed_at":"2026-02-19T15:44:58.955585-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wiax.3","depends_on_id":"reaper-wiax","type":"parent-child","created_at":"2026-02-19T14:24:43.257822-08:00","created_by":"ryan"}]}
{"id":"reaper-wiax.4","title":"Update takeoff: pass lightweight PLAN_CONTEXT references to Gate 2","description":"Remove Step 3.5's content materialization from takeoff.ejs. Instead of reading plan files and fetching issue bodies before Gate 2 dispatch, pass the task ID and optional planfile path as a lightweight reference. Gate 2 reviewers fetch what they need themselves.\n\n## Objective\nStop the orchestrator from doing context resolution work that belongs to the consumers (Gate 2 reviewers). Reduce orchestrator prompt size and eliminate redundant fetches.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Confirm current Step 3.5 behavior and any contract tests covering it\n2. GREEN: Replace full-content materialization with lightweight reference passing\n3. BLUE: Run npm run build and npm test to verify no regressions\n\n## Acceptance Criteria\n- [ ] Step 3.5 no longer reads plan file contents or calls FETCH_ISSUE to materialize issue bodies\n- [ ] Gate 2 reviewer prompts receive a \u003cplan_context\u003e block with the task ID and optional planfile path (e.g., task: reaper-a3f or planfile: .claude/plans/reaper-a3f.md Units 3.1-3.2)\n- [ ] The multi-step resolution order logic (plan file ‚Üí FETCH_ISSUE fallback ‚Üí graceful degradation) is simplified: pass what's known (task ID + planfile path if discovered earlier), Gate 2 fetches the rest\n- [ ] npm run build passes\n- [ ] npm test passes\n\n## Scope\nFiles: src/commands/takeoff.ejs (~30-40 lines changed), commands/takeoff.md (auto-generated)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:24:53.009264-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.958025-08:00","closed_at":"2026-02-19T15:44:58.958025-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wiax.4","depends_on_id":"reaper-wiax","type":"parent-child","created_at":"2026-02-19T14:24:53.015752-08:00","created_by":"ryan"}]}
{"id":"reaper-wiax.5","title":"Update contract tests for ADR-0012 changes","description":"Verify contract tests still pass after Units 2-4 changes, and add any new assertions to prevent regressions on the ADR-0012 design decisions.\n\n## Objective\nConfirm the full test suite is green after the test-runner, partial, and takeoff changes. Add targeted contract assertions to lock in the new behavior.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run npm test after Units 2-4 complete ‚Äî identify any failures\n2. GREEN: Fix failing contract tests; add new assertions for ADR-0012 invariants\n3. BLUE: Confirm npm test passes at 70%+ coverage\n\n## Acceptance Criteria\n- [ ] All existing contract tests pass with the updated source files\n- [ ] EXIT PROTOCOL contract for test-runner updated if pattern matching no longer applies to structured JSON exits\n- [ ] Optional: contract assertion that test-runner's validation section does not contain PLAN_CONTEXT or TEST_RUNNER_RESULTS requirements\n- [ ] Optional: contract assertion that takeoff Step 3.5 does not contain full-materialization language\n- [ ] npm test passes with 70%+ coverage maintained\n\n## Scope\nFiles: scripts/contracts.test.js (~20-40 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:25:01.547428-08:00","created_by":"ryan","updated_at":"2026-02-19T15:44:58.960547-08:00","closed_at":"2026-02-19T15:44:58.960547-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wiax.5","depends_on_id":"reaper-wiax","type":"parent-child","created_at":"2026-02-19T14:25:01.548317-08:00","created_by":"ryan"},{"issue_id":"reaper-wiax.5","depends_on_id":"reaper-wiax.2","type":"blocks","created_at":"2026-02-19T14:25:06.091559-08:00","created_by":"ryan"},{"issue_id":"reaper-wiax.5","depends_on_id":"reaper-wiax.3","type":"blocks","created_at":"2026-02-19T14:25:06.15911-08:00","created_by":"ryan"},{"issue_id":"reaper-wiax.5","depends_on_id":"reaper-wiax.4","type":"blocks","created_at":"2026-02-19T14:25:06.22663-08:00","created_by":"ryan"}]}
{"id":"reaper-wpi","title":"Worktree cleanup safety: require explicit branch disposition","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T16:27:38.298529-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.338547-08:00","closed_at":"2026-01-13T17:57:14.338547-08:00","close_reason":"Closed"}
{"id":"reaper-wpi.1","title":"Add explicit branch disposition to worktree-cleanup.sh","description":"Modify worktree-cleanup.sh to require either --keep-branch or --delete-branch when removing a worktree with an associated branch. If neither specified, exit with helpful error message explaining the required flags.\n\nFiles: scripts/worktree-cleanup.sh in the worktree-manager skill\n\nAcceptance Criteria:\n- Running cleanup without --keep-branch or --delete-branch exits with code 3\n- Error message explains both flags and their purpose\n- --delete-branch flag added (new) - explicitly removes branch (current default behavior made explicit)\n- --keep-branch flag remains as-is but now required vs optional\n- Protected branches (develop, main, master) skip this requirement\n- --dry-run shows what branch disposition would occur\n- All existing tests pass after changes\n\nRelated: reaper-wpi.2 (docs), reaper-wpi.3 (reference docs) - these describe this implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.023412-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.330404-08:00","closed_at":"2026-01-13T17:57:14.330404-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.1","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.02978-08:00","created_by":"ryan"}]}
{"id":"reaper-wpi.2","title":"Update SKILL.md documentation for new branch flags","description":"Update the worktree-manager skill's main documentation to reflect the new required --keep-branch and --delete-branch flags with examples.\n\nFiles: SKILL.md in the worktree-manager skill\n\nAcceptance Criteria:\n- Updated worktree-cleanup.sh usage shows both --keep-branch and --delete-branch as mutually exclusive required flags\n- Updated examples show typical usage: --delete-branch for completed work, --keep-branch for preserving branches\n- Error message example showing what happens without flag\n\nDepends on: reaper-wpi.1 (implements the feature being documented)\nRelated: reaper-wpi.3 (detailed reference docs for same feature)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.347832-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.33453-08:00","closed_at":"2026-01-13T17:57:14.33453-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.2","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.348611-08:00","created_by":"ryan"},{"issue_id":"reaper-wpi.2","depends_on_id":"reaper-wpi.1","type":"blocks","created_at":"2026-01-12T16:28:54.106254-08:00","created_by":"ryan"}]}
{"id":"reaper-wpi.3","title":"Update reference.md documentation for new branch flags","description":"Update the worktree-manager skill's detailed reference documentation with complete information about explicit branch disposition: new --delete-branch flag, exit codes, design rationale.\n\nFiles: reference.md in the worktree-manager skill\n\nAcceptance Criteria:\n- Exit code 3 documented for missing branch disposition\n- --delete-branch flag documented in options table\n- Design rationale section explains WHY explicit choice is required (safety, preventing accidental branch deletion)\n- Updated cleanup actions section reflects new behavior\n- Best practices updated to recommend explicit flag choice\n\nDepends on: reaper-wpi.1 (implements the feature being documented)\nRelated: reaper-wpi.2 (SKILL.md docs for same feature)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T16:27:46.598679-08:00","created_by":"ryan","updated_at":"2026-01-13T17:57:14.33648-08:00","closed_at":"2026-01-13T17:57:14.33648-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpi.3","depends_on_id":"reaper-wpi","type":"parent-child","created_at":"2026-01-12T16:27:46.599415-08:00","created_by":"ryan"},{"issue_id":"reaper-wpi.3","depends_on_id":"reaper-wpi.1","type":"blocks","created_at":"2026-01-12T16:28:54.291458-08:00","created_by":"ryan"}]}
{"id":"reaper-wpmk","title":"Add model: frontmatter to 8 specialist architect agents","description":"## Objective\nAdd explicit model: frontmatter to the 8 specialist architect agents that currently omit it, preventing silent quality degradation when users run Reaper on lower-tier models.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Review each agent's role and reasoning requirements to determine appropriate model tier\n2. GREEN: Add model: frontmatter to each src/agents/*.ejs file; run npm run build to regenerate; review git diff agents/ for side effects\n3. BLUE: Verify no unintended partial side effects; confirm build passes and all tests green\n\n## Model Assignments\n- api-designer ‚Üí sonnet\n- cloud-architect ‚Üí sonnet\n- database-architect ‚Üí sonnet\n- event-architect ‚Üí sonnet\n- frontend-architect ‚Üí sonnet\n- observability-architect ‚Üí sonnet\n- data-engineer ‚Üí sonnet\n- test-strategist ‚Üí sonnet\n- compliance-architect ‚Üí opus (regulatory reasoning warrants higher tier)\n\n## Acceptance Criteria\n- [ ] All 8 agents have explicit model: field in frontmatter\n- [ ] compliance-architect assigned opus; all others assigned sonnet\n- [ ] npm run build completes without errors\n- [ ] git diff agents/ shows only the expected model field additions ‚Äî no unexpected side effects\n- [ ] All tests pass (npm run test:coverage)\n\n## Scope\nFiles: src/agents/api-designer.ejs, src/agents/cloud-architect.ejs, src/agents/database-architect.ejs, src/agents/event-architect.ejs, src/agents/frontend-architect.ejs, src/agents/observability-architect.ejs, src/agents/data-engineer.ejs, src/agents/test-strategist.ejs, src/agents/compliance-architect.ejs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T19:25:30.818997-08:00","created_by":"ryan","updated_at":"2026-02-20T20:04:29.234084-08:00","closed_at":"2026-02-20T20:04:29.234084-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-wpmk","depends_on_id":"reaper-fmm0","type":"blocks","created_at":"2026-02-20T19:25:43.122813-08:00","created_by":"ryan"}]}
{"id":"reaper-wra","title":"Rewrite TDD partial with testing philosophy","description":"Rewrite src/partials/tdd-testing-protocol.ejs to be shorter (~40-50 lines vs 77), add practical testing philosophy (sparse unit tests for pure functions only, favor integration tests, avoid brittle/regression-prone tests), frame as 'default standard in lieu of explicit guidance' so users can override. Preserve red-green-blue reminder and targeted testing scope.\n\nFiles: src/partials/tdd-testing-protocol.ejs\n\nAcceptance Criteria:\n- Partial is \u003c=50 lines\n- Contains clear testing philosophy (unit sparse, integration favored)\n- Has explicit 'default standard' framing that invites override\n- Maintains backward compatibility with existing 7 parameters\n- Red-green-blue cycle mentioned but concise\n- Anti-patterns listed (flaky tests, string matching, over-mocking)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T13:20:40.010833-08:00","created_by":"ryan","updated_at":"2026-01-23T13:36:23.325825-08:00","closed_at":"2026-01-23T13:36:23.325825-08:00","close_reason":"Rewritten TDD partial with testing philosophy - 47 lines, integration-first approach, default standard framing"}
{"id":"reaper-x84","title":"Unit test getAgentType and formatError pure functions","description":"## Objective\nTest pure functions with zero side effects. Quick wins for coverage.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests defining all expected behaviors\n2. GREEN: Verify implementation passes\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] getAgentType tested for all known agent names and returns correct categories\n- [ ] getAgentType returns 'unknown' for unrecognized names\n- [ ] formatError tested for: EJS errors, errors with line numbers, generic errors, errors without stack traces\n- [ ] All tests pass\n\n## Scope\nFiles: scripts/build.test.js\n\n[Auto-added by verification]\n**Work Type**: test_code\n**File Ownership**: shared (scripts/build.test.js modified by reaper-2v8, reaper-7ze, reaper-x84, reaper-3o7, reaper-i5s)\n**Parallel Group**: Group 2 - can run in parallel with reaper-2v8, reaper-7ze, reaper-3o7, reaper-i5s, reaper-eug after reaper-aqt completes\n**Cross-references**: See related test issues for coordination on shared file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-05T21:31:36.942544-08:00","created_by":"ryan","updated_at":"2026-02-06T00:57:57.256772-08:00","closed_at":"2026-02-06T00:57:57.256772-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-x84","depends_on_id":"reaper-aqt","type":"blocks","created_at":"2026-02-05T21:31:44.224113-08:00","created_by":"ryan"}]}
{"id":"reaper-xio","title":"Rewrite README.md with guided escalation and hero moment","description":"## Objective\nRewrite README.md from 319 lines to ~200 lines following the squadron brief structure. This is the core deliverable ‚Äî the front door for external adopters.\n\n## Work Type\ndocumentation\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Define acceptance criteria as testable assertions (link targets exist, line count, required sections)\n2. GREEN: Write the README content meeting all criteria\n3. BLUE: Refactor voice and flow while keeping criteria green\n\n## Acceptance Criteria\n- [ ] Opens with \"Ground control for your codebase.\" and tightened \"caffeine-addicted air traffic controller\" paragraph\n- [ ] Badge row at top: CI status, license, version (1.7.0)\n- [ ] Installation block: two marketplace commands, prerequisites link\n- [ ] \"See It Fly\" hero moment: simulated terminal session with ‚úà glyph (exact content from squadron brief)\n- [ ] \"Start Small, Go Big\" section with three guided tiers (takeoff, flight-plan, squadron) each with input + output snippet\n- [ ] Transition sentences between tiers match squadron brief copy\n- [ ] \"Under the Hood\" section with compressed teasers + links to docs/ files\n- [ ] Contributing section with voice (\"Fork it. Make it weird. We're into it.\")\n- [ ] No \u003cdetails\u003e blocks, no admonition blockquotes, no emoji headers\n- [ ] All links to docs/ files are correct relative paths\n- [ ] Total line count between 180-220 lines\n\n## Cross-References\n[Auto-added by verification]\n- This file links to 5 docs/ files created by parallel tasks:\n  - docs/agents.md (reaper-c7e)\n  - docs/quality-gates.md (reaper-8az)\n  - docs/auto-formatting.md (reaper-c45)\n  - docs/workflow.md (reaper-cm8)\n  - docs/commands.md (reaper-b6n)\n- Links must use relative paths: docs/agents.md, docs/quality-gates.md, etc.\n- \"Under the Hood\" section references these docs ‚Äî link targets are the file names above\n- Verification pass (reaper-vd9) will check all cross-links after completion\n\n## Scope\nFiles: README.md\nVoice reference: .claude/plans/reaper-squadron-readme-redesign.md (Voice Guide section)\n\nRef: reaper-kxi","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T13:15:12.190879-08:00","created_by":"ryan","updated_at":"2026-02-06T13:53:53.229641-08:00","closed_at":"2026-02-06T13:53:53.229641-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-xio","depends_on_id":"reaper-kxi","type":"parent-child","created_at":"2026-02-06T13:18:21.542502-08:00","created_by":"ryan"}]}
{"id":"reaper-xlw","title":"Codify agents-stay-clinical policy in CLAUDE.md","description":"PO decision from squadron: Fun and voice apply to user-facing commands only. Agent prompts must remain clinical technical specs to avoid confusing the coding context. Add explicit guidance under the Five Keys section distinguishing user-facing commands (voice OK) from agent prompts (clinical).\n\n[Auto-added by verification]\nWork type: documentation\nAssigned files: CLAUDE.md\nFile ownership: shared (reaper-qlz also modifies CLAUDE.md but different section)\nCross-reference: reaper-qlz modifies CLAUDE.md Project Structure section; this issue modifies Five Keys section (different location)\nEstimated LOC: ~8","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:04:50.312315-08:00","created_by":"ryan","updated_at":"2026-02-06T15:46:58.528925-08:00","closed_at":"2026-02-06T15:46:58.528925-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-xlw","depends_on_id":"reaper-8ex","type":"blocks","created_at":"2026-02-06T15:04:56.166785-08:00","created_by":"ryan"}]}
{"id":"reaper-xte2","title":"Add PR safety rule to issue-tracker-github skill","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-19T17:35:12.176231-08:00","created_by":"ryan","updated_at":"2026-02-20T18:55:33.539242-08:00","closed_at":"2026-02-20T18:55:33.539242-08:00","close_reason":"Already implemented in 6c4e5bf: PR safety rule added at lines 11-13 of SKILL.ejs"}
{"id":"reaper-y0w","title":"Add timeout wrapper with AI remediation output","description":"## Objective\nWrap git worktree remove (lines 377-386) with timeout command. Default 120s timeout (large node_modules take time). On timeout, provide AI-parseable remediation guide.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing tests that define expected behavior\n2. GREEN: Implement minimal code to pass tests\n3. BLUE: Refactor while keeping tests green\n\n## Acceptance Criteria\n- [ ] git worktree remove wrapped with timeout 120s (configurable)\n- [ ] Timeout exit code (124) detected and handled\n- [ ] AI-first error output with structured === AI REMEDIATION GUIDE === block\n- [ ] ERROR_CODE, WORKTREE_PATH, TIMEOUT_SECONDS clearly labeled\n- [ ] REMEDIATION_STEPS provide exact copy-paste commands\n- [ ] Progressive remediation: retry with longer timeout ‚Üí pre-delete large dirs ‚Üí force prune\n- [ ] Also wrap git push origin --delete with 30s network timeout\n- [ ] Existing --force behavior preserved\n\n## Scope\nFiles: skills/worktree-manager/scripts/worktree-cleanup.sh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T19:20:00.767071-08:00","created_by":"ryan","updated_at":"2026-01-23T20:41:56.849986-08:00","closed_at":"2026-01-23T20:41:56.849986-08:00","close_reason":"Implemented timeout wrapper with AI remediation output"}
{"id":"reaper-y1pr","title":"Fix start command over-triggering on non-planning queries","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-20T16:57:13.54314-08:00","created_by":"ryan","updated_at":"2026-02-20T18:54:34.757623-08:00","closed_at":"2026-02-20T18:54:34.757623-08:00","close_reason":"Closed"}
{"id":"reaper-y4th","title":"Author pre-output-verification partial","description":"## Objective\nCreate src/partials/pre-output-verification.ejs ‚Äî a new shared partial that closes the silent-failure gap by instructing agents to verify their own work before emitting JSON.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write a test script or manual check confirming pre-output-verification.ejs does not yet exist; define expected content constraints (## heading, \u003c80 tokens, no project-specific language)\n2. GREEN: Create the partial with correct content\n3. BLUE: Verify token count, confirm no project-specific language, run npm run build to ensure the partial compiles\n\n## Acceptance Criteria\n- [ ] src/partials/pre-output-verification.ejs exists\n- [ ] Content is under 80 tokens\n- [ ] Contains a ## Pre-Output Verification section heading\n- [ ] Instructs agent to read each declared file and confirm changes before producing JSON; re-apply or remove any file that is missing or unchanged\n- [ ] No project-specific language (no 'Reaper', 'EJS', 'Beads', '.ejs', 'bd', etc.)\n- [ ] npm run build succeeds\n\n## Scope\nFiles: src/partials/pre-output-verification.ejs (new file only)\n\n## Work Type\nagent_prompt\n\n## Cross-References\n- Consumed by: reaper-p7jh (feature-developer wiring) and reaper-t40d (bug-fixer wiring)\n- Contract tests added in: reaper-1w5o (depends on Units 2+3, not this unit)\n\n## Execution Context\nGroup 1 (runs first). Units reaper-p7jh and reaper-t40d are blocked on this unit completing.\n\nNote: artifact-cleanup-coding.ejs patterns confirmed safe ‚Äî all scoped to $WORKTREE_PATH with hardcoded directory names. No changes needed to that partial.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T14:12:35.73363-08:00","created_by":"ryan","updated_at":"2026-02-19T14:27:24.205681-08:00","closed_at":"2026-02-19T14:27:24.205681-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-y4th","depends_on_id":"reaper-b3t3","type":"blocks","created_at":"2026-02-19T14:13:04.922657-08:00","created_by":"ryan"}]}
{"id":"reaper-yg5","title":"Rewrite voice anchor, moderator voice, and PO-facing storytelling","description":"## Objective\nApply creative flavor changes from the squadron brief:\n1. Replace voice anchor (L11) with: \"squadron lead running a debrief ‚Äî sharp and clipped when addressing experts. When turning to the PO, shift to narrator: quote the experts, tell the story of where the debate went, connect the dots rather than listing bullets.\"\n2. Update Moderator Voice section (L530-539) to align with new anchor\n3. Rewrite PO-facing synthesis examples to storytelling pattern (post-OPEN, CONVERGE, risk surfacing, default ending)\n4. Update opening address (L44): aviation-themed greeting\n\n## Before/After Voice Examples\n| Context | Before | After |\n|---------|--------|-------|\n| Post-OPEN | \"Interesting. So DATABASE ARCHITECT and API DESIGNER agree on X...\" | \"DATABASE ARCHITECT came in hot: '[quote].' API DESIGNER backed that play, but SECURITY AUDITOR went the other way...\" |\n| CONVERGE | \"Here's where we landed: [bullet list]\" | \"Here's the story. The panel locked in early on X ‚Äî CLOUD ARCHITECT called it '[quote]'...\" |\n| Risk surfacing | \"Risks identified: [bullet list]\" | \"One thing kept coming up. SECURITY AUDITOR flagged it first ‚Äî '[quote]'...\" |\n\n## TDD Approach\n1. RED: Verify voice anchor no longer contains \"TMZ newsroom moderator\"\n2. GREEN: Apply all voice/flavor rewrites\n3. BLUE: Verify expert-facing sharp lines preserved unchanged\n\n## Acceptance Criteria\n- [ ] Voice anchor replaced with squadron lead persona\n- [ ] Moderator Voice section aligned with new anchor\n- [ ] PO-facing synthesis examples use storytelling pattern with expert quotes\n- [ ] Default ending uses \"Mission brief complete\" or equivalent\n- [ ] Expert-facing sharp lines preserved (\"that's thin, give me something I can work with\")\n- [ ] No military jargon beyond gentle flavor\n\n## Scope\nFiles: 1 (src/commands/squadron.ejs ‚Äî after Unit 1 rename)\n\n## Parent\nreaper-p7c\n\n[Auto-added by verification]\n## Work Type\n`agent_prompt` (EJS command template in src/commands/)\n\n## Cross-Issue Awareness\nThis unit edits the file renamed in Unit 1 (reaper-o49). Unit 1 must complete first to avoid file-not-found errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T11:27:52.917799-08:00","created_by":"ryan","updated_at":"2026-02-06T11:51:01.480083-08:00","closed_at":"2026-02-06T11:51:01.480083-08:00","close_reason":"Squadron re-theme complete and merged to develop","dependencies":[{"issue_id":"reaper-yg5","depends_on_id":"reaper-o49","type":"blocks","created_at":"2026-02-06T11:27:59.463157-08:00","created_by":"ryan"},{"issue_id":"reaper-yg5","depends_on_id":"reaper-p7c","type":"parent-child","created_at":"2026-02-06T11:29:10.937324-08:00","created_by":"ryan"}]}
{"id":"reaper-yo96","title":"Restrict autonomous remediation in branch-manager","description":"## Objective\nPrevent branch-manager from autonomously fixing problems that should be escalated to the orchestrator. The agent currently deletes files it deems junk, stashes files it did not create, and bypasses pre-commit hooks ‚Äî all in an attempt to make commits succeed. Failure is a valid outcome; the orchestrator (not the agent) decides how to respond to failures.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write contract tests asserting that agents/branch-manager.md prohibits --no-verify/hook bypass, prohibits autonomous git stash, and requires stop-and-report behavior on failure\n2. GREEN: Edit src/agents/branch-manager.ejs to make those contracts pass\n3. BLUE: Verify no unintended side effects on related contract tests\n\n## Acceptance Criteria\n- [ ] Safety Protocol #7 changed: staged artifact detection reports blocking issue and stops ‚Äî no autonomous unstage or .gitignore modification\n- [ ] Explicit prohibition added: never run git stash / git stash pop on files the agent did not create\n- [ ] Explicit prohibition added: never use --no-verify, HUSKY=0, -n, or any hook-bypass mechanism; hook failure = real failure to report\n- [ ] Explicit prohibition added: never delete or move files beyond what the orchestrator directed\n- [ ] Stop-and-report doctrine added: when any operation fails or repo is in unexpected state, return status: error with details ‚Äî do not self-remediate\n- [ ] Contract tests added covering all four prohibitions above\n- [ ] All 681+ existing tests continue to pass\n- [ ] npm run build produces clean output with no unintended side effects\n\n## Scope\nFiles: src/agents/branch-manager.ejs, scripts/contracts.test.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T20:22:32.179421-08:00","created_by":"ryan","updated_at":"2026-02-19T20:53:39.581864-08:00","closed_at":"2026-02-19T20:53:39.581864-08:00","close_reason":"Safety Protocols #7-#11 added. Stop-and-report doctrine implemented. Protocol #8 rewritten as positive hook-respect instruction. Merged to develop at dc0219c."}
{"id":"reaper-ypq","title":"Add The Five Keys core values to CLAUDE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T12:22:39.0238-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:51.230419-08:00","closed_at":"2026-02-06T12:22:51.230419-08:00","close_reason":"Five Keys values added to CLAUDE.md"}
{"id":"reaper-yqe","title":"Add progress tracking via TaskCreate integration","description":"## Objective\nAdd Progress Tracking section. At session start, create TaskCreate items: Assemble panel, Gather positions, Route tensions, PO debrief, Compile brief. Update status at each stage transition. Follow flight-plan's TaskCreate pattern.\n\n## TDD Approach\n1. RED: Write test for progress tracking section\n2. GREEN: Add section to template\n3. BLUE: Refactor\n\n## Acceptance Criteria\n- [ ] Progress Tracking section added\n- [ ] 5 TaskCreate items with naming and activeForm\n- [ ] TaskUpdate instructions for in_progress/completed\n- [ ] Consistent with flight-plan TaskCreate pattern\n- [ ] Positioned early in template (before INTAKE)\n- [ ] Template builds without errors\n\n## Scope\nFiles: src/commands/squadron.ejs\nTemplate Section: Progress Tracking (new section, early in template)\nEstimated Location: Lines 50-100 (before INTAKE flow begins)\n\n## Parent\nreaper-hyh","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T15:57:59.073065-08:00","created_by":"ryan","updated_at":"2026-02-06T16:42:30.194219-08:00","closed_at":"2026-02-06T16:42:30.194219-08:00","close_reason":"Closed"}
{"id":"reaper-yuii","title":"Layered task system detection via commit history analysis","description":"## Summary\n\nReplace the current naive task system detection in `task-system-operations.ejs` with a layered detection strategy that prioritizes permission-free signals (commit history, env vars, filesystem) over CLI invocations that may trigger user permission prompts.\n\n## Problem\n\nThe current detection logic (lines 5-8 of `src/partials/task-system-operations.ejs`) has three issues:\n\n1. **Beads detection is fragile** ‚Äî only checks for `.beads/` in project root, but `BEADS_DIR` env var can relocate the database to an arbitrary path\n2. **CLI checks may trigger permission prompts** ‚Äî checking for `acli` availability runs a shell command that Claude Code may ask the user to approve, creating friction\n3. **GitHub Issues not supported** ‚Äî projects using GH Issues fall straight through to markdown-only mode despite having a perfectly good task system\n\n## Solution: Layered Detection\n\nImplement a 3-layer detection chain where each layer is only invoked if prior layers are inconclusive.\n\n### Layer 1: Commit History Pattern Scan (zero permission prompts)\n\nRun `git log --format=\"%B\" -30` and scan commit bodies for issue reference patterns:\n\n| System | Pattern | Examples |\n|--------|---------|----------|\n| Beads | `(Ref:\\|Closes\\|Resolves)\\s+\\w+-[a-f0-9]{2,}` | `Ref: reaper-a3f`, `Closes myapp-bc12` |\n| Jira | `(Ref:\\|Fixes\\|Closes\\|Resolves)\\s+[A-Z]{2,}-\\d+` | `Ref: PROJ-123`, `Fixes ENG-456` |\n| GitHub Issues | `(Fixes\\|Closes\\|Resolves)\\s+#\\d+` | `Fixes #456`, `Closes #42` |\n\n**Confidence threshold**: 3+ matches of the same system type = strong signal. The pattern must be universal ‚Äî do NOT try to detect or store the specific Beads prefix (e.g. `reaper-`). Only identify the system shape.\n\n**Disambiguation**: Jira (`PROJ-123`) and Linear (`ENG-123`) share the same pattern shape. GitHub Issues (`#123`) and GitLab Issues (`#123`) also overlap. Disambiguation happens in Layer 2 using the remote URL or filesystem markers.\n\n### Layer 2: Filesystem \u0026 Environment (zero permission prompts)\n\n- **Beads**: Check `$BEADS_DIR` env var first (authoritative if set ‚Äî the database is wherever it points). If unset, check `.beads/` in project root (the default location). Either signal confirms Beads.\n- **GitHub vs GitLab**: Parse `git remote get-url origin` ‚Äî `github.com` in URL confirms GitHub Issues; `gitlab.com` confirms GitLab Issues.\n- **Jira vs Linear**: Check for `.linear/` directory or similar config markers.\n\nThis layer confirms or disambiguates Layer 1 results.\n\n### Layer 3: CLI Confirmation (may trigger prompts ‚Äî last resort only)\n\nOnly invoke when Layers 1-2 are ambiguous or produce no signal:\n\n- **Beads**: `bd status` ‚Äî exit code 0 = active Beads project\n- **GitHub**: `gh issue list --limit 1` ‚Äî confirms GH Issues are enabled on the repo\n- **Jira**: `acli` availability check\n\n### Fallback Chain\n\n```\nCommit patterns found (3+ matches)?\n  ‚îú‚îÄ Yes ‚Üí Confirm with Layer 2 ‚Üí DONE (high confidence)\n  ‚îú‚îÄ Mixed/ambiguous ‚Üí Layer 2 disambiguation ‚Üí Layer 3 if still unclear\n  ‚îî‚îÄ No patterns ‚Üí Layer 2 ‚Üí Layer 3 ‚Üí markdown_only\n```\n\n## Files to Modify\n\n- **`src/partials/task-system-operations.ejs`** ‚Äî Replace the current 3-line detection heuristic (lines 3-8) with the full layered detection algorithm\n- **`src/commands/flight-plan.ejs`** ‚Äî Verify it correctly consumes the new detection (may need no changes if the partial's interface stays the same)\n- **`src/commands/takeoff.ejs`** ‚Äî Same verification\n- **`src/commands/ship.ejs`** ‚Äî Consider whether ship's separate task ID regex (lines 91-116) should reference the centralized patterns\n- **`src/agents/workflow-planner.ejs`** ‚Äî Same verification\n\n## Acceptance Criteria\n\n- [ ] Layer 1 (commit history scan) is the primary detection method and runs with zero permission prompts\n- [ ] Beads detection checks `$BEADS_DIR` env var before falling back to `.beads/` directory\n- [ ] GitHub Issues detected as a task system (new capability)\n- [ ] CLI-based checks (`bd status`, `gh`, `acli`) only invoked when passive detection is inconclusive\n- [ ] `TASK_SYSTEM` output values remain compatible: at minimum Beads, Jira, GitHub, markdown_only\n- [ ] All existing consumers (flight-plan, takeoff, workflow-planner) work without breaking changes\n- [ ] Detection instructions are clear enough that the LLM can execute them deterministically","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-11T20:37:20.248866-08:00","created_by":"ryan","updated_at":"2026-02-11T20:57:38.652781-08:00","closed_at":"2026-02-11T20:57:38.652781-08:00","close_reason":"Layered task system detection implemented and merged to develop (f89465b)"}
{"id":"reaper-ywn","title":"Fix takeoff to always complete full task trees","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T11:45:14.436067-08:00","created_by":"ryan","updated_at":"2026-02-06T12:22:42.421044-08:00","closed_at":"2026-02-06T12:22:42.421044-08:00","close_reason":"Closed"}
{"id":"reaper-z6l","title":"Revert to commands from skills","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T12:45:56.768521-08:00","created_by":"ryan","updated_at":"2026-01-18T12:46:32.496075-08:00","closed_at":"2026-01-18T12:46:32.496075-08:00","close_reason":"Reverted to commands"}
{"id":"reaper-z6s2","title":"Shield user workspace from branch-manager merge operations","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T19:52:13.569139-08:00","created_by":"ryan","updated_at":"2026-02-19T20:22:02.742071-08:00","closed_at":"2026-02-19T20:22:02.742071-08:00","close_reason":"Closed"}
{"id":"reaper-z6s2.1","title":"Fix large_multi_worktree merge step to use isolated integration worktree","description":"## Objective\nReplace the root-worktree-touching merge step in branch-manager's large_multi_worktree workflow with an isolated integration worktree pattern that never switches the root branch or creates conflicts in user space.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Write failing contract tests asserting branch-manager's merge steps never issue 'git checkout' without a 'git -C ./trees/' scope, and that root's branch is never switched during merge operations\n2. GREEN: Update src/agents/branch-manager.ejs to replace 'git checkout X \u0026\u0026 git merge Y' with the temp branch + isolated worktree pattern\n3. BLUE: Refactor safety rule #5 wording to clarify root navigation is only valid for teardown, never for merge operations\n\n## Acceptance Criteria\n- [ ] branch-manager never runs git checkout in root context during merge operations\n- [ ] Merge conflicts surface in ./trees/TASK-ID-integration, not in root working tree\n- [ ] On merge success, git branch -f advances the target branch ref without touching root files\n- [ ] Temp integration worktree and branch are cleaned up after each merge\n- [ ] Safety rule #5 updated to separate teardown navigation from merge operations\n- [ ] Contract tests pass asserting the isolation invariant\n- [ ] All 900+ tests pass\n- [ ] Code coverage meets 70% threshold\n\n## Scope\nFiles: src/agents/branch-manager.ejs, scripts/contracts.test.js\n\n## Pattern Reference\nThe replacement pattern:\n  git branch integration-temp feature/[TASK_ID]-review\n  git worktree add ./trees/[TASK_ID]-integration integration-temp\n  git -C ./trees/[TASK_ID]-integration merge feature/[TASK_ID]-[COMPONENT] --no-ff\n  # On success:\n  git branch -f feature/[TASK_ID]-review integration-temp\n  # Cleanup:\n  git worktree remove ./trees/[TASK_ID]-integration \u0026\u0026 git branch -d integration-temp","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T19:52:27.70079-08:00","created_by":"ryan","updated_at":"2026-02-19T20:16:25.764086-08:00","closed_at":"2026-02-19T20:16:25.764086-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-z6s2.1","depends_on_id":"reaper-z6s2","type":"parent-child","created_at":"2026-02-19T19:52:27.720782-08:00","created_by":"ryan"}]}
{"id":"reaper-z6s2.2","title":"Write ADR-0013: isolated integration worktree for branch-manager merges","description":"## Objective\nDocument the architectural decision to use a temp branch + isolated worktree pattern for branch-manager merge operations, replacing the conventional git checkout approach.\n\n## TDD Approach\nNo TDD required ‚Äî this is a documentation task.\n\n## Acceptance Criteria\n- [ ] docs/adr/0013-isolated-merge-worktree.md created and committed\n- [ ] ADR documents the context (root worktree disturbance problem)\n- [ ] ADR documents the decision (temp branch + worktree vs git merge-tree)\n- [ ] ADR documents why git merge-tree was rejected (Git 2.38+ requirement, compatibility)\n- [ ] ADR explains the convention that all future branch-manager merge steps must follow this pattern\n\n## Scope\nFiles: docs/adr/0013-isolated-merge-worktree.md","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-19T19:52:34.480454-08:00","created_by":"ryan","updated_at":"2026-02-19T20:22:02.738843-08:00","closed_at":"2026-02-19T20:22:02.738843-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-z6s2.2","depends_on_id":"reaper-z6s2","type":"parent-child","created_at":"2026-02-19T19:52:34.486088-08:00","created_by":"ryan"},{"issue_id":"reaper-z6s2.2","depends_on_id":"reaper-z6s2.1","type":"blocks","created_at":"2026-02-19T19:52:36.958849-08:00","created_by":"ryan"}]}
{"id":"reaper-zgb3","title":"ADR-0004: Description field as sole invocation contract","status":"closed","priority":4,"issue_type":"task","created_at":"2026-02-18T16:45:08.439981-08:00","created_by":"ryan","updated_at":"2026-02-18T16:46:32.845916-08:00","closed_at":"2026-02-18T16:46:32.845916-08:00","close_reason":"ADR written and committed"}
{"id":"reaper-zjc","title":"Add departure and landing cards to ship","description":"## Objective\nModify src/commands/ship.ejs to include visual-vocabulary partial with context: ship. Add compact landing card with runway divider and pipeline step gauges.\n\n## TDD Approach\n1. RED: Write test verifying ship output contains landing card structure\n2. GREEN: Add partial include and card templates to ship.ejs\n3. BLUE: Refactor for compact transactional output style\n\n## Deliverables\n- Landing card with ‚îÅ‚îÅ‚îÅ runway divider after LANDED header\n- Flight metadata: flight number, PR number, branch route, cargo stats (commits, files)\n- Pipeline step gauges: Commit/Push/PR with real-time status bars\n- Ship is transactional ‚Äî cards are compact, no narrator voice\n\n## Card Mockup (from squadron brief)\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ  LANDED ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ\n  ‚îÇ  Flight: RPR-042    PR: #187                ‚îÇ\n  ‚îÇ  Branch: feature/oauth-refresh ‚Üí develop    ‚îÇ\n  ‚îÇ  Cargo:  3 commits, 7 files                 ‚îÇ\n  ‚îÇ                                             ‚îÇ\n  ‚îÇ  Commit  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED                 ‚îÇ\n  ‚îÇ  Push    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED                 ‚îÇ\n  ‚îÇ  PR      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  LANDED                 ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n## Acceptance Criteria\n- [ ] Landing card renders with flight metadata and cargo stats\n- [ ] Pipeline steps show gauge bars (Commit/Push/PR)\n- [ ] ‚îÅ‚îÅ‚îÅ runway divider renders after LANDED header\n- [ ] npm run build succeeds\n- [ ] reaper:ai-prompt-engineer review passes\n\n## Scope\nFiles: src/commands/ship.ejs\n\nRef: reaper-772\n\n[Auto-added by verification]\n## Orchestration Metadata\n- work_type: agent_prompt\n- agent: reaper:feature-developer\n- parallel_group: group-parallel-commands (runs concurrently with reaper-7rn, reaper-csn, reaper-7gt)\n- cross_references: Parallel siblings modify different command templates but share the same visual-vocabulary partial (reaper-7sb). No file overlap. All must complete before reaper-e2p (test updates).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:15:17.557396-08:00","created_by":"ryan","updated_at":"2026-02-06T19:03:42.216276-08:00","closed_at":"2026-02-06T19:03:42.216276-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zjc","depends_on_id":"reaper-7sb","type":"blocks","created_at":"2026-02-06T18:15:42.859965-08:00","created_by":"ryan"},{"issue_id":"reaper-zjc","depends_on_id":"reaper-7rn","type":"relates-to","created_at":"2026-02-06T18:17:14.287512-08:00","created_by":"ryan"},{"issue_id":"reaper-zjc","depends_on_id":"reaper-csn","type":"relates-to","created_at":"2026-02-06T18:17:16.105511-08:00","created_by":"ryan"},{"issue_id":"reaper-zjc","depends_on_id":"reaper-7gt","type":"relates-to","created_at":"2026-02-06T18:17:17.292907-08:00","created_by":"ryan"},{"issue_id":"reaper-zjc","depends_on_id":"reaper-772","type":"parent-child","created_at":"2026-02-06T18:37:09.626999-08:00","created_by":"ryan"}]}
{"id":"reaper-zn5e","title":"Remove unconditional plan file writing from flight-plan","description":"flight-plan.ejs currently writes a plan file unconditionally (Phase 0 + Phase 3) for all task systems. The goal is to remove this ‚Äî for Beads/Jira/GitHub the plan lives only in-conversation; for markdown_only the issue-tracker-planfile skill handles all file creation via CREATE_ISSUE. See plan: .claude/plans/reaper-remove-flight-plan-planfile.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T17:10:38.528147-08:00","created_by":"ryan","updated_at":"2026-02-19T17:35:09.812949-08:00","closed_at":"2026-02-19T17:35:09.812949-08:00","close_reason":"Closed"}
{"id":"reaper-zn5e.1","title":"Update contracts.test.js for new flight-plan behavior","description":"## Objective\nUpdate contract tests so they reflect the new flight-plan behavior (no unconditional plan file writing).\n\n## Work Type\ntest_code\n\n## Agent\nreaper:bug-fixer (TDD Red phase ‚Äî update contracts to expect new behavior)\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Update the /Plan File/i semantic contract ‚Äî replace with a pattern that fits the new in-conversation briefing (e.g., check for 'Flight Briefing' section or remove the plan file requirement entirely). Tests should fail against the current flight-plan.ejs.\n2. GREEN: Contracts pass once flight-plan.ejs is updated in WU2.\n3. BLUE: Confirm no other contract assertions were inadvertently broken.\n\n## Acceptance Criteria\n- [ ] /Plan File/i contract updated or replaced to match new flight-plan structure\n- [ ] No contracts reference the unconditional plan file write behavior\n- [ ] All other flight-plan contracts remain intact\n\n## Scope\nFiles: scripts/contracts.test.js\n\n[Auto-added by verification] Work type: test_code. Agent: reaper:bug-fixer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:10:53.63747-08:00","created_by":"ryan","updated_at":"2026-02-19T17:21:18.71368-08:00","closed_at":"2026-02-19T17:21:18.71368-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zn5e.1","depends_on_id":"reaper-zn5e","type":"parent-child","created_at":"2026-02-19T17:10:53.642596-08:00","created_by":"ryan"}]}
{"id":"reaper-zn5e.2","title":"Refactor flight-plan.ejs ‚Äî remove plan file writing","description":"## Objective\nRemove all remnants of unconditional plan file writing from flight-plan.ejs.\n\n## Work Type\nagent_prompt\n\n## Agent\nreaper:feature-developer\n\n## TDD Approach\n1. RED: Contracts from WU1 fail against current file.\n2. GREEN: Apply the following surgical changes:\n   - Remove line 7: 'This command manages its own planning workflow and plan file output.' (update to drop 'and plan file output')\n   - Remove Phase 0 (lines 11-15): the plan-file-schema partial include with mode='writer'\n   - Replace Phase 3 'Write Initial Plan to File' with 'Present Flight Briefing' ‚Äî in-conversation presentation only, no Write tool\n   - Update Phase 4 refinement: remove Edit tool on plan file, replace with in-conversation re-presentation of the updated briefing\n   - Remove 'The plan file is now the source of truth' line (line 288)\n   - Update markdown_only mode note: plan file created during issue creation (Phase 5 via skill), not Phase 3\n3. BLUE: Verify generated commands/flight-plan.md looks clean after build.\n\n## Acceptance Criteria\n- [ ] No Write tool calls to plan file for Beads/Jira/GitHub task systems\n- [ ] Flight briefing is presented in-conversation (markdown output, no file)\n- [ ] Phase 4 refinement works without a plan file (in-conversation only)\n- [ ] markdown_only mode correctly delegates file creation to Phase 5 / planfile skill\n\n## Cross-references\n- Related: reaper-zn5e.4 (removes writer branch from plan-file-schema.ejs after this WU removes the include)\n- Parallel with: reaper-zn5e.3 (no file overlap)\n\n## Scope\nFiles: src/commands/flight-plan.ejs\n\n[Auto-added by verification] Work type: agent_prompt. Agent: reaper:feature-developer. Cross-reference added for reaper-zn5e.4 (writer branch cleanup).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:11:02.511793-08:00","created_by":"ryan","updated_at":"2026-02-19T17:27:04.715792-08:00","closed_at":"2026-02-19T17:27:04.715792-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zn5e.2","depends_on_id":"reaper-zn5e","type":"parent-child","created_at":"2026-02-19T17:11:02.525282-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.2","depends_on_id":"reaper-zn5e.1","type":"blocks","created_at":"2026-02-19T17:11:22.61702-08:00","created_by":"ryan"}]}
{"id":"reaper-zn5e.3","title":"Update issue-tracker-planfile skill to create plan file on first CREATE_ISSUE","description":"## Objective\nThe issue-tracker-planfile skill currently assumes a plan file already exists (flight-plan Phase 3 created it). After removing Phase 3's unconditional write, the skill must handle file creation on the first CREATE_ISSUE (type=epic).\n\n## Work Type\nagent_prompt\n\n## Agent\nreaper:feature-developer\n\n## TDD Approach\n1. RED: Tests/contracts verify skill describes CREATE_ISSUE for epic as 'create plan file with skeleton if not exists, then populate'.\n2. GREEN: Update SKILL.ejs:\n   - CREATE_ISSUE (type=epic): check if plan file exists; if not, create it with full skeleton (# Plan, ## Input, ## Research, ## Strategy, ## Work Units table, ## Dependencies); populate title and Input section from epic description\n   - CREATE_ISSUE (child): existing behavior (append row) unchanged, but clarify file must exist first\n3. BLUE: Schema stays identical ‚Äî just the entry point for file creation moves from flight-plan to the skill.\n\n## Acceptance Criteria\n- [ ] CREATE_ISSUE for epic creates plan file skeleton if it doesn't exist\n- [ ] Subsequent CREATE_ISSUE (child) still appends rows to Work Units table\n- [ ] SKILL.ejs documents this create-on-first-call behavior clearly\n\n## Cross-references\n- Parallel with: reaper-zn5e.2 (no file overlap ‚Äî this touches SKILL.ejs, WU2 touches flight-plan.ejs)\n\n## Scope\nFiles: src/skills/issue-tracker-planfile/SKILL.ejs\n\n[Auto-added by verification] Work type: agent_prompt. Agent: reaper:feature-developer. Cross-reference added for reaper-zn5e.2 (parallel execution, no overlap).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:11:09.429736-08:00","created_by":"ryan","updated_at":"2026-02-19T17:27:04.722211-08:00","closed_at":"2026-02-19T17:27:04.722211-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zn5e.3","depends_on_id":"reaper-zn5e","type":"parent-child","created_at":"2026-02-19T17:11:09.438001-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.3","depends_on_id":"reaper-zn5e.1","type":"blocks","created_at":"2026-02-19T17:11:22.681772-08:00","created_by":"ryan"}]}
{"id":"reaper-zn5e.4","title":"Remove writer branch from plan-file-schema.ejs partial","description":"## Objective\nThe mode='writer' branch in src/partials/plan-file-schema.ejs is dead code after flight-plan.ejs is refactored. Remove it.\n\n## Work Type\nagent_prompt\n\n## Agent\nreaper:refactoring-dev\n\n## TDD Approach\n1. RED: After WU2 removes the include from flight-plan.ejs, the writer branch is unused. Confirm no other file includes plan-file-schema with mode='writer'.\n2. GREEN: Remove the writer branch from the EJS conditional. Keep only the reader branch (used by takeoff.ejs).\n3. BLUE: Run build to confirm takeoff.ejs still generates correctly with the reader branch intact.\n\n## Acceptance Criteria\n- [ ] mode='writer' branch removed from plan-file-schema.ejs\n- [ ] Reader branch (used by takeoff) unchanged and still generates correctly\n- [ ] No broken EJS includes after removal\n\n## Cross-references\n- Depends on: reaper-zn5e.2 (which removes the include that references the writer branch)\n\n## Scope\nFiles: src/partials/plan-file-schema.ejs\n\n[Auto-added by verification] Work type: agent_prompt. Agent: reaper:refactoring-dev (dead code removal). Cross-reference added for reaper-zn5e.2.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:11:19.100015-08:00","created_by":"ryan","updated_at":"2026-02-19T17:30:09.234199-08:00","closed_at":"2026-02-19T17:30:09.234199-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zn5e.4","depends_on_id":"reaper-zn5e","type":"parent-child","created_at":"2026-02-19T17:11:19.110353-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.4","depends_on_id":"reaper-zn5e.2","type":"blocks","created_at":"2026-02-19T17:11:22.744547-08:00","created_by":"ryan"}]}
{"id":"reaper-zn5e.5","title":"Build and verify full test suite passes","description":"## Objective\nAfter all source changes, run the full build and test suite to confirm everything is green.\n\n## Work Type\ntest_code\n\n## Agent\nreaper:test-runner\n\n## Steps\n1. Run npm run build ‚Äî verify all templates compile\n2. Run npm test ‚Äî verify all 681+ tests pass including contract tests\n3. Confirm coverage threshold met (70%+)\n\n## Acceptance Criteria\n- [ ] npm run build exits 0\n- [ ] All tests pass\n- [ ] Coverage \u003e= 70%\n- [ ] Generated commands/flight-plan.md reflects new in-conversation-only behavior\n\n## Scope\nFiles: build output (commands/flight-plan.md, skills/issue-tracker-planfile/SKILL.md, hooks/hooks.json)\n\n[Auto-added by verification] Work type: test_code. Agent: reaper:test-runner. Renamed TDD Approach to Steps (this is a validation task, not a TDD task).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T17:11:19.207916-08:00","created_by":"ryan","updated_at":"2026-02-19T17:32:02.566943-08:00","closed_at":"2026-02-19T17:32:02.566943-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zn5e.5","depends_on_id":"reaper-zn5e","type":"parent-child","created_at":"2026-02-19T17:11:19.208743-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.5","depends_on_id":"reaper-zn5e.2","type":"blocks","created_at":"2026-02-19T17:11:22.807238-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.5","depends_on_id":"reaper-zn5e.3","type":"blocks","created_at":"2026-02-19T17:11:22.868252-08:00","created_by":"ryan"},{"issue_id":"reaper-zn5e.5","depends_on_id":"reaper-zn5e.4","type":"blocks","created_at":"2026-02-19T17:11:22.929083-08:00","created_by":"ryan"}]}
{"id":"reaper-zxzl","title":"Update CLAUDE.md docs and contract tests","description":"## Objective\nUpdate CLAUDE.md project structure section to reflect that scripts now live in src/skills/*/scripts/. Verify contracts.test.js doesn't assert on source file locations. Update any doc references that imply scripts are in skills/ rather than src/skills/.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Review contracts.test.js for any assertions about script source paths\n2. GREEN: Update CLAUDE.md and any failing contract tests\n3. BLUE: Run full test suite to confirm 681 tests pass\n\n## Acceptance Criteria\n- [ ] CLAUDE.md project structure table updated to show src/skills/*/scripts/ as source location\n- [ ] contracts.test.js passes without modification (or is updated if needed)\n- [ ] All 681 tests pass\n- [ ] npm run build is clean with no warnings\n\n## Scope\nFiles: CLAUDE.md, scripts/contracts.test.js (read for verification)\n\nRef: reaper-cz55","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T13:12:22.508882-08:00","created_by":"ryan","updated_at":"2026-02-18T17:25:09.645088-08:00","closed_at":"2026-02-18T17:25:09.645088-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zxzl","depends_on_id":"reaper-h70m","type":"blocks","created_at":"2026-02-18T13:12:25.461556-08:00","created_by":"ryan"},{"issue_id":"reaper-zxzl","depends_on_id":"reaper-bhf9","type":"blocks","created_at":"2026-02-18T13:12:25.574269-08:00","created_by":"ryan"}]}
{"id":"reaper-zzbw","title":"Set up ESLint and Prettier","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T21:04:12.720222-08:00","created_by":"ryan","updated_at":"2026-02-20T21:36:53.447958-08:00","closed_at":"2026-02-20T21:36:53.447958-08:00","close_reason":"Closed"}
{"id":"reaper-zzbw.1","title":"Configure ESLint for scripts/","description":"## Objective\nInstall ESLint and create a flat config (eslint.config.js) targeting the scripts/ directory. Fix any existing lint violations in the 8 JS files.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run eslint with new config and document all existing violations\n2. GREEN: Fix violations so all files pass linting\n3. BLUE: Tighten rules if any are too loose after reviewing output\n\n## Acceptance Criteria\n- [ ] ESLint installed as devDependency\n- [ ] eslint.config.js created with Node.js/CommonJS rules targeting scripts/\n- [ ] npm run lint script added to package.json\n- [ ] All scripts/*.js files pass linting with zero errors\n- [ ] EJS templates and generated files are excluded from lint scope\n\n## Scope\nFiles: package.json, eslint.config.js (new), scripts/*.js (fix violations)\n\n[Auto-added by verification] Cross-issue note: eslint.config.js created here will also be modified by reaper-zzbw.2 (Configure Prettier) to add eslint-config-prettier. Ensure the config structure is extensible (array-based flat config) so that reaper-zzbw.2 can append the prettier entry without conflict.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T21:04:20.784702-08:00","created_by":"ryan","updated_at":"2026-02-20T21:24:13.695507-08:00","closed_at":"2026-02-20T21:24:13.695507-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zzbw.1","depends_on_id":"reaper-zzbw","type":"parent-child","created_at":"2026-02-20T21:04:20.792812-08:00","created_by":"ryan"}]}
{"id":"reaper-zzbw.2","title":"Configure Prettier","description":"## Objective\nInstall Prettier and eslint-config-prettier. Create a .prettierrc config and add a format script. The eslint-config-prettier package disables ESLint formatting rules that conflict with Prettier's output.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Run prettier --check on scripts/ to identify formatting drift\n2. GREEN: Run prettier --write to format all files; verify eslint still passes after formatting\n3. BLUE: Confirm eslint-config-prettier is active and no rule conflicts remain\n\n## Acceptance Criteria\n- [ ] Prettier installed as devDependency\n- [ ] eslint-config-prettier installed as devDependency\n- [ ] .prettierrc created with 2-space indent, single quotes, trailing commas (ES5)\n- [ ] npm run format script added to package.json\n- [ ] eslint.config.js updated to include prettier config (disables conflicting rules)\n- [ ] All scripts/*.js files pass both eslint and prettier --check\n\n## Scope\nFiles: package.json, .prettierrc (new), eslint.config.js (update to add prettier compat)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T21:04:28.316217-08:00","created_by":"ryan","updated_at":"2026-02-20T21:31:42.386633-08:00","closed_at":"2026-02-20T21:31:42.386633-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zzbw.2","depends_on_id":"reaper-zzbw","type":"parent-child","created_at":"2026-02-20T21:04:28.326051-08:00","created_by":"ryan"},{"issue_id":"reaper-zzbw.2","depends_on_id":"reaper-zzbw.1","type":"blocks","created_at":"2026-02-20T21:04:36.953406-08:00","created_by":"ryan"}]}
{"id":"reaper-zzbw.3","title":"Wire linting into pre-commit hook and quality gate","description":"## Objective\nIntegrate npm run lint into the husky pre-commit hook so linting runs automatically before every commit. Update the CLAUDE.md quality gate from 'skip' to 'npm run lint'.\n\n## TDD Approach\nFollow Red-Green-Blue cycle:\n1. RED: Intentionally introduce a lint error, attempt a commit, verify it fails\n2. GREEN: Fix the error; verify commit succeeds with hook passing\n3. BLUE: Confirm hook order is sensible (linting before or after tests)\n\n## Acceptance Criteria\n- [ ] npm run lint added to .husky/pre-commit\n- [ ] CLAUDE.md lint command updated from 'skip' to 'npm run lint'\n- [ ] Pre-commit hook fails fast on lint errors before running tests\n- [ ] Existing pre-commit test + build + contract sequence still works\n\n## Scope\nFiles: .husky/pre-commit, CLAUDE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-20T21:04:34.399576-08:00","created_by":"ryan","updated_at":"2026-02-20T21:35:05.057607-08:00","closed_at":"2026-02-20T21:35:05.057607-08:00","close_reason":"Closed","dependencies":[{"issue_id":"reaper-zzbw.3","depends_on_id":"reaper-zzbw","type":"parent-child","created_at":"2026-02-20T21:04:34.407413-08:00","created_by":"ryan"},{"issue_id":"reaper-zzbw.3","depends_on_id":"reaper-zzbw.2","type":"blocks","created_at":"2026-02-20T21:04:37.021761-08:00","created_by":"ryan"}]}
